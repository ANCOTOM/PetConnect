function XR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function jE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vm={exports:{}},Ac={},Fm={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function JR(){if(Z0)return Qe;Z0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function R($,Z,re){this.props=$,this.context=Z,this.refs=b,this.updater=re||T}R.prototype.isReactComponent={},R.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function O(){}O.prototype=R.prototype;function M($,Z,re){this.props=$,this.context=Z,this.refs=b,this.updater=re||T}var U=M.prototype=new O;U.constructor=M,A(U,R.prototype),U.isPureReactComponent=!0;var H=Array.isArray,Q=Object.prototype.hasOwnProperty,te={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C($,Z,re){var fe,ye={},Se=null,ie=null;if(Z!=null)for(fe in Z.ref!==void 0&&(ie=Z.ref),Z.key!==void 0&&(Se=""+Z.key),Z)Q.call(Z,fe)&&!D.hasOwnProperty(fe)&&(ye[fe]=Z[fe]);var ge=arguments.length-2;if(ge===1)ye.children=re;else if(1<ge){for(var De=Array(ge),Oe=0;Oe<ge;Oe++)De[Oe]=arguments[Oe+2];ye.children=De}if($&&$.defaultProps)for(fe in ge=$.defaultProps,ge)ye[fe]===void 0&&(ye[fe]=ge[fe]);return{$$typeof:n,type:$,key:Se,ref:ie,props:ye,_owner:te.current}}function j($,Z){return{$$typeof:n,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function F($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(re){return Z[re]})}var z=/\/+/g;function P($,Z){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):Z.toString(36)}function q($,Z,re,fe,ye){var Se=typeof $;(Se==="undefined"||Se==="boolean")&&($=null);var ie=!1;if($===null)ie=!0;else switch(Se){case"string":case"number":ie=!0;break;case"object":switch($.$$typeof){case n:case e:ie=!0}}if(ie)return ie=$,ye=ye(ie),$=fe===""?"."+P(ie,0):fe,H(ye)?(re="",$!=null&&(re=$.replace(z,"$&/")+"/"),q(ye,Z,re,"",function(Oe){return Oe})):ye!=null&&(L(ye)&&(ye=j(ye,re+(!ye.key||ie&&ie.key===ye.key?"":(""+ye.key).replace(z,"$&/")+"/")+$)),Z.push(ye)),1;if(ie=0,fe=fe===""?".":fe+":",H($))for(var ge=0;ge<$.length;ge++){Se=$[ge];var De=fe+P(Se,ge);ie+=q(Se,Z,re,De,ye)}else if(De=E($),typeof De=="function")for($=De.call($),ge=0;!(Se=$.next()).done;)Se=Se.value,De=fe+P(Se,ge++),ie+=q(Se,Z,re,De,ye);else if(Se==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ie}function le($,Z,re){if($==null)return $;var fe=[],ye=0;return q($,fe,"","",function(Se){return Z.call(re,Se,ye++)}),fe}function K($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(re){($._status===0||$._status===-1)&&($._status=1,$._result=re)},function(re){($._status===0||$._status===-1)&&($._status=2,$._result=re)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var J={current:null},N={transition:null},G={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:N,ReactCurrentOwner:te};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:le,forEach:function($,Z,re){le($,function(){Z.apply(this,arguments)},re)},count:function($){var Z=0;return le($,function(){Z++}),Z},toArray:function($){return le($,function(Z){return Z})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Qe.Component=R,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=M,Qe.StrictMode=r,Qe.Suspense=f,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Qe.act=oe,Qe.cloneElement=function($,Z,re){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var fe=A({},$.props),ye=$.key,Se=$.ref,ie=$._owner;if(Z!=null){if(Z.ref!==void 0&&(Se=Z.ref,ie=te.current),Z.key!==void 0&&(ye=""+Z.key),$.type&&$.type.defaultProps)var ge=$.type.defaultProps;for(De in Z)Q.call(Z,De)&&!D.hasOwnProperty(De)&&(fe[De]=Z[De]===void 0&&ge!==void 0?ge[De]:Z[De])}var De=arguments.length-2;if(De===1)fe.children=re;else if(1<De){ge=Array(De);for(var Oe=0;Oe<De;Oe++)ge[Oe]=arguments[Oe+2];fe.children=ge}return{$$typeof:n,type:$.type,key:ye,ref:Se,props:fe,_owner:ie}},Qe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Qe.createElement=C,Qe.createFactory=function($){var Z=C.bind(null,$);return Z.type=$,Z},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function($){return{$$typeof:u,render:$}},Qe.isValidElement=L,Qe.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:K}},Qe.memo=function($,Z){return{$$typeof:m,type:$,compare:Z===void 0?null:Z}},Qe.startTransition=function($){var Z=N.transition;N.transition={};try{$()}finally{N.transition=Z}},Qe.unstable_act=oe,Qe.useCallback=function($,Z){return J.current.useCallback($,Z)},Qe.useContext=function($){return J.current.useContext($)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function($){return J.current.useDeferredValue($)},Qe.useEffect=function($,Z){return J.current.useEffect($,Z)},Qe.useId=function(){return J.current.useId()},Qe.useImperativeHandle=function($,Z,re){return J.current.useImperativeHandle($,Z,re)},Qe.useInsertionEffect=function($,Z){return J.current.useInsertionEffect($,Z)},Qe.useLayoutEffect=function($,Z){return J.current.useLayoutEffect($,Z)},Qe.useMemo=function($,Z){return J.current.useMemo($,Z)},Qe.useReducer=function($,Z,re){return J.current.useReducer($,Z,re)},Qe.useRef=function($){return J.current.useRef($)},Qe.useState=function($){return J.current.useState($)},Qe.useSyncExternalStore=function($,Z,re){return J.current.useSyncExternalStore($,Z,re)},Qe.useTransition=function(){return J.current.useTransition()},Qe.version="18.3.1",Qe}var e_;function mh(){return e_||(e_=1,Fm.exports=JR()),Fm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function ZR(){if(t_)return Ac;t_=1;var n=mh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,m){var y,g={},E=null,T=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(T=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(g[y]=f[y]);if(u&&u.defaultProps)for(y in f=u.defaultProps,f)g[y]===void 0&&(g[y]=f[y]);return{$$typeof:e,type:u,key:E,ref:T,props:g,_owner:o.current}}return Ac.Fragment=t,Ac.jsx=l,Ac.jsxs=l,Ac}var n_;function eA(){return n_||(n_=1,Vm.exports=ZR()),Vm.exports}var p=eA(),Xd={},Um={exports:{}},qn={},$m={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function tA(){return r_||(r_=1,(function(n){function e(N,G){var oe=N.length;N.push(G);e:for(;0<oe;){var $=oe-1>>>1,Z=N[$];if(0<o(Z,G))N[$]=G,N[oe]=Z,oe=$;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var G=N[0],oe=N.pop();if(oe!==G){N[0]=oe;e:for(var $=0,Z=N.length,re=Z>>>1;$<re;){var fe=2*($+1)-1,ye=N[fe],Se=fe+1,ie=N[Se];if(0>o(ye,oe))Se<Z&&0>o(ie,ye)?(N[$]=ie,N[Se]=oe,$=Se):(N[$]=ye,N[fe]=oe,$=fe);else if(Se<Z&&0>o(ie,oe))N[$]=ie,N[Se]=oe,$=Se;else break e}}return G}function o(N,G){var oe=N.sortIndex-G.sortIndex;return oe!==0?oe:N.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],m=[],y=1,g=null,E=3,T=!1,A=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(N){for(var G=t(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=N)r(m),G.sortIndex=G.expirationTime,e(f,G);else break;G=t(m)}}function H(N){if(b=!1,U(N),!A)if(t(f)!==null)A=!0,K(Q);else{var G=t(m);G!==null&&J(H,G.startTime-N)}}function Q(N,G){A=!1,b&&(b=!1,O(C),C=-1),T=!0;var oe=E;try{for(U(G),g=t(f);g!==null&&(!(g.expirationTime>G)||N&&!F());){var $=g.callback;if(typeof $=="function"){g.callback=null,E=g.priorityLevel;var Z=$(g.expirationTime<=G);G=n.unstable_now(),typeof Z=="function"?g.callback=Z:g===t(f)&&r(f),U(G)}else r(f);g=t(f)}if(g!==null)var re=!0;else{var fe=t(m);fe!==null&&J(H,fe.startTime-G),re=!1}return re}finally{g=null,E=oe,T=!1}}var te=!1,D=null,C=-1,j=5,L=-1;function F(){return!(n.unstable_now()-L<j)}function z(){if(D!==null){var N=n.unstable_now();L=N;var G=!0;try{G=D(!0,N)}finally{G?P():(te=!1,D=null)}}else te=!1}var P;if(typeof M=="function")P=function(){M(z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,le=q.port2;q.port1.onmessage=z,P=function(){le.postMessage(null)}}else P=function(){R(z,0)};function K(N){D=N,te||(te=!0,P())}function J(N,G){C=R(function(){N(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){A||T||(A=!0,K(Q))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(N){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var oe=E;E=G;try{return N()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,G){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var oe=E;E=N;try{return G()}finally{E=oe}},n.unstable_scheduleCallback=function(N,G,oe){var $=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,N){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=oe+Z,N={id:y++,callback:G,priorityLevel:N,startTime:oe,expirationTime:Z,sortIndex:-1},oe>$?(N.sortIndex=oe,e(m,N),t(f)===null&&N===t(m)&&(b?(O(C),C=-1):b=!0,J(H,oe-$))):(N.sortIndex=Z,e(f,N),A||T||(A=!0,K(Q))),N},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(N){var G=E;return function(){var oe=E;E=G;try{return N.apply(this,arguments)}finally{E=oe}}}})(zm)),zm}var s_;function nA(){return s_||(s_=1,$m.exports=tA()),$m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function rA(){if(o_)return qn;o_=1;var n=mh(),e=nA();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function E(s){return f.call(g,s)?!0:f.call(y,s)?!1:m.test(s)?g[s]=!0:(y[s]=!0,!1)}function T(s,i,c,h){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,i,c,h){if(i===null||typeof i>"u"||T(s,i,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(s,i,c,h,v,x,I){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=x,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];R[i]=new b(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(O,M);R[i]=new b(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(O,M);R[i]=new b(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(O,M);R[i]=new b(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,i,c,h){var v=R.hasOwnProperty(i)?R[i]:null;(v!==null?v.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(A(i,c,v,h)&&(c=null),h||v===null?E(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):v.mustUseProperty?s[v.propertyName]=c===null?v.type===3?!1:"":c:(i=v.attributeName,h=v.attributeNamespace,c===null?s.removeAttribute(i):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,h?s.setAttributeNS(h,i,c):s.setAttribute(i,c))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),te=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),N=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,$;function Z(s){if($===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);$=i&&i[1]||""}return`
`+$+s}var re=!1;function fe(s,i){if(!s||re)return"";re=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ne){var h=ne}Reflect.construct(s,[],i)}else{try{i.call()}catch(ne){h=ne}s.call(i.prototype)}else{try{throw Error()}catch(ne){h=ne}s()}}catch(ne){if(ne&&h&&typeof ne.stack=="string"){for(var v=ne.stack.split(`
`),x=h.stack.split(`
`),I=v.length-1,V=x.length-1;1<=I&&0<=V&&v[I]!==x[V];)V--;for(;1<=I&&0<=V;I--,V--)if(v[I]!==x[V]){if(I!==1||V!==1)do if(I--,V--,0>V||v[I]!==x[V]){var B=`
`+v[I].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=I&&0<=V);break}}}finally{re=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function ye(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=fe(s.type,!1),s;case 11:return s=fe(s.type.render,!1),s;case 1:return s=fe(s.type,!0),s;default:return""}}function Se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case te:return"Portal";case j:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case z:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case le:return i=s.displayName||null,i!==null?i:Se(s.type)||"Memo";case K:i=s._payload,s=s._init;try{return Se(s(i))}catch{}}return null}function ie(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(i);case 8:return i===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function De(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oe(s){var i=De(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,x=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return v.call(this)},set:function(I){h=""+I,x.call(this,I)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function He(s){s._valueTracker||(s._valueTracker=Oe(s))}function qe(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return s&&(h=De(s)?s.checked?"true":"false":s.value),s=h,s!==c?(i.setValue(s),!0):!1}function It(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ht(s,i){var c=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function hr(s,i){var c=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;c=ge(i.value!=null?i.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function pr(s,i){i=i.checked,i!=null&&U(s,"checked",i,!1)}function Cn(s,i){pr(s,i);var c=ge(i.value),h=i.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?gn(s,i.type,c):i.hasOwnProperty("defaultValue")&&gn(s,i.type,ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Ti(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function gn(s,i,c){(i!=="number"||It(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Pr=Array.isArray;function kr(s,i,c,h){if(s=s.options,i){i={};for(var v=0;v<c.length;v++)i["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=i.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&h&&(s[c].defaultSelected=!0)}else{for(c=""+ge(c),i=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}i!==null||s[v].disabled||(i=s[v])}i!==null&&(i.selected=!0)}}function Wt(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Zn(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(Pr(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:ge(c)}}function bo(s,i){var c=ge(i.value),h=ge(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function bi(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function xt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?xt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mr,Os=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,h,v){MSApp.execUnsafeLocalFunction(function(){return s(i,c,h,v)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Rn(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jn=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(s){jn.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),is[i]=is[s]})});function Ii(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||is.hasOwnProperty(s)&&is[s]?(""+i).trim():i+"px"}function Ci(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var h=c.indexOf("--")===0,v=Ii(c,i[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,v):s[c]=v}}var Io=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(s,i){if(i){if(Io[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ri(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function An(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ro=null,Mn=null,er=null;function js(s){if(s=pc(s)){if(typeof Ro!="function")throw Error(t(280));var i=s.stateNode;i&&(i=fd(i),Ro(s.stateNode,s.type,i))}}function je(s){Mn?er?er.push(s):er=[s]:Mn=s}function Et(){if(Mn){var s=Mn,i=er;if(er=Mn=null,js(s),i)for(s=0;s<i.length;s++)js(i[s])}}function St(s,i){return s(i)}function qt(){}var Ln=!1;function Ct(s,i,c){if(Ln)return s(i,c);Ln=!0;try{return St(s,i,c)}finally{Ln=!1,(Mn!==null||er!==null)&&(qt(),Et())}}function nt(s,i){var c=s.stateNode;if(c===null)return null;var h=fd(c);if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Dr=!1;if(u)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Dr=!1}function Gt(s,i,c,h,v,x,I,V,B){var ne=Array.prototype.slice.call(arguments,3);try{i.apply(c,ne)}catch(de){this.onError(de)}}var as=!1,Vn=null,gr=!1,Kl=null,fp={onError:function(s){as=!0,Vn=s}};function ba(s,i,c,h,v,x,I,V,B){as=!1,Vn=null,Gt.apply(fp,arguments)}function Lu(s,i,c,h,v,x,I,V,B){if(ba.apply(this,arguments),as){if(as){var ne=Vn;as=!1,Vn=null}else throw Error(t(198));gr||(gr=!0,Kl=ne)}}function Or(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function Ai(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function jr(s){if(Or(s)!==s)throw Error(t(188))}function Vu(s){var i=s.alternate;if(!i){if(i=Or(s),i===null)throw Error(t(188));return i!==s?null:s}for(var c=s,h=i;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return jr(v),s;if(x===h)return jr(v),i;x=x.sibling}throw Error(t(188))}if(c.return!==h.return)c=v,h=x;else{for(var I=!1,V=v.child;V;){if(V===c){I=!0,c=v,h=x;break}if(V===h){I=!0,h=v,c=x;break}V=V.sibling}if(!I){for(V=x.child;V;){if(V===c){I=!0,c=x,h=v;break}if(V===h){I=!0,h=x,c=v;break}V=V.sibling}if(!I)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:i}function Ql(s){return s=Vu(s),s!==null?Ia(s):null}function Ia(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Ia(s);if(i!==null)return i;s=s.sibling}return null}var Ca=e.unstable_scheduleCallback,Yl=e.unstable_cancelCallback,Fu=e.unstable_shouldYield,hp=e.unstable_requestPaint,mt=e.unstable_now,Uu=e.unstable_getCurrentPriorityLevel,Pi=e.unstable_ImmediatePriority,Ao=e.unstable_UserBlockingPriority,vr=e.unstable_NormalPriority,Xl=e.unstable_LowPriority,$u=e.unstable_IdlePriority,ki=null,tr=null;function zu(s){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ki,s,void 0,(s.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Hu,Jl=Math.log,Bu=Math.LN2;function Hu(s){return s>>>=0,s===0?32:31-(Jl(s)/Bu|0)|0}var Ra=64,Aa=4194304;function Po(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ni(s,i){var c=s.pendingLanes;if(c===0)return 0;var h=0,v=s.suspendedLanes,x=s.pingedLanes,I=c&268435455;if(I!==0){var V=I&~v;V!==0?h=Po(V):(x&=I,x!==0&&(h=Po(x)))}else I=c&~v,I!==0?h=Po(I):x!==0&&(h=Po(x));if(h===0)return 0;if(i!==0&&i!==h&&(i&v)===0&&(v=h&-h,x=i&-i,v>=x||v===16&&(x&4194240)!==0))return i;if((h&4)!==0&&(h|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)c=31-Pn(i),v=1<<c,h|=s[c],i&=~v;return h}function pp(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(s,i){for(var c=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,x=s.pendingLanes;0<x;){var I=31-Pn(x),V=1<<I,B=v[I];B===-1?((V&c)===0||(V&h)!==0)&&(v[I]=pp(V,i)):B<=i&&(s.expiredLanes|=V),x&=~V}}function nr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Di(){var s=Ra;return Ra<<=1,(Ra&4194240)===0&&(Ra=64),s}function ko(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function No(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Pn(i),s[i]=c}function pt(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var v=31-Pn(c),x=1<<v;i[v]=0,h[v]=-1,s[v]=-1,c&=~x}}function Do(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var h=31-Pn(c),v=1<<h;v&i|s[h]&i&&(s[h]|=i),c&=~v}}var et=0;function Oo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wu,Pa,qu,Gu,Ku,Zl=!1,ls=[],cn=null,Mr=null,Lr=null,jo=new Map,yr=new Map,cs=[],mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qu(s,i){switch(s){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":jo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(i.pointerId)}}function Fn(s,i,c,h,v,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},i!==null&&(i=pc(i),i!==null&&Pa(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),s)}function gp(s,i,c,h,v){switch(i){case"focusin":return cn=Fn(cn,s,i,c,h,v),!0;case"dragenter":return Mr=Fn(Mr,s,i,c,h,v),!0;case"mouseover":return Lr=Fn(Lr,s,i,c,h,v),!0;case"pointerover":var x=v.pointerId;return jo.set(x,Fn(jo.get(x)||null,s,i,c,h,v)),!0;case"gotpointercapture":return x=v.pointerId,yr.set(x,Fn(yr.get(x)||null,s,i,c,h,v)),!0}return!1}function Yu(s){var i=Vi(s.target);if(i!==null){var c=Or(i);if(c!==null){if(i=c.tag,i===13){if(i=Ai(c),i!==null){s.blockedOn=i,Ku(s.priority,function(){qu(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ls(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=ka(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Nr=h,c.target.dispatchEvent(h),Nr=null}else return i=pc(c),i!==null&&Pa(i),s.blockedOn=c,!1;i.shift()}return!0}function Oi(s,i,c){Ls(s)&&c.delete(i)}function Xu(){Zl=!1,cn!==null&&Ls(cn)&&(cn=null),Mr!==null&&Ls(Mr)&&(Mr=null),Lr!==null&&Ls(Lr)&&(Lr=null),jo.forEach(Oi),yr.forEach(Oi)}function Vr(s,i){s.blockedOn===i&&(s.blockedOn=null,Zl||(Zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xu)))}function Fr(s){function i(v){return Vr(v,s)}if(0<ls.length){Vr(ls[0],s);for(var c=1;c<ls.length;c++){var h=ls[c];h.blockedOn===s&&(h.blockedOn=null)}}for(cn!==null&&Vr(cn,s),Mr!==null&&Vr(Mr,s),Lr!==null&&Vr(Lr,s),jo.forEach(i),yr.forEach(i),c=0;c<cs.length;c++)h=cs[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<cs.length&&(c=cs[0],c.blockedOn===null);)Yu(c),c.blockedOn===null&&cs.shift()}var Vs=H.ReactCurrentBatchConfig,Mo=!0;function Tt(s,i,c,h){var v=et,x=Vs.transition;Vs.transition=null;try{et=1,ec(s,i,c,h)}finally{et=v,Vs.transition=x}}function vp(s,i,c,h){var v=et,x=Vs.transition;Vs.transition=null;try{et=4,ec(s,i,c,h)}finally{et=v,Vs.transition=x}}function ec(s,i,c,h){if(Mo){var v=ka(s,i,c,h);if(v===null)Rp(s,i,h,ji,c),Qu(s,h);else if(gp(v,s,i,c,h))h.stopPropagation();else if(Qu(s,h),i&4&&-1<mp.indexOf(s)){for(;v!==null;){var x=pc(v);if(x!==null&&Wu(x),x=ka(s,i,c,h),x===null&&Rp(s,i,h,ji,c),x===v)break;v=x}v!==null&&h.stopPropagation()}else Rp(s,i,h,null,c)}}var ji=null;function ka(s,i,c,h){if(ji=null,s=An(h),s=Vi(s),s!==null)if(i=Or(s),i===null)s=null;else if(c=i.tag,c===13){if(s=Ai(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return ji=s,null}function tc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uu()){case Pi:return 1;case Ao:return 4;case vr:case Xl:return 16;case $u:return 536870912;default:return 16}default:return 16}}var rr=null,Na=null,Un=null;function nc(){if(Un)return Un;var s,i=Na,c=i.length,h,v="value"in rr?rr.value:rr.textContent,x=v.length;for(s=0;s<c&&i[s]===v[s];s++);var I=c-s;for(h=1;h<=I&&i[c-h]===v[x-h];h++);return Un=v.slice(s,1<h?1-h:void 0)}function Da(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function us(){return!0}function rc(){return!1}function un(s){function i(c,h,v,x,I){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?us:rc,this.isPropagationStopped=rc,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),i}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=un(Ur),ds=oe({},Ur,{view:0,detail:0}),yp=un(ds),ja,Fs,Lo,Mi=oe({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Lo&&(Lo&&s.type==="mousemove"?(ja=s.screenX-Lo.screenX,Fs=s.screenY-Lo.screenY):Fs=ja=0,Lo=s),ja)},movementY:function(s){return"movementY"in s?s.movementY:Fs}}),Ma=un(Mi),sc=oe({},Mi,{dataTransfer:0}),Ju=un(sc),La=oe({},ds,{relatedTarget:0}),Va=un(La),Zu=oe({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Us=un(Zu),ed=oe({},Ur,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),td=un(ed),nd=oe({},Ur,{data:0}),oc=un(nd),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=rd[s])?!!i[s]:!1}function fs(){return sd}var d=oe({},ds,{key:function(s){if(s.key){var i=Fa[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Da(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?kn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(s){return s.type==="keypress"?Da(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Da(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=un(d),S=oe({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=un(S),Y=oe({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),se=un(Y),ve=oe({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=un(ve),Kt=oe({},Mi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=un(Kt),nn=[9,13,27,32],Ft=u&&"CompositionEvent"in window,wr=null;u&&"documentMode"in document&&(wr=document.documentMode);var sr=u&&"TextEvent"in window&&!wr,Li=u&&(!Ft||wr&&8<wr&&11>=wr),Ua=" ",Gy=!1;function Ky(s,i){switch(s){case"keyup":return nn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $a=!1;function KC(s,i){switch(s){case"compositionend":return Qy(i);case"keypress":return i.which!==32?null:(Gy=!0,Ua);case"textInput":return s=i.data,s===Ua&&Gy?null:s;default:return null}}function QC(s,i){if($a)return s==="compositionend"||!Ft&&Ky(s,i)?(s=nc(),Un=Na=rr=null,$a=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Li&&i.locale!=="ko"?null:i.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yy(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!YC[s.type]:i==="textarea"}function Xy(s,i,c,h){je(h),i=cd(i,"onChange"),0<i.length&&(c=new Oa("onChange","change",null,c,h),s.push({event:c,listeners:i}))}var ic=null,ac=null;function XC(s){mw(s,0)}function od(s){var i=qa(s);if(qe(i))return s}function JC(s,i){if(s==="change")return i}var Jy=!1;if(u){var wp;if(u){var _p="oninput"in document;if(!_p){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),_p=typeof Zy.oninput=="function"}wp=_p}else wp=!1;Jy=wp&&(!document.documentMode||9<document.documentMode)}function ew(){ic&&(ic.detachEvent("onpropertychange",tw),ac=ic=null)}function tw(s){if(s.propertyName==="value"&&od(ac)){var i=[];Xy(i,ac,s,An(s)),Ct(XC,i)}}function ZC(s,i,c){s==="focusin"?(ew(),ic=i,ac=c,ic.attachEvent("onpropertychange",tw)):s==="focusout"&&ew()}function eR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return od(ac)}function tR(s,i){if(s==="click")return od(i)}function nR(s,i){if(s==="input"||s==="change")return od(i)}function rR(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var $r=typeof Object.is=="function"?Object.is:rR;function lc(s,i){if($r(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!f.call(i,v)||!$r(s[v],i[v]))return!1}return!0}function nw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rw(s,i){var c=nw(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=i&&h>=i)return{node:c,offset:i-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=nw(c)}}function sw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?sw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function ow(){for(var s=window,i=It();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=It(s.document)}return i}function xp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function sR(s){var i=ow(),c=s.focusedElem,h=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&sw(c.ownerDocument.documentElement,c)){if(h!==null&&xp(c)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var v=c.textContent.length,x=Math.min(h.start,v);h=h.end===void 0?x:Math.min(h.end,v),!s.extend&&x>h&&(v=h,h=x,x=v),v=rw(c,x);var I=rw(c,h);v&&I&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(i=i.createRange(),i.setStart(v.node,v.offset),s.removeAllRanges(),x>h?(s.addRange(i),s.extend(I.node,I.offset)):(i.setEnd(I.node,I.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var oR=u&&"documentMode"in document&&11>=document.documentMode,za=null,Ep=null,cc=null,Sp=!1;function iw(s,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sp||za==null||za!==It(h)||(h=za,"selectionStart"in h&&xp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),cc&&lc(cc,h)||(cc=h,h=cd(Ep,"onSelect"),0<h.length&&(i=new Oa("onSelect","select",null,i,c),s.push({event:i,listeners:h}),i.target=za)))}function id(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Ba={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},Tp={},aw={};u&&(aw=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function ad(s){if(Tp[s])return Tp[s];if(!Ba[s])return s;var i=Ba[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in aw)return Tp[s]=i[c];return s}var lw=ad("animationend"),cw=ad("animationiteration"),uw=ad("animationstart"),dw=ad("transitionend"),fw=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(s,i){fw.set(s,i),a(i,[s])}for(var bp=0;bp<hw.length;bp++){var Ip=hw[bp],iR=Ip.toLowerCase(),aR=Ip[0].toUpperCase()+Ip.slice(1);Vo(iR,"on"+aR)}Vo(lw,"onAnimationEnd"),Vo(cw,"onAnimationIteration"),Vo(uw,"onAnimationStart"),Vo("dblclick","onDoubleClick"),Vo("focusin","onFocus"),Vo("focusout","onBlur"),Vo(dw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lR=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function pw(s,i,c){var h=s.type||"unknown-event";s.currentTarget=c,Lu(h,i,void 0,s),s.currentTarget=null}function mw(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],v=h.event;h=h.listeners;e:{var x=void 0;if(i)for(var I=h.length-1;0<=I;I--){var V=h[I],B=V.instance,ne=V.currentTarget;if(V=V.listener,B!==x&&v.isPropagationStopped())break e;pw(v,V,ne),x=B}else for(I=0;I<h.length;I++){if(V=h[I],B=V.instance,ne=V.currentTarget,V=V.listener,B!==x&&v.isPropagationStopped())break e;pw(v,V,ne),x=B}}}if(gr)throw s=Kl,gr=!1,Kl=null,s}function yt(s,i){var c=i[Op];c===void 0&&(c=i[Op]=new Set);var h=s+"__bubble";c.has(h)||(gw(i,s,2,!1),c.add(h))}function Cp(s,i,c){var h=0;i&&(h|=4),gw(c,s,h,i)}var ld="_reactListening"+Math.random().toString(36).slice(2);function dc(s){if(!s[ld]){s[ld]=!0,r.forEach(function(c){c!=="selectionchange"&&(lR.has(c)||Cp(c,!1,s),Cp(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[ld]||(i[ld]=!0,Cp("selectionchange",!1,i))}}function gw(s,i,c,h){switch(tc(i)){case 1:var v=Tt;break;case 4:v=vp;break;default:v=ec}c=v.bind(null,i,c,s),v=void 0,!Dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(i,c,{capture:!0,passive:v}):s.addEventListener(i,c,!0):v!==void 0?s.addEventListener(i,c,{passive:v}):s.addEventListener(i,c,!1)}function Rp(s,i,c,h,v){var x=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var V=h.stateNode.containerInfo;if(V===v||V.nodeType===8&&V.parentNode===v)break;if(I===4)for(I=h.return;I!==null;){var B=I.tag;if((B===3||B===4)&&(B=I.stateNode.containerInfo,B===v||B.nodeType===8&&B.parentNode===v))return;I=I.return}for(;V!==null;){if(I=Vi(V),I===null)return;if(B=I.tag,B===5||B===6){h=x=I;continue e}V=V.parentNode}}h=h.return}Ct(function(){var ne=x,de=An(c),he=[];e:{var ue=fw.get(s);if(ue!==void 0){var _e=Oa,Ie=s;switch(s){case"keypress":if(Da(c)===0)break e;case"keydown":case"keyup":_e=_;break;case"focusin":Ie="focus",_e=Va;break;case"focusout":Ie="blur",_e=Va;break;case"beforeblur":case"afterblur":_e=Va;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=se;break;case lw:case cw:case uw:_e=Us;break;case dw:_e=dt;break;case"scroll":_e=yp;break;case"wheel":_e=rt;break;case"copy":case"cut":case"paste":_e=td;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=k}var Ae=(i&4)!==0,Mt=!Ae&&s==="scroll",X=Ae?ue!==null?ue+"Capture":null:ue;Ae=[];for(var W=ne,ee;W!==null;){ee=W;var pe=ee.stateNode;if(ee.tag===5&&pe!==null&&(ee=pe,X!==null&&(pe=nt(W,X),pe!=null&&Ae.push(fc(W,pe,ee)))),Mt)break;W=W.return}0<Ae.length&&(ue=new _e(ue,Ie,null,c,de),he.push({event:ue,listeners:Ae}))}}if((i&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",ue&&c!==Nr&&(Ie=c.relatedTarget||c.fromElement)&&(Vi(Ie)||Ie[$s]))break e;if((_e||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,_e?(Ie=c.relatedTarget||c.toElement,_e=ne,Ie=Ie?Vi(Ie):null,Ie!==null&&(Mt=Or(Ie),Ie!==Mt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(_e=null,Ie=ne),_e!==Ie)){if(Ae=Ma,pe="onMouseLeave",X="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=k,pe="onPointerLeave",X="onPointerEnter",W="pointer"),Mt=_e==null?ue:qa(_e),ee=Ie==null?ue:qa(Ie),ue=new Ae(pe,W+"leave",_e,c,de),ue.target=Mt,ue.relatedTarget=ee,pe=null,Vi(de)===ne&&(Ae=new Ae(X,W+"enter",Ie,c,de),Ae.target=ee,Ae.relatedTarget=Mt,pe=Ae),Mt=pe,_e&&Ie)t:{for(Ae=_e,X=Ie,W=0,ee=Ae;ee;ee=Ha(ee))W++;for(ee=0,pe=X;pe;pe=Ha(pe))ee++;for(;0<W-ee;)Ae=Ha(Ae),W--;for(;0<ee-W;)X=Ha(X),ee--;for(;W--;){if(Ae===X||X!==null&&Ae===X.alternate)break t;Ae=Ha(Ae),X=Ha(X)}Ae=null}else Ae=null;_e!==null&&vw(he,ue,_e,Ae,!1),Ie!==null&&Mt!==null&&vw(he,Mt,Ie,Ae,!0)}}e:{if(ue=ne?qa(ne):window,_e=ue.nodeName&&ue.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ue.type==="file")var Pe=JC;else if(Yy(ue))if(Jy)Pe=nR;else{Pe=eR;var Me=ZC}else(_e=ue.nodeName)&&_e.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Pe=tR);if(Pe&&(Pe=Pe(s,ne))){Xy(he,Pe,c,de);break e}Me&&Me(s,ue,ne),s==="focusout"&&(Me=ue._wrapperState)&&Me.controlled&&ue.type==="number"&&gn(ue,"number",ue.value)}switch(Me=ne?qa(ne):window,s){case"focusin":(Yy(Me)||Me.contentEditable==="true")&&(za=Me,Ep=ne,cc=null);break;case"focusout":cc=Ep=za=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,iw(he,c,de);break;case"selectionchange":if(oR)break;case"keydown":case"keyup":iw(he,c,de)}var Le;if(Ft)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else $a?Ky(s,c)&&($e="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(Li&&c.locale!=="ko"&&($a||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&$a&&(Le=nc()):(rr=de,Na="value"in rr?rr.value:rr.textContent,$a=!0)),Me=cd(ne,$e),0<Me.length&&($e=new oc($e,s,null,c,de),he.push({event:$e,listeners:Me}),Le?$e.data=Le:(Le=Qy(c),Le!==null&&($e.data=Le)))),(Le=sr?KC(s,c):QC(s,c))&&(ne=cd(ne,"onBeforeInput"),0<ne.length&&(de=new oc("onBeforeInput","beforeinput",null,c,de),he.push({event:de,listeners:ne}),de.data=Le))}mw(he,i)})}function fc(s,i,c){return{instance:s,listener:i,currentTarget:c}}function cd(s,i){for(var c=i+"Capture",h=[];s!==null;){var v=s,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=nt(s,c),x!=null&&h.unshift(fc(s,x,v)),x=nt(s,i),x!=null&&h.push(fc(s,x,v))),s=s.return}return h}function Ha(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function vw(s,i,c,h,v){for(var x=i._reactName,I=[];c!==null&&c!==h;){var V=c,B=V.alternate,ne=V.stateNode;if(B!==null&&B===h)break;V.tag===5&&ne!==null&&(V=ne,v?(B=nt(c,x),B!=null&&I.unshift(fc(c,B,V))):v||(B=nt(c,x),B!=null&&I.push(fc(c,B,V)))),c=c.return}I.length!==0&&s.push({event:i,listeners:I})}var cR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function yw(s){return(typeof s=="string"?s:""+s).replace(cR,`
`).replace(uR,"")}function ud(s,i,c){if(i=yw(i),yw(s)!==i&&c)throw Error(t(425))}function dd(){}var Ap=null,Pp=null;function kp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,fR=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(s){return ww.resolve(null).then(s).catch(hR)}:Np;function hR(s){setTimeout(function(){throw s})}function Dp(s,i){var c=i,h=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(h===0){s.removeChild(v),Fr(i);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=v}while(c);Fr(i)}function Fo(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function _w(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),hs="__reactFiber$"+Wa,hc="__reactProps$"+Wa,$s="__reactContainer$"+Wa,Op="__reactEvents$"+Wa,pR="__reactListeners$"+Wa,mR="__reactHandles$"+Wa;function Vi(s){var i=s[hs];if(i)return i;for(var c=s.parentNode;c;){if(i=c[$s]||c[hs]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=_w(s);s!==null;){if(c=s[hs])return c;s=_w(s)}return i}s=c,c=s.parentNode}return null}function pc(s){return s=s[hs]||s[$s],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function qa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function fd(s){return s[hc]||null}var jp=[],Ga=-1;function Uo(s){return{current:s}}function wt(s){0>Ga||(s.current=jp[Ga],jp[Ga]=null,Ga--)}function gt(s,i){Ga++,jp[Ga]=s.current,s.current=i}var $o={},vn=Uo($o),$n=Uo(!1),Fi=$o;function Ka(s,i){var c=s.type.contextTypes;if(!c)return $o;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in c)v[x]=i[x];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=v),v}function zn(s){return s=s.childContextTypes,s!=null}function hd(){wt($n),wt(vn)}function xw(s,i,c){if(vn.current!==$o)throw Error(t(168));gt(vn,i),gt($n,c)}function Ew(s,i,c){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var v in h)if(!(v in i))throw Error(t(108,ie(s)||"Unknown",v));return oe({},c,h)}function pd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||$o,Fi=vn.current,gt(vn,s),gt($n,$n.current),!0}function Sw(s,i,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Ew(s,i,Fi),h.__reactInternalMemoizedMergedChildContext=s,wt($n),wt(vn),gt(vn,s)):wt($n),gt($n,c)}var zs=null,md=!1,Mp=!1;function Tw(s){zs===null?zs=[s]:zs.push(s)}function gR(s){md=!0,Tw(s)}function zo(){if(!Mp&&zs!==null){Mp=!0;var s=0,i=et;try{var c=zs;for(et=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}zs=null,md=!1}catch(v){throw zs!==null&&(zs=zs.slice(s+1)),Ca(Pi,zo),v}finally{et=i,Mp=!1}}return null}var Qa=[],Ya=0,gd=null,vd=0,_r=[],xr=0,Ui=null,Bs=1,Hs="";function $i(s,i){Qa[Ya++]=vd,Qa[Ya++]=gd,gd=s,vd=i}function bw(s,i,c){_r[xr++]=Bs,_r[xr++]=Hs,_r[xr++]=Ui,Ui=s;var h=Bs;s=Hs;var v=32-Pn(h)-1;h&=~(1<<v),c+=1;var x=32-Pn(i)+v;if(30<x){var I=v-v%5;x=(h&(1<<I)-1).toString(32),h>>=I,v-=I,Bs=1<<32-Pn(i)+v|c<<v|h,Hs=x+s}else Bs=1<<x|c<<v|h,Hs=s}function Lp(s){s.return!==null&&($i(s,1),bw(s,1,0))}function Vp(s){for(;s===gd;)gd=Qa[--Ya],Qa[Ya]=null,vd=Qa[--Ya],Qa[Ya]=null;for(;s===Ui;)Ui=_r[--xr],_r[xr]=null,Hs=_r[--xr],_r[xr]=null,Bs=_r[--xr],_r[xr]=null}var or=null,ir=null,bt=!1,zr=null;function Iw(s,i){var c=br(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function Cw(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,or=s,ir=Fo(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,or=s,ir=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Ui!==null?{id:Bs,overflow:Hs}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=br(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,or=s,ir=null,!0):!1;default:return!1}}function Fp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Up(s){if(bt){var i=ir;if(i){var c=i;if(!Cw(s,i)){if(Fp(s))throw Error(t(418));i=Fo(c.nextSibling);var h=or;i&&Cw(s,i)?Iw(h,c):(s.flags=s.flags&-4097|2,bt=!1,or=s)}}else{if(Fp(s))throw Error(t(418));s.flags=s.flags&-4097|2,bt=!1,or=s}}}function Rw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;or=s}function yd(s){if(s!==or)return!1;if(!bt)return Rw(s),bt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!kp(s.type,s.memoizedProps)),i&&(i=ir)){if(Fp(s))throw Aw(),Error(t(418));for(;i;)Iw(s,i),i=Fo(i.nextSibling)}if(Rw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){ir=Fo(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}ir=null}}else ir=or?Fo(s.stateNode.nextSibling):null;return!0}function Aw(){for(var s=ir;s;)s=Fo(s.nextSibling)}function Xa(){ir=or=null,bt=!1}function $p(s){zr===null?zr=[s]:zr.push(s)}var vR=H.ReactCurrentBatchConfig;function mc(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var v=h,x=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(I){var V=v.refs;I===null?delete V[x]:V[x]=I},i._stringRef=x,i)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function wd(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Pw(s){var i=s._init;return i(s._payload)}function kw(s){function i(X,W){if(s){var ee=X.deletions;ee===null?(X.deletions=[W],X.flags|=16):ee.push(W)}}function c(X,W){if(!s)return null;for(;W!==null;)i(X,W),W=W.sibling;return null}function h(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function v(X,W){return X=Yo(X,W),X.index=0,X.sibling=null,X}function x(X,W,ee){return X.index=ee,s?(ee=X.alternate,ee!==null?(ee=ee.index,ee<W?(X.flags|=2,W):ee):(X.flags|=2,W)):(X.flags|=1048576,W)}function I(X){return s&&X.alternate===null&&(X.flags|=2),X}function V(X,W,ee,pe){return W===null||W.tag!==6?(W=Nm(ee,X.mode,pe),W.return=X,W):(W=v(W,ee),W.return=X,W)}function B(X,W,ee,pe){var Pe=ee.type;return Pe===D?de(X,W,ee.props.children,pe,ee.key):W!==null&&(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===K&&Pw(Pe)===W.type)?(pe=v(W,ee.props),pe.ref=mc(X,W,ee),pe.return=X,pe):(pe=Bd(ee.type,ee.key,ee.props,null,X.mode,pe),pe.ref=mc(X,W,ee),pe.return=X,pe)}function ne(X,W,ee,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=Dm(ee,X.mode,pe),W.return=X,W):(W=v(W,ee.children||[]),W.return=X,W)}function de(X,W,ee,pe,Pe){return W===null||W.tag!==7?(W=Qi(ee,X.mode,pe,Pe),W.return=X,W):(W=v(W,ee),W.return=X,W)}function he(X,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Nm(""+W,X.mode,ee),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:return ee=Bd(W.type,W.key,W.props,null,X.mode,ee),ee.ref=mc(X,null,W),ee.return=X,ee;case te:return W=Dm(W,X.mode,ee),W.return=X,W;case K:var pe=W._init;return he(X,pe(W._payload),ee)}if(Pr(W)||G(W))return W=Qi(W,X.mode,ee,null),W.return=X,W;wd(X,W)}return null}function ue(X,W,ee,pe){var Pe=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Pe!==null?null:V(X,W,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Q:return ee.key===Pe?B(X,W,ee,pe):null;case te:return ee.key===Pe?ne(X,W,ee,pe):null;case K:return Pe=ee._init,ue(X,W,Pe(ee._payload),pe)}if(Pr(ee)||G(ee))return Pe!==null?null:de(X,W,ee,pe,null);wd(X,ee)}return null}function _e(X,W,ee,pe,Pe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return X=X.get(ee)||null,V(W,X,""+pe,Pe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case Q:return X=X.get(pe.key===null?ee:pe.key)||null,B(W,X,pe,Pe);case te:return X=X.get(pe.key===null?ee:pe.key)||null,ne(W,X,pe,Pe);case K:var Me=pe._init;return _e(X,W,ee,Me(pe._payload),Pe)}if(Pr(pe)||G(pe))return X=X.get(ee)||null,de(W,X,pe,Pe,null);wd(W,pe)}return null}function Ie(X,W,ee,pe){for(var Pe=null,Me=null,Le=W,$e=W=0,on=null;Le!==null&&$e<ee.length;$e++){Le.index>$e?(on=Le,Le=null):on=Le.sibling;var at=ue(X,Le,ee[$e],pe);if(at===null){Le===null&&(Le=on);break}s&&Le&&at.alternate===null&&i(X,Le),W=x(at,W,$e),Me===null?Pe=at:Me.sibling=at,Me=at,Le=on}if($e===ee.length)return c(X,Le),bt&&$i(X,$e),Pe;if(Le===null){for(;$e<ee.length;$e++)Le=he(X,ee[$e],pe),Le!==null&&(W=x(Le,W,$e),Me===null?Pe=Le:Me.sibling=Le,Me=Le);return bt&&$i(X,$e),Pe}for(Le=h(X,Le);$e<ee.length;$e++)on=_e(Le,X,$e,ee[$e],pe),on!==null&&(s&&on.alternate!==null&&Le.delete(on.key===null?$e:on.key),W=x(on,W,$e),Me===null?Pe=on:Me.sibling=on,Me=on);return s&&Le.forEach(function(Xo){return i(X,Xo)}),bt&&$i(X,$e),Pe}function Ae(X,W,ee,pe){var Pe=G(ee);if(typeof Pe!="function")throw Error(t(150));if(ee=Pe.call(ee),ee==null)throw Error(t(151));for(var Me=Pe=null,Le=W,$e=W=0,on=null,at=ee.next();Le!==null&&!at.done;$e++,at=ee.next()){Le.index>$e?(on=Le,Le=null):on=Le.sibling;var Xo=ue(X,Le,at.value,pe);if(Xo===null){Le===null&&(Le=on);break}s&&Le&&Xo.alternate===null&&i(X,Le),W=x(Xo,W,$e),Me===null?Pe=Xo:Me.sibling=Xo,Me=Xo,Le=on}if(at.done)return c(X,Le),bt&&$i(X,$e),Pe;if(Le===null){for(;!at.done;$e++,at=ee.next())at=he(X,at.value,pe),at!==null&&(W=x(at,W,$e),Me===null?Pe=at:Me.sibling=at,Me=at);return bt&&$i(X,$e),Pe}for(Le=h(X,Le);!at.done;$e++,at=ee.next())at=_e(Le,X,$e,at.value,pe),at!==null&&(s&&at.alternate!==null&&Le.delete(at.key===null?$e:at.key),W=x(at,W,$e),Me===null?Pe=at:Me.sibling=at,Me=at);return s&&Le.forEach(function(YR){return i(X,YR)}),bt&&$i(X,$e),Pe}function Mt(X,W,ee,pe){if(typeof ee=="object"&&ee!==null&&ee.type===D&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Q:e:{for(var Pe=ee.key,Me=W;Me!==null;){if(Me.key===Pe){if(Pe=ee.type,Pe===D){if(Me.tag===7){c(X,Me.sibling),W=v(Me,ee.props.children),W.return=X,X=W;break e}}else if(Me.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===K&&Pw(Pe)===Me.type){c(X,Me.sibling),W=v(Me,ee.props),W.ref=mc(X,Me,ee),W.return=X,X=W;break e}c(X,Me);break}else i(X,Me);Me=Me.sibling}ee.type===D?(W=Qi(ee.props.children,X.mode,pe,ee.key),W.return=X,X=W):(pe=Bd(ee.type,ee.key,ee.props,null,X.mode,pe),pe.ref=mc(X,W,ee),pe.return=X,X=pe)}return I(X);case te:e:{for(Me=ee.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){c(X,W.sibling),W=v(W,ee.children||[]),W.return=X,X=W;break e}else{c(X,W);break}else i(X,W);W=W.sibling}W=Dm(ee,X.mode,pe),W.return=X,X=W}return I(X);case K:return Me=ee._init,Mt(X,W,Me(ee._payload),pe)}if(Pr(ee))return Ie(X,W,ee,pe);if(G(ee))return Ae(X,W,ee,pe);wd(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,W!==null&&W.tag===6?(c(X,W.sibling),W=v(W,ee),W.return=X,X=W):(c(X,W),W=Nm(ee,X.mode,pe),W.return=X,X=W),I(X)):c(X,W)}return Mt}var Ja=kw(!0),Nw=kw(!1),_d=Uo(null),xd=null,Za=null,zp=null;function Bp(){zp=Za=xd=null}function Hp(s){var i=_d.current;wt(_d),s._currentValue=i}function Wp(s,i,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===c)break;s=s.return}}function el(s,i){xd=s,zp=Za=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Bn=!0),s.firstContext=null)}function Er(s){var i=s._currentValue;if(zp!==s)if(s={context:s,memoizedValue:i,next:null},Za===null){if(xd===null)throw Error(t(308));Za=s,xd.dependencies={lanes:0,firstContext:s}}else Za=Za.next=s;return i}var zi=null;function qp(s){zi===null?zi=[s]:zi.push(s)}function Dw(s,i,c,h){var v=i.interleaved;return v===null?(c.next=c,qp(i)):(c.next=v.next,v.next=c),i.interleaved=c,Ws(s,h)}function Ws(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Bo=!1;function Gp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ow(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function qs(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Ho(s,i,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(it&2)!==0){var v=h.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),h.pending=i,Ws(s,c)}return v=h.interleaved,v===null?(i.next=i,qp(h)):(i.next=v.next,v.next=i),h.interleaved=i,Ws(s,c)}function Ed(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,c|=h,i.lanes=c,Do(s,c)}}function jw(s,i){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?v=x=I:x=x.next=I,c=c.next}while(c!==null);x===null?v=x=i:x=x.next=i}else v=x=i;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function Sd(s,i,c,h){var v=s.updateQueue;Bo=!1;var x=v.firstBaseUpdate,I=v.lastBaseUpdate,V=v.shared.pending;if(V!==null){v.shared.pending=null;var B=V,ne=B.next;B.next=null,I===null?x=ne:I.next=ne,I=B;var de=s.alternate;de!==null&&(de=de.updateQueue,V=de.lastBaseUpdate,V!==I&&(V===null?de.firstBaseUpdate=ne:V.next=ne,de.lastBaseUpdate=B))}if(x!==null){var he=v.baseState;I=0,de=ne=B=null,V=x;do{var ue=V.lane,_e=V.eventTime;if((h&ue)===ue){de!==null&&(de=de.next={eventTime:_e,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ie=s,Ae=V;switch(ue=i,_e=c,Ae.tag){case 1:if(Ie=Ae.payload,typeof Ie=="function"){he=Ie.call(_e,he,ue);break e}he=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ae.payload,ue=typeof Ie=="function"?Ie.call(_e,he,ue):Ie,ue==null)break e;he=oe({},he,ue);break e;case 2:Bo=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,ue=v.effects,ue===null?v.effects=[V]:ue.push(V))}else _e={eventTime:_e,lane:ue,tag:V.tag,payload:V.payload,callback:V.callback,next:null},de===null?(ne=de=_e,B=he):de=de.next=_e,I|=ue;if(V=V.next,V===null){if(V=v.shared.pending,V===null)break;ue=V,V=ue.next,ue.next=null,v.lastBaseUpdate=ue,v.shared.pending=null}}while(!0);if(de===null&&(B=he),v.baseState=B,v.firstBaseUpdate=ne,v.lastBaseUpdate=de,i=v.shared.interleaved,i!==null){v=i;do I|=v.lane,v=v.next;while(v!==i)}else x===null&&(v.shared.lanes=0);Wi|=I,s.lanes=I,s.memoizedState=he}}function Mw(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],v=h.callback;if(v!==null){if(h.callback=null,h=c,typeof v!="function")throw Error(t(191,v));v.call(h)}}}var gc={},ps=Uo(gc),vc=Uo(gc),yc=Uo(gc);function Bi(s){if(s===gc)throw Error(t(174));return s}function Kp(s,i){switch(gt(yc,i),gt(vc,s),gt(ps,gc),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:jt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=jt(i,s)}wt(ps),gt(ps,i)}function tl(){wt(ps),wt(vc),wt(yc)}function Lw(s){Bi(yc.current);var i=Bi(ps.current),c=jt(i,s.type);i!==c&&(gt(vc,s),gt(ps,c))}function Qp(s){vc.current===s&&(wt(ps),wt(vc))}var At=Uo(0);function Td(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yp=[];function Xp(){for(var s=0;s<Yp.length;s++)Yp[s]._workInProgressVersionPrimary=null;Yp.length=0}var bd=H.ReactCurrentDispatcher,Jp=H.ReactCurrentBatchConfig,Hi=0,Pt=null,Qt=null,rn=null,Id=!1,wc=!1,_c=0,yR=0;function yn(){throw Error(t(321))}function Zp(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!$r(s[c],i[c]))return!1;return!0}function em(s,i,c,h,v,x){if(Hi=x,Pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,bd.current=s===null||s.memoizedState===null?ER:SR,s=c(h,v),wc){x=0;do{if(wc=!1,_c=0,25<=x)throw Error(t(301));x+=1,rn=Qt=null,i.updateQueue=null,bd.current=TR,s=c(h,v)}while(wc)}if(bd.current=Ad,i=Qt!==null&&Qt.next!==null,Hi=0,rn=Qt=Pt=null,Id=!1,i)throw Error(t(300));return s}function tm(){var s=_c!==0;return _c=0,s}function ms(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Pt.memoizedState=rn=s:rn=rn.next=s,rn}function Sr(){if(Qt===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=Qt.next;var i=rn===null?Pt.memoizedState:rn.next;if(i!==null)rn=i,Qt=s;else{if(s===null)throw Error(t(310));Qt=s,s={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},rn===null?Pt.memoizedState=rn=s:rn=rn.next=s}return rn}function xc(s,i){return typeof i=="function"?i(s):i}function nm(s){var i=Sr(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Qt,v=h.baseQueue,x=c.pending;if(x!==null){if(v!==null){var I=v.next;v.next=x.next,x.next=I}h.baseQueue=v=x,c.pending=null}if(v!==null){x=v.next,h=h.baseState;var V=I=null,B=null,ne=x;do{var de=ne.lane;if((Hi&de)===de)B!==null&&(B=B.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),h=ne.hasEagerState?ne.eagerState:s(h,ne.action);else{var he={lane:de,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};B===null?(V=B=he,I=h):B=B.next=he,Pt.lanes|=de,Wi|=de}ne=ne.next}while(ne!==null&&ne!==x);B===null?I=h:B.next=V,$r(h,i.memoizedState)||(Bn=!0),i.memoizedState=h,i.baseState=I,i.baseQueue=B,c.lastRenderedState=h}if(s=c.interleaved,s!==null){v=s;do x=v.lane,Pt.lanes|=x,Wi|=x,v=v.next;while(v!==s)}else v===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function rm(s){var i=Sr(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,v=c.pending,x=i.memoizedState;if(v!==null){c.pending=null;var I=v=v.next;do x=s(x,I.action),I=I.next;while(I!==v);$r(x,i.memoizedState)||(Bn=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,h]}function Vw(){}function Fw(s,i){var c=Pt,h=Sr(),v=i(),x=!$r(h.memoizedState,v);if(x&&(h.memoizedState=v,Bn=!0),h=h.queue,sm(zw.bind(null,c,h,s),[s]),h.getSnapshot!==i||x||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,Ec(9,$w.bind(null,c,h,v,i),void 0,null),sn===null)throw Error(t(349));(Hi&30)!==0||Uw(c,i,v)}return v}function Uw(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Pt.updateQueue,i===null?(i={lastEffect:null,stores:null},Pt.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function $w(s,i,c,h){i.value=c,i.getSnapshot=h,Bw(i)&&Hw(s)}function zw(s,i,c){return c(function(){Bw(i)&&Hw(s)})}function Bw(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!$r(s,c)}catch{return!0}}function Hw(s){var i=Ws(s,1);i!==null&&qr(i,s,1,-1)}function Ww(s){var i=ms();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:s},i.queue=s,s=s.dispatch=xR.bind(null,Pt,s),[i.memoizedState,s]}function Ec(s,i,c,h){return s={tag:s,create:i,destroy:c,deps:h,next:null},i=Pt.updateQueue,i===null?(i={lastEffect:null,stores:null},Pt.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,i.lastEffect=s)),s}function qw(){return Sr().memoizedState}function Cd(s,i,c,h){var v=ms();Pt.flags|=s,v.memoizedState=Ec(1|i,c,void 0,h===void 0?null:h)}function Rd(s,i,c,h){var v=Sr();h=h===void 0?null:h;var x=void 0;if(Qt!==null){var I=Qt.memoizedState;if(x=I.destroy,h!==null&&Zp(h,I.deps)){v.memoizedState=Ec(i,c,x,h);return}}Pt.flags|=s,v.memoizedState=Ec(1|i,c,x,h)}function Gw(s,i){return Cd(8390656,8,s,i)}function sm(s,i){return Rd(2048,8,s,i)}function Kw(s,i){return Rd(4,2,s,i)}function Qw(s,i){return Rd(4,4,s,i)}function Yw(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Xw(s,i,c){return c=c!=null?c.concat([s]):null,Rd(4,4,Yw.bind(null,i,s),c)}function om(){}function Jw(s,i){var c=Sr();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&Zp(i,h[1])?h[0]:(c.memoizedState=[s,i],s)}function Zw(s,i){var c=Sr();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&Zp(i,h[1])?h[0]:(s=s(),c.memoizedState=[s,i],s)}function e0(s,i,c){return(Hi&21)===0?(s.baseState&&(s.baseState=!1,Bn=!0),s.memoizedState=c):($r(c,i)||(c=Di(),Pt.lanes|=c,Wi|=c,s.baseState=!0),i)}function wR(s,i){var c=et;et=c!==0&&4>c?c:4,s(!0);var h=Jp.transition;Jp.transition={};try{s(!1),i()}finally{et=c,Jp.transition=h}}function t0(){return Sr().memoizedState}function _R(s,i,c){var h=Ko(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},n0(s))r0(i,c);else if(c=Dw(s,i,c,h),c!==null){var v=Dn();qr(c,s,h,v),s0(c,i,h)}}function xR(s,i,c){var h=Ko(s),v={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(n0(s))r0(i,v);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var I=i.lastRenderedState,V=x(I,c);if(v.hasEagerState=!0,v.eagerState=V,$r(V,I)){var B=i.interleaved;B===null?(v.next=v,qp(i)):(v.next=B.next,B.next=v),i.interleaved=v;return}}catch{}finally{}c=Dw(s,i,v,h),c!==null&&(v=Dn(),qr(c,s,h,v),s0(c,i,h))}}function n0(s){var i=s.alternate;return s===Pt||i!==null&&i===Pt}function r0(s,i){wc=Id=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function s0(s,i,c){if((c&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,c|=h,i.lanes=c,Do(s,c)}}var Ad={readContext:Er,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},ER={readContext:Er,useCallback:function(s,i){return ms().memoizedState=[s,i===void 0?null:i],s},useContext:Er,useEffect:Gw,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,Cd(4194308,4,Yw.bind(null,i,s),c)},useLayoutEffect:function(s,i){return Cd(4194308,4,s,i)},useInsertionEffect:function(s,i){return Cd(4,2,s,i)},useMemo:function(s,i){var c=ms();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var h=ms();return i=c!==void 0?c(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=_R.bind(null,Pt,s),[h.memoizedState,s]},useRef:function(s){var i=ms();return s={current:s},i.memoizedState=s},useState:Ww,useDebugValue:om,useDeferredValue:function(s){return ms().memoizedState=s},useTransition:function(){var s=Ww(!1),i=s[0];return s=wR.bind(null,s[1]),ms().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var h=Pt,v=ms();if(bt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),sn===null)throw Error(t(349));(Hi&30)!==0||Uw(h,i,c)}v.memoizedState=c;var x={value:c,getSnapshot:i};return v.queue=x,Gw(zw.bind(null,h,x,s),[s]),h.flags|=2048,Ec(9,$w.bind(null,h,x,c,i),void 0,null),c},useId:function(){var s=ms(),i=sn.identifierPrefix;if(bt){var c=Hs,h=Bs;c=(h&~(1<<32-Pn(h)-1)).toString(32)+c,i=":"+i+"R"+c,c=_c++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=yR++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},SR={readContext:Er,useCallback:Jw,useContext:Er,useEffect:sm,useImperativeHandle:Xw,useInsertionEffect:Kw,useLayoutEffect:Qw,useMemo:Zw,useReducer:nm,useRef:qw,useState:function(){return nm(xc)},useDebugValue:om,useDeferredValue:function(s){var i=Sr();return e0(i,Qt.memoizedState,s)},useTransition:function(){var s=nm(xc)[0],i=Sr().memoizedState;return[s,i]},useMutableSource:Vw,useSyncExternalStore:Fw,useId:t0,unstable_isNewReconciler:!1},TR={readContext:Er,useCallback:Jw,useContext:Er,useEffect:sm,useImperativeHandle:Xw,useInsertionEffect:Kw,useLayoutEffect:Qw,useMemo:Zw,useReducer:rm,useRef:qw,useState:function(){return rm(xc)},useDebugValue:om,useDeferredValue:function(s){var i=Sr();return Qt===null?i.memoizedState=s:e0(i,Qt.memoizedState,s)},useTransition:function(){var s=rm(xc)[0],i=Sr().memoizedState;return[s,i]},useMutableSource:Vw,useSyncExternalStore:Fw,useId:t0,unstable_isNewReconciler:!1};function Br(s,i){if(s&&s.defaultProps){i=oe({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function im(s,i,c,h){i=s.memoizedState,c=c(h,i),c=c==null?i:oe({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Pd={isMounted:function(s){return(s=s._reactInternals)?Or(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var h=Dn(),v=Ko(s),x=qs(h,v);x.payload=i,c!=null&&(x.callback=c),i=Ho(s,x,v),i!==null&&(qr(i,s,v,h),Ed(i,s,v))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var h=Dn(),v=Ko(s),x=qs(h,v);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Ho(s,x,v),i!==null&&(qr(i,s,v,h),Ed(i,s,v))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=Dn(),h=Ko(s),v=qs(c,h);v.tag=2,i!=null&&(v.callback=i),i=Ho(s,v,h),i!==null&&(qr(i,s,h,c),Ed(i,s,h))}};function o0(s,i,c,h,v,x,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,I):i.prototype&&i.prototype.isPureReactComponent?!lc(c,h)||!lc(v,x):!0}function i0(s,i,c){var h=!1,v=$o,x=i.contextType;return typeof x=="object"&&x!==null?x=Er(x):(v=zn(i)?Fi:vn.current,h=i.contextTypes,x=(h=h!=null)?Ka(s,v):$o),i=new i(c,x),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Pd,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=x),i}function a0(s,i,c,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==s&&Pd.enqueueReplaceState(i,i.state,null)}function am(s,i,c,h){var v=s.stateNode;v.props=c,v.state=s.memoizedState,v.refs={},Gp(s);var x=i.contextType;typeof x=="object"&&x!==null?v.context=Er(x):(x=zn(i)?Fi:vn.current,v.context=Ka(s,x)),v.state=s.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(im(s,i,x,c),v.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(i=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),i!==v.state&&Pd.enqueueReplaceState(v,v.state,null),Sd(s,c,v,h),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function nl(s,i){try{var c="",h=i;do c+=ye(h),h=h.return;while(h);var v=c}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:i,stack:v,digest:null}}function lm(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function cm(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var bR=typeof WeakMap=="function"?WeakMap:Map;function l0(s,i,c){c=qs(-1,c),c.tag=3,c.payload={element:null};var h=i.value;return c.callback=function(){Ld||(Ld=!0,Tm=h),cm(s,i)},c}function c0(s,i,c){c=qs(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var v=i.value;c.payload=function(){return h(v)},c.callback=function(){cm(s,i)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){cm(s,i),typeof h!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var I=i.stack;this.componentDidCatch(i.value,{componentStack:I!==null?I:""})}),c}function u0(s,i,c){var h=s.pingCache;if(h===null){h=s.pingCache=new bR;var v=new Set;h.set(i,v)}else v=h.get(i),v===void 0&&(v=new Set,h.set(i,v));v.has(c)||(v.add(c),s=FR.bind(null,s,i,c),i.then(s,s))}function d0(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function f0(s,i,c,h,v){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=qs(-1,1),i.tag=2,Ho(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var IR=H.ReactCurrentOwner,Bn=!1;function Nn(s,i,c,h){i.child=s===null?Nw(i,null,c,h):Ja(i,s.child,c,h)}function h0(s,i,c,h,v){c=c.render;var x=i.ref;return el(i,v),h=em(s,i,c,h,x,v),c=tm(),s!==null&&!Bn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~v,Gs(s,i,v)):(bt&&c&&Lp(i),i.flags|=1,Nn(s,i,h,v),i.child)}function p0(s,i,c,h,v){if(s===null){var x=c.type;return typeof x=="function"&&!km(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,m0(s,i,x,h,v)):(s=Bd(c.type,null,h,i,i.mode,v),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,(s.lanes&v)===0){var I=x.memoizedProps;if(c=c.compare,c=c!==null?c:lc,c(I,h)&&s.ref===i.ref)return Gs(s,i,v)}return i.flags|=1,s=Yo(x,h),s.ref=i.ref,s.return=i,i.child=s}function m0(s,i,c,h,v){if(s!==null){var x=s.memoizedProps;if(lc(x,h)&&s.ref===i.ref)if(Bn=!1,i.pendingProps=h=x,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Bn=!0);else return i.lanes=s.lanes,Gs(s,i,v)}return um(s,i,c,h,v)}function g0(s,i,c){var h=i.pendingProps,v=h.children,x=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(sl,ar),ar|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,gt(sl,ar),ar|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,gt(sl,ar),ar|=h}else x!==null?(h=x.baseLanes|c,i.memoizedState=null):h=c,gt(sl,ar),ar|=h;return Nn(s,i,v,c),i.child}function v0(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function um(s,i,c,h,v){var x=zn(c)?Fi:vn.current;return x=Ka(i,x),el(i,v),c=em(s,i,c,h,x,v),h=tm(),s!==null&&!Bn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~v,Gs(s,i,v)):(bt&&h&&Lp(i),i.flags|=1,Nn(s,i,c,v),i.child)}function y0(s,i,c,h,v){if(zn(c)){var x=!0;pd(i)}else x=!1;if(el(i,v),i.stateNode===null)Nd(s,i),i0(i,c,h),am(i,c,h,v),h=!0;else if(s===null){var I=i.stateNode,V=i.memoizedProps;I.props=V;var B=I.context,ne=c.contextType;typeof ne=="object"&&ne!==null?ne=Er(ne):(ne=zn(c)?Fi:vn.current,ne=Ka(i,ne));var de=c.getDerivedStateFromProps,he=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function";he||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==h||B!==ne)&&a0(i,I,h,ne),Bo=!1;var ue=i.memoizedState;I.state=ue,Sd(i,h,I,v),B=i.memoizedState,V!==h||ue!==B||$n.current||Bo?(typeof de=="function"&&(im(i,c,de,h),B=i.memoizedState),(V=Bo||o0(i,c,V,h,ue,B,ne))?(he||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(i.flags|=4194308)):(typeof I.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=B),I.props=h,I.state=B,I.context=ne,h=V):(typeof I.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{I=i.stateNode,Ow(s,i),V=i.memoizedProps,ne=i.type===i.elementType?V:Br(i.type,V),I.props=ne,he=i.pendingProps,ue=I.context,B=c.contextType,typeof B=="object"&&B!==null?B=Er(B):(B=zn(c)?Fi:vn.current,B=Ka(i,B));var _e=c.getDerivedStateFromProps;(de=typeof _e=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==he||ue!==B)&&a0(i,I,h,B),Bo=!1,ue=i.memoizedState,I.state=ue,Sd(i,h,I,v);var Ie=i.memoizedState;V!==he||ue!==Ie||$n.current||Bo?(typeof _e=="function"&&(im(i,c,_e,h),Ie=i.memoizedState),(ne=Bo||o0(i,c,ne,h,ue,Ie,B)||!1)?(de||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,Ie,B),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,Ie,B)),typeof I.componentDidUpdate=="function"&&(i.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof I.componentDidUpdate!="function"||V===s.memoizedProps&&ue===s.memoizedState||(i.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ue===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Ie),I.props=h,I.state=Ie,I.context=B,h=ne):(typeof I.componentDidUpdate!="function"||V===s.memoizedProps&&ue===s.memoizedState||(i.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ue===s.memoizedState||(i.flags|=1024),h=!1)}return dm(s,i,c,h,x,v)}function dm(s,i,c,h,v,x){v0(s,i);var I=(i.flags&128)!==0;if(!h&&!I)return v&&Sw(i,c,!1),Gs(s,i,x);h=i.stateNode,IR.current=i;var V=I&&typeof c.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&I?(i.child=Ja(i,s.child,null,x),i.child=Ja(i,null,V,x)):Nn(s,i,V,x),i.memoizedState=h.state,v&&Sw(i,c,!0),i.child}function w0(s){var i=s.stateNode;i.pendingContext?xw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&xw(s,i.context,!1),Kp(s,i.containerInfo)}function _0(s,i,c,h,v){return Xa(),$p(v),i.flags|=256,Nn(s,i,c,h),i.child}var fm={dehydrated:null,treeContext:null,retryLane:0};function hm(s){return{baseLanes:s,cachePool:null,transitions:null}}function x0(s,i,c){var h=i.pendingProps,v=At.current,x=!1,I=(i.flags&128)!==0,V;if((V=I)||(V=s!==null&&s.memoizedState===null?!1:(v&2)!==0),V?(x=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),gt(At,v&1),s===null)return Up(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(I=h.children,s=h.fallback,x?(h=i.mode,x=i.child,I={mode:"hidden",children:I},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=I):x=Hd(I,h,0,null),s=Qi(s,h,c,null),x.return=i,s.return=i,x.sibling=s,i.child=x,i.child.memoizedState=hm(c),i.memoizedState=fm,s):pm(i,I));if(v=s.memoizedState,v!==null&&(V=v.dehydrated,V!==null))return CR(s,i,I,h,V,v,c);if(x){x=h.fallback,I=i.mode,v=s.child,V=v.sibling;var B={mode:"hidden",children:h.children};return(I&1)===0&&i.child!==v?(h=i.child,h.childLanes=0,h.pendingProps=B,i.deletions=null):(h=Yo(v,B),h.subtreeFlags=v.subtreeFlags&14680064),V!==null?x=Yo(V,x):(x=Qi(x,I,c,null),x.flags|=2),x.return=i,h.return=i,h.sibling=x,i.child=h,h=x,x=i.child,I=s.child.memoizedState,I=I===null?hm(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},x.memoizedState=I,x.childLanes=s.childLanes&~c,i.memoizedState=fm,h}return x=s.child,s=x.sibling,h=Yo(x,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=c),h.return=i,h.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=h,i.memoizedState=null,h}function pm(s,i){return i=Hd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function kd(s,i,c,h){return h!==null&&$p(h),Ja(i,s.child,null,c),s=pm(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function CR(s,i,c,h,v,x,I){if(c)return i.flags&256?(i.flags&=-257,h=lm(Error(t(422))),kd(s,i,I,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(x=h.fallback,v=i.mode,h=Hd({mode:"visible",children:h.children},v,0,null),x=Qi(x,v,I,null),x.flags|=2,h.return=i,x.return=i,h.sibling=x,i.child=h,(i.mode&1)!==0&&Ja(i,s.child,null,I),i.child.memoizedState=hm(I),i.memoizedState=fm,x);if((i.mode&1)===0)return kd(s,i,I,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var V=h.dgst;return h=V,x=Error(t(419)),h=lm(x,h,void 0),kd(s,i,I,h)}if(V=(I&s.childLanes)!==0,Bn||V){if(h=sn,h!==null){switch(I&-I){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|I))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,Ws(s,v),qr(h,s,v,-1))}return Pm(),h=lm(Error(t(421))),kd(s,i,I,h)}return v.data==="$?"?(i.flags|=128,i.child=s.child,i=UR.bind(null,s),v._reactRetry=i,null):(s=x.treeContext,ir=Fo(v.nextSibling),or=i,bt=!0,zr=null,s!==null&&(_r[xr++]=Bs,_r[xr++]=Hs,_r[xr++]=Ui,Bs=s.id,Hs=s.overflow,Ui=i),i=pm(i,h.children),i.flags|=4096,i)}function E0(s,i,c){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Wp(s.return,i,c)}function mm(s,i,c,h,v){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=v)}function S0(s,i,c){var h=i.pendingProps,v=h.revealOrder,x=h.tail;if(Nn(s,i,h.children,c),h=At.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&E0(s,c,i);else if(s.tag===19)E0(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(gt(At,h),(i.mode&1)===0)i.memoizedState=null;else switch(v){case"forwards":for(c=i.child,v=null;c!==null;)s=c.alternate,s!==null&&Td(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=i.child,i.child=null):(v=c.sibling,c.sibling=null),mm(i,!1,v,c,x);break;case"backwards":for(c=null,v=i.child,i.child=null;v!==null;){if(s=v.alternate,s!==null&&Td(s)===null){i.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}mm(i,!0,c,null,x);break;case"together":mm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Nd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Gs(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),Wi|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,c=Yo(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=Yo(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function RR(s,i,c){switch(i.tag){case 3:w0(i),Xa();break;case 5:Lw(i);break;case 1:zn(i.type)&&pd(i);break;case 4:Kp(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,v=i.memoizedProps.value;gt(_d,h._currentValue),h._currentValue=v;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(gt(At,At.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?x0(s,i,c):(gt(At,At.current&1),s=Gs(s,i,c),s!==null?s.sibling:null);gt(At,At.current&1);break;case 19:if(h=(c&i.childLanes)!==0,(s.flags&128)!==0){if(h)return S0(s,i,c);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),gt(At,At.current),h)break;return null;case 22:case 23:return i.lanes=0,g0(s,i,c)}return Gs(s,i,c)}var T0,gm,b0,I0;T0=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},gm=function(){},b0=function(s,i,c,h){var v=s.memoizedProps;if(v!==h){s=i.stateNode,Bi(ps.current);var x=null;switch(c){case"input":v=Ht(s,v),h=Ht(s,h),x=[];break;case"select":v=oe({},v,{value:void 0}),h=oe({},h,{value:void 0}),x=[];break;case"textarea":v=Wt(s,v),h=Wt(s,h),x=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=dd)}Co(c,h);var I;c=null;for(ne in v)if(!h.hasOwnProperty(ne)&&v.hasOwnProperty(ne)&&v[ne]!=null)if(ne==="style"){var V=v[ne];for(I in V)V.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(o.hasOwnProperty(ne)?x||(x=[]):(x=x||[]).push(ne,null));for(ne in h){var B=h[ne];if(V=v?.[ne],h.hasOwnProperty(ne)&&B!==V&&(B!=null||V!=null))if(ne==="style")if(V){for(I in V)!V.hasOwnProperty(I)||B&&B.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in B)B.hasOwnProperty(I)&&V[I]!==B[I]&&(c||(c={}),c[I]=B[I])}else c||(x||(x=[]),x.push(ne,c)),c=B;else ne==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,V=V?V.__html:void 0,B!=null&&V!==B&&(x=x||[]).push(ne,B)):ne==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(ne,""+B):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(o.hasOwnProperty(ne)?(B!=null&&ne==="onScroll"&&yt("scroll",s),x||V===B||(x=[])):(x=x||[]).push(ne,B))}c&&(x=x||[]).push("style",c);var ne=x;(i.updateQueue=ne)&&(i.flags|=4)}},I0=function(s,i,c,h){c!==h&&(i.flags|=4)};function Sc(s,i){if(!bt)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function wn(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(i)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=c,i}function AR(s,i,c){var h=i.pendingProps;switch(Vp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(i),null;case 1:return zn(i.type)&&hd(),wn(i),null;case 3:return h=i.stateNode,tl(),wt($n),wt(vn),Xp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(yd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zr!==null&&(Cm(zr),zr=null))),gm(s,i),wn(i),null;case 5:Qp(i);var v=Bi(yc.current);if(c=i.type,s!==null&&i.stateNode!=null)b0(s,i,c,h,v),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return wn(i),null}if(s=Bi(ps.current),yd(i)){h=i.stateNode,c=i.type;var x=i.memoizedProps;switch(h[hs]=i,h[hc]=x,s=(i.mode&1)!==0,c){case"dialog":yt("cancel",h),yt("close",h);break;case"iframe":case"object":case"embed":yt("load",h);break;case"video":case"audio":for(v=0;v<uc.length;v++)yt(uc[v],h);break;case"source":yt("error",h);break;case"img":case"image":case"link":yt("error",h),yt("load",h);break;case"details":yt("toggle",h);break;case"input":hr(h,x),yt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},yt("invalid",h);break;case"textarea":Zn(h,x),yt("invalid",h)}Co(c,x),v=null;for(var I in x)if(x.hasOwnProperty(I)){var V=x[I];I==="children"?typeof V=="string"?h.textContent!==V&&(x.suppressHydrationWarning!==!0&&ud(h.textContent,V,s),v=["children",V]):typeof V=="number"&&h.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&ud(h.textContent,V,s),v=["children",""+V]):o.hasOwnProperty(I)&&V!=null&&I==="onScroll"&&yt("scroll",h)}switch(c){case"input":He(h),Ti(h,x,!0);break;case"textarea":He(h),bi(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=dd)}h=v,i.updateQueue=h,h!==null&&(i.flags|=4)}else{I=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=xt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=I.createElement(c,{is:h.is}):(s=I.createElement(c),c==="select"&&(I=s,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):s=I.createElementNS(s,c),s[hs]=i,s[hc]=h,T0(s,i,!1,!1),i.stateNode=s;e:{switch(I=Ri(c,h),c){case"dialog":yt("cancel",s),yt("close",s),v=h;break;case"iframe":case"object":case"embed":yt("load",s),v=h;break;case"video":case"audio":for(v=0;v<uc.length;v++)yt(uc[v],s);v=h;break;case"source":yt("error",s),v=h;break;case"img":case"image":case"link":yt("error",s),yt("load",s),v=h;break;case"details":yt("toggle",s),v=h;break;case"input":hr(s,h),v=Ht(s,h),yt("invalid",s);break;case"option":v=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},v=oe({},h,{value:void 0}),yt("invalid",s);break;case"textarea":Zn(s,h),v=Wt(s,h),yt("invalid",s);break;default:v=h}Co(c,v),V=v;for(x in V)if(V.hasOwnProperty(x)){var B=V[x];x==="style"?Ci(s,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Os(s,B)):x==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&Rn(s,B):typeof B=="number"&&Rn(s,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?B!=null&&x==="onScroll"&&yt("scroll",s):B!=null&&U(s,x,B,I))}switch(c){case"input":He(s),Ti(s,h,!1);break;case"textarea":He(s),bi(s);break;case"option":h.value!=null&&s.setAttribute("value",""+ge(h.value));break;case"select":s.multiple=!!h.multiple,x=h.value,x!=null?kr(s,!!h.multiple,x,!1):h.defaultValue!=null&&kr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=dd)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return wn(i),null;case 6:if(s&&i.stateNode!=null)I0(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(c=Bi(yc.current),Bi(ps.current),yd(i)){if(h=i.stateNode,c=i.memoizedProps,h[hs]=i,(x=h.nodeValue!==c)&&(s=or,s!==null))switch(s.tag){case 3:ud(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ud(h.nodeValue,c,(s.mode&1)!==0)}x&&(i.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[hs]=i,i.stateNode=h}return wn(i),null;case 13:if(wt(At),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(bt&&ir!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Aw(),Xa(),i.flags|=98560,x=!1;else if(x=yd(i),h!==null&&h.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[hs]=i}else Xa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wn(i),x=!1}else zr!==null&&(Cm(zr),zr=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(At.current&1)!==0?Yt===0&&(Yt=3):Pm())),i.updateQueue!==null&&(i.flags|=4),wn(i),null);case 4:return tl(),gm(s,i),s===null&&dc(i.stateNode.containerInfo),wn(i),null;case 10:return Hp(i.type._context),wn(i),null;case 17:return zn(i.type)&&hd(),wn(i),null;case 19:if(wt(At),x=i.memoizedState,x===null)return wn(i),null;if(h=(i.flags&128)!==0,I=x.rendering,I===null)if(h)Sc(x,!1);else{if(Yt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(I=Td(s),I!==null){for(i.flags|=128,Sc(x,!1),h=I.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=c,c=i.child;c!==null;)x=c,s=h,x.flags&=14680066,I=x.alternate,I===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=I.childLanes,x.lanes=I.lanes,x.child=I.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=I.memoizedProps,x.memoizedState=I.memoizedState,x.updateQueue=I.updateQueue,x.type=I.type,s=I.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return gt(At,At.current&1|2),i.child}s=s.sibling}x.tail!==null&&mt()>ol&&(i.flags|=128,h=!0,Sc(x,!1),i.lanes=4194304)}else{if(!h)if(s=Td(I),s!==null){if(i.flags|=128,h=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Sc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!bt)return wn(i),null}else 2*mt()-x.renderingStartTime>ol&&c!==1073741824&&(i.flags|=128,h=!0,Sc(x,!1),i.lanes=4194304);x.isBackwards?(I.sibling=i.child,i.child=I):(c=x.last,c!==null?c.sibling=I:i.child=I,x.last=I)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=mt(),i.sibling=null,c=At.current,gt(At,h?c&1|2:c&1),i):(wn(i),null);case 22:case 23:return Am(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(ar&1073741824)!==0&&(wn(i),i.subtreeFlags&6&&(i.flags|=8192)):wn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function PR(s,i){switch(Vp(i),i.tag){case 1:return zn(i.type)&&hd(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return tl(),wt($n),wt(vn),Xp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Qp(i),null;case 13:if(wt(At),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Xa()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return wt(At),null;case 4:return tl(),null;case 10:return Hp(i.type._context),null;case 22:case 23:return Am(),null;case 24:return null;default:return null}}var Dd=!1,_n=!1,kR=typeof WeakSet=="function"?WeakSet:Set,Te=null;function rl(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Dt(s,i,h)}else c.current=null}function vm(s,i,c){try{c()}catch(h){Dt(s,i,h)}}var C0=!1;function NR(s,i){if(Ap=Mo,s=ow(),xp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var I=0,V=-1,B=-1,ne=0,de=0,he=s,ue=null;t:for(;;){for(var _e;he!==c||v!==0&&he.nodeType!==3||(V=I+v),he!==x||h!==0&&he.nodeType!==3||(B=I+h),he.nodeType===3&&(I+=he.nodeValue.length),(_e=he.firstChild)!==null;)ue=he,he=_e;for(;;){if(he===s)break t;if(ue===c&&++ne===v&&(V=I),ue===x&&++de===h&&(B=I),(_e=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=_e}c=V===-1||B===-1?null:{start:V,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pp={focusedElem:s,selectionRange:c},Mo=!1,Te=i;Te!==null;)if(i=Te,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Te=s;else for(;Te!==null;){i=Te;try{var Ie=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Ae=Ie.memoizedProps,Mt=Ie.memoizedState,X=i.stateNode,W=X.getSnapshotBeforeUpdate(i.elementType===i.type?Ae:Br(i.type,Ae),Mt);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var ee=i.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Dt(i,i.return,pe)}if(s=i.sibling,s!==null){s.return=i.return,Te=s;break}Te=i.return}return Ie=C0,C0=!1,Ie}function Tc(s,i,c){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&s)===s){var x=v.destroy;v.destroy=void 0,x!==void 0&&vm(i,c,x)}v=v.next}while(v!==h)}}function Od(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==i)}}function ym(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function R0(s){var i=s.alternate;i!==null&&(s.alternate=null,R0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[hs],delete i[hc],delete i[Op],delete i[pR],delete i[mR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function A0(s){return s.tag===5||s.tag===3||s.tag===4}function P0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||A0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wm(s,i,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=dd));else if(h!==4&&(s=s.child,s!==null))for(wm(s,i,c),s=s.sibling;s!==null;)wm(s,i,c),s=s.sibling}function _m(s,i,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(_m(s,i,c),s=s.sibling;s!==null;)_m(s,i,c),s=s.sibling}var dn=null,Hr=!1;function Wo(s,i,c){for(c=c.child;c!==null;)k0(s,i,c),c=c.sibling}function k0(s,i,c){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ki,c)}catch{}switch(c.tag){case 5:_n||rl(c,i);case 6:var h=dn,v=Hr;dn=null,Wo(s,i,c),dn=h,Hr=v,dn!==null&&(Hr?(s=dn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):dn.removeChild(c.stateNode));break;case 18:dn!==null&&(Hr?(s=dn,c=c.stateNode,s.nodeType===8?Dp(s.parentNode,c):s.nodeType===1&&Dp(s,c),Fr(s)):Dp(dn,c.stateNode));break;case 4:h=dn,v=Hr,dn=c.stateNode.containerInfo,Hr=!0,Wo(s,i,c),dn=h,Hr=v;break;case 0:case 11:case 14:case 15:if(!_n&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var x=v,I=x.destroy;x=x.tag,I!==void 0&&((x&2)!==0||(x&4)!==0)&&vm(c,i,I),v=v.next}while(v!==h)}Wo(s,i,c);break;case 1:if(!_n&&(rl(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(V){Dt(c,i,V)}Wo(s,i,c);break;case 21:Wo(s,i,c);break;case 22:c.mode&1?(_n=(h=_n)||c.memoizedState!==null,Wo(s,i,c),_n=h):Wo(s,i,c);break;default:Wo(s,i,c)}}function N0(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new kR),i.forEach(function(h){var v=$R.bind(null,s,h);c.has(h)||(c.add(h),h.then(v,v))})}}function Wr(s,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h];try{var x=s,I=i,V=I;e:for(;V!==null;){switch(V.tag){case 5:dn=V.stateNode,Hr=!1;break e;case 3:dn=V.stateNode.containerInfo,Hr=!0;break e;case 4:dn=V.stateNode.containerInfo,Hr=!0;break e}V=V.return}if(dn===null)throw Error(t(160));k0(x,I,v),dn=null,Hr=!1;var B=v.alternate;B!==null&&(B.return=null),v.return=null}catch(ne){Dt(v,i,ne)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)D0(i,s),i=i.sibling}function D0(s,i){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Wr(i,s),gs(s),h&4){try{Tc(3,s,s.return),Od(3,s)}catch(Ae){Dt(s,s.return,Ae)}try{Tc(5,s,s.return)}catch(Ae){Dt(s,s.return,Ae)}}break;case 1:Wr(i,s),gs(s),h&512&&c!==null&&rl(c,c.return);break;case 5:if(Wr(i,s),gs(s),h&512&&c!==null&&rl(c,c.return),s.flags&32){var v=s.stateNode;try{Rn(v,"")}catch(Ae){Dt(s,s.return,Ae)}}if(h&4&&(v=s.stateNode,v!=null)){var x=s.memoizedProps,I=c!==null?c.memoizedProps:x,V=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&pr(v,x),Ri(V,I);var ne=Ri(V,x);for(I=0;I<B.length;I+=2){var de=B[I],he=B[I+1];de==="style"?Ci(v,he):de==="dangerouslySetInnerHTML"?Os(v,he):de==="children"?Rn(v,he):U(v,de,he,ne)}switch(V){case"input":Cn(v,x);break;case"textarea":bo(v,x);break;case"select":var ue=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var _e=x.value;_e!=null?kr(v,!!x.multiple,_e,!1):ue!==!!x.multiple&&(x.defaultValue!=null?kr(v,!!x.multiple,x.defaultValue,!0):kr(v,!!x.multiple,x.multiple?[]:"",!1))}v[hc]=x}catch(Ae){Dt(s,s.return,Ae)}}break;case 6:if(Wr(i,s),gs(s),h&4){if(s.stateNode===null)throw Error(t(162));v=s.stateNode,x=s.memoizedProps;try{v.nodeValue=x}catch(Ae){Dt(s,s.return,Ae)}}break;case 3:if(Wr(i,s),gs(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Fr(i.containerInfo)}catch(Ae){Dt(s,s.return,Ae)}break;case 4:Wr(i,s),gs(s);break;case 13:Wr(i,s),gs(s),v=s.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(Sm=mt())),h&4&&N0(s);break;case 22:if(de=c!==null&&c.memoizedState!==null,s.mode&1?(_n=(ne=_n)||de,Wr(i,s),_n=ne):Wr(i,s),gs(s),h&8192){if(ne=s.memoizedState!==null,(s.stateNode.isHidden=ne)&&!de&&(s.mode&1)!==0)for(Te=s,de=s.child;de!==null;){for(he=Te=de;Te!==null;){switch(ue=Te,_e=ue.child,ue.tag){case 0:case 11:case 14:case 15:Tc(4,ue,ue.return);break;case 1:rl(ue,ue.return);var Ie=ue.stateNode;if(typeof Ie.componentWillUnmount=="function"){h=ue,c=ue.return;try{i=h,Ie.props=i.memoizedProps,Ie.state=i.memoizedState,Ie.componentWillUnmount()}catch(Ae){Dt(h,c,Ae)}}break;case 5:rl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){M0(he);continue}}_e!==null?(_e.return=ue,Te=_e):M0(he)}de=de.sibling}e:for(de=null,he=s;;){if(he.tag===5){if(de===null){de=he;try{v=he.stateNode,ne?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=he.stateNode,B=he.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null,V.style.display=Ii("display",I))}catch(Ae){Dt(s,s.return,Ae)}}}else if(he.tag===6){if(de===null)try{he.stateNode.nodeValue=ne?"":he.memoizedProps}catch(Ae){Dt(s,s.return,Ae)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;de===he&&(de=null),he=he.return}de===he&&(de=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Wr(i,s),gs(s),h&4&&N0(s);break;case 21:break;default:Wr(i,s),gs(s)}}function gs(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(A0(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(Rn(v,""),h.flags&=-33);var x=P0(s);_m(s,x,v);break;case 3:case 4:var I=h.stateNode.containerInfo,V=P0(s);wm(s,V,I);break;default:throw Error(t(161))}}catch(B){Dt(s,s.return,B)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function DR(s,i,c){Te=s,O0(s)}function O0(s,i,c){for(var h=(s.mode&1)!==0;Te!==null;){var v=Te,x=v.child;if(v.tag===22&&h){var I=v.memoizedState!==null||Dd;if(!I){var V=v.alternate,B=V!==null&&V.memoizedState!==null||_n;V=Dd;var ne=_n;if(Dd=I,(_n=B)&&!ne)for(Te=v;Te!==null;)I=Te,B=I.child,I.tag===22&&I.memoizedState!==null?L0(v):B!==null?(B.return=I,Te=B):L0(v);for(;x!==null;)Te=x,O0(x),x=x.sibling;Te=v,Dd=V,_n=ne}j0(s)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,Te=x):j0(s)}}function j0(s){for(;Te!==null;){var i=Te;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:_n||Od(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!_n)if(c===null)h.componentDidMount();else{var v=i.elementType===i.type?c.memoizedProps:Br(i.type,c.memoizedProps);h.componentDidUpdate(v,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Mw(i,x,h);break;case 3:var I=i.updateQueue;if(I!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Mw(i,I,c)}break;case 5:var V=i.stateNode;if(c===null&&i.flags&4){c=V;var B=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ne=i.alternate;if(ne!==null){var de=ne.memoizedState;if(de!==null){var he=de.dehydrated;he!==null&&Fr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_n||i.flags&512&&ym(i)}catch(ue){Dt(i,i.return,ue)}}if(i===s){Te=null;break}if(c=i.sibling,c!==null){c.return=i.return,Te=c;break}Te=i.return}}function M0(s){for(;Te!==null;){var i=Te;if(i===s){Te=null;break}var c=i.sibling;if(c!==null){c.return=i.return,Te=c;break}Te=i.return}}function L0(s){for(;Te!==null;){var i=Te;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Od(4,i)}catch(B){Dt(i,c,B)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var v=i.return;try{h.componentDidMount()}catch(B){Dt(i,v,B)}}var x=i.return;try{ym(i)}catch(B){Dt(i,x,B)}break;case 5:var I=i.return;try{ym(i)}catch(B){Dt(i,I,B)}}}catch(B){Dt(i,i.return,B)}if(i===s){Te=null;break}var V=i.sibling;if(V!==null){V.return=i.return,Te=V;break}Te=i.return}}var OR=Math.ceil,jd=H.ReactCurrentDispatcher,xm=H.ReactCurrentOwner,Tr=H.ReactCurrentBatchConfig,it=0,sn=null,Ut=null,fn=0,ar=0,sl=Uo(0),Yt=0,bc=null,Wi=0,Md=0,Em=0,Ic=null,Hn=null,Sm=0,ol=1/0,Ks=null,Ld=!1,Tm=null,qo=null,Vd=!1,Go=null,Fd=0,Cc=0,bm=null,Ud=-1,$d=0;function Dn(){return(it&6)!==0?mt():Ud!==-1?Ud:Ud=mt()}function Ko(s){return(s.mode&1)===0?1:(it&2)!==0&&fn!==0?fn&-fn:vR.transition!==null?($d===0&&($d=Di()),$d):(s=et,s!==0||(s=window.event,s=s===void 0?16:tc(s.type)),s)}function qr(s,i,c,h){if(50<Cc)throw Cc=0,bm=null,Error(t(185));No(s,c,h),((it&2)===0||s!==sn)&&(s===sn&&((it&2)===0&&(Md|=c),Yt===4&&Qo(s,fn)),Wn(s,h),c===1&&it===0&&(i.mode&1)===0&&(ol=mt()+500,md&&zo()))}function Wn(s,i){var c=s.callbackNode;Ms(s,i);var h=Ni(s,s===sn?fn:0);if(h===0)c!==null&&Yl(c),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(c!=null&&Yl(c),i===1)s.tag===0?gR(F0.bind(null,s)):Tw(F0.bind(null,s)),fR(function(){(it&6)===0&&zo()}),c=null;else{switch(Oo(h)){case 1:c=Pi;break;case 4:c=Ao;break;case 16:c=vr;break;case 536870912:c=$u;break;default:c=vr}c=G0(c,V0.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function V0(s,i){if(Ud=-1,$d=0,(it&6)!==0)throw Error(t(327));var c=s.callbackNode;if(il()&&s.callbackNode!==c)return null;var h=Ni(s,s===sn?fn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=zd(s,h);else{i=h;var v=it;it|=2;var x=$0();(sn!==s||fn!==i)&&(Ks=null,ol=mt()+500,Gi(s,i));do try{LR();break}catch(V){U0(s,V)}while(!0);Bp(),jd.current=x,it=v,Ut!==null?i=0:(sn=null,fn=0,i=Yt)}if(i!==0){if(i===2&&(v=nr(s),v!==0&&(h=v,i=Im(s,v))),i===1)throw c=bc,Gi(s,0),Qo(s,h),Wn(s,mt()),c;if(i===6)Qo(s,h);else{if(v=s.current.alternate,(h&30)===0&&!jR(v)&&(i=zd(s,h),i===2&&(x=nr(s),x!==0&&(h=x,i=Im(s,x))),i===1))throw c=bc,Gi(s,0),Qo(s,h),Wn(s,mt()),c;switch(s.finishedWork=v,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Ki(s,Hn,Ks);break;case 3:if(Qo(s,h),(h&130023424)===h&&(i=Sm+500-mt(),10<i)){if(Ni(s,0)!==0)break;if(v=s.suspendedLanes,(v&h)!==h){Dn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Np(Ki.bind(null,s,Hn,Ks),i);break}Ki(s,Hn,Ks);break;case 4:if(Qo(s,h),(h&4194240)===h)break;for(i=s.eventTimes,v=-1;0<h;){var I=31-Pn(h);x=1<<I,I=i[I],I>v&&(v=I),h&=~x}if(h=v,h=mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*OR(h/1960))-h,10<h){s.timeoutHandle=Np(Ki.bind(null,s,Hn,Ks),h);break}Ki(s,Hn,Ks);break;case 5:Ki(s,Hn,Ks);break;default:throw Error(t(329))}}}return Wn(s,mt()),s.callbackNode===c?V0.bind(null,s):null}function Im(s,i){var c=Ic;return s.current.memoizedState.isDehydrated&&(Gi(s,i).flags|=256),s=zd(s,i),s!==2&&(i=Hn,Hn=c,i!==null&&Cm(i)),s}function Cm(s){Hn===null?Hn=s:Hn.push.apply(Hn,s)}function jR(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var v=c[h],x=v.getSnapshot;v=v.value;try{if(!$r(x(),v))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qo(s,i){for(i&=~Em,i&=~Md,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-Pn(i),h=1<<c;s[c]=-1,i&=~h}}function F0(s){if((it&6)!==0)throw Error(t(327));il();var i=Ni(s,0);if((i&1)===0)return Wn(s,mt()),null;var c=zd(s,i);if(s.tag!==0&&c===2){var h=nr(s);h!==0&&(i=h,c=Im(s,h))}if(c===1)throw c=bc,Gi(s,0),Qo(s,i),Wn(s,mt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Ki(s,Hn,Ks),Wn(s,mt()),null}function Rm(s,i){var c=it;it|=1;try{return s(i)}finally{it=c,it===0&&(ol=mt()+500,md&&zo())}}function qi(s){Go!==null&&Go.tag===0&&(it&6)===0&&il();var i=it;it|=1;var c=Tr.transition,h=et;try{if(Tr.transition=null,et=1,s)return s()}finally{et=h,Tr.transition=c,it=i,(it&6)===0&&zo()}}function Am(){ar=sl.current,wt(sl)}function Gi(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,dR(c)),Ut!==null)for(c=Ut.return;c!==null;){var h=c;switch(Vp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&hd();break;case 3:tl(),wt($n),wt(vn),Xp();break;case 5:Qp(h);break;case 4:tl();break;case 13:wt(At);break;case 19:wt(At);break;case 10:Hp(h.type._context);break;case 22:case 23:Am()}c=c.return}if(sn=s,Ut=s=Yo(s.current,null),fn=ar=i,Yt=0,bc=null,Em=Md=Wi=0,Hn=Ic=null,zi!==null){for(i=0;i<zi.length;i++)if(c=zi[i],h=c.interleaved,h!==null){c.interleaved=null;var v=h.next,x=c.pending;if(x!==null){var I=x.next;x.next=v,h.next=I}c.pending=h}zi=null}return s}function U0(s,i){do{var c=Ut;try{if(Bp(),bd.current=Ad,Id){for(var h=Pt.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}Id=!1}if(Hi=0,rn=Qt=Pt=null,wc=!1,_c=0,xm.current=null,c===null||c.return===null){Yt=1,bc=i,Ut=null;break}e:{var x=s,I=c.return,V=c,B=i;if(i=fn,V.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var ne=B,de=V,he=de.tag;if((de.mode&1)===0&&(he===0||he===11||he===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var _e=d0(I);if(_e!==null){_e.flags&=-257,f0(_e,I,V,x,i),_e.mode&1&&u0(x,ne,i),i=_e,B=ne;var Ie=i.updateQueue;if(Ie===null){var Ae=new Set;Ae.add(B),i.updateQueue=Ae}else Ie.add(B);break e}else{if((i&1)===0){u0(x,ne,i),Pm();break e}B=Error(t(426))}}else if(bt&&V.mode&1){var Mt=d0(I);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),f0(Mt,I,V,x,i),$p(nl(B,V));break e}}x=B=nl(B,V),Yt!==4&&(Yt=2),Ic===null?Ic=[x]:Ic.push(x),x=I;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var X=l0(x,B,i);jw(x,X);break e;case 1:V=B;var W=x.type,ee=x.stateNode;if((x.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(qo===null||!qo.has(ee)))){x.flags|=65536,i&=-i,x.lanes|=i;var pe=c0(x,V,i);jw(x,pe);break e}}x=x.return}while(x!==null)}B0(c)}catch(Pe){i=Pe,Ut===c&&c!==null&&(Ut=c=c.return);continue}break}while(!0)}function $0(){var s=jd.current;return jd.current=Ad,s===null?Ad:s}function Pm(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),sn===null||(Wi&268435455)===0&&(Md&268435455)===0||Qo(sn,fn)}function zd(s,i){var c=it;it|=2;var h=$0();(sn!==s||fn!==i)&&(Ks=null,Gi(s,i));do try{MR();break}catch(v){U0(s,v)}while(!0);if(Bp(),it=c,jd.current=h,Ut!==null)throw Error(t(261));return sn=null,fn=0,Yt}function MR(){for(;Ut!==null;)z0(Ut)}function LR(){for(;Ut!==null&&!Fu();)z0(Ut)}function z0(s){var i=q0(s.alternate,s,ar);s.memoizedProps=s.pendingProps,i===null?B0(s):Ut=i,xm.current=null}function B0(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=AR(c,i,ar),c!==null){Ut=c;return}}else{if(c=PR(c,i),c!==null){c.flags&=32767,Ut=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Yt=6,Ut=null;return}}if(i=i.sibling,i!==null){Ut=i;return}Ut=i=s}while(i!==null);Yt===0&&(Yt=5)}function Ki(s,i,c){var h=et,v=Tr.transition;try{Tr.transition=null,et=1,VR(s,i,c,h)}finally{Tr.transition=v,et=h}return null}function VR(s,i,c,h){do il();while(Go!==null);if((it&6)!==0)throw Error(t(327));c=s.finishedWork;var v=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(pt(s,x),s===sn&&(Ut=sn=null,fn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Vd||(Vd=!0,G0(vr,function(){return il(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Tr.transition,Tr.transition=null;var I=et;et=1;var V=it;it|=4,xm.current=null,NR(s,c),D0(c,s),sR(Pp),Mo=!!Ap,Pp=Ap=null,s.current=c,DR(c),hp(),it=V,et=I,Tr.transition=x}else s.current=c;if(Vd&&(Vd=!1,Go=s,Fd=v),x=s.pendingLanes,x===0&&(qo=null),zu(c.stateNode),Wn(s,mt()),i!==null)for(h=s.onRecoverableError,c=0;c<i.length;c++)v=i[c],h(v.value,{componentStack:v.stack,digest:v.digest});if(Ld)throw Ld=!1,s=Tm,Tm=null,s;return(Fd&1)!==0&&s.tag!==0&&il(),x=s.pendingLanes,(x&1)!==0?s===bm?Cc++:(Cc=0,bm=s):Cc=0,zo(),null}function il(){if(Go!==null){var s=Oo(Fd),i=Tr.transition,c=et;try{if(Tr.transition=null,et=16>s?16:s,Go===null)var h=!1;else{if(s=Go,Go=null,Fd=0,(it&6)!==0)throw Error(t(331));var v=it;for(it|=4,Te=s.current;Te!==null;){var x=Te,I=x.child;if((Te.flags&16)!==0){var V=x.deletions;if(V!==null){for(var B=0;B<V.length;B++){var ne=V[B];for(Te=ne;Te!==null;){var de=Te;switch(de.tag){case 0:case 11:case 15:Tc(8,de,x)}var he=de.child;if(he!==null)he.return=de,Te=he;else for(;Te!==null;){de=Te;var ue=de.sibling,_e=de.return;if(R0(de),de===ne){Te=null;break}if(ue!==null){ue.return=_e,Te=ue;break}Te=_e}}}var Ie=x.alternate;if(Ie!==null){var Ae=Ie.child;if(Ae!==null){Ie.child=null;do{var Mt=Ae.sibling;Ae.sibling=null,Ae=Mt}while(Ae!==null)}}Te=x}}if((x.subtreeFlags&2064)!==0&&I!==null)I.return=x,Te=I;else e:for(;Te!==null;){if(x=Te,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Tc(9,x,x.return)}var X=x.sibling;if(X!==null){X.return=x.return,Te=X;break e}Te=x.return}}var W=s.current;for(Te=W;Te!==null;){I=Te;var ee=I.child;if((I.subtreeFlags&2064)!==0&&ee!==null)ee.return=I,Te=ee;else e:for(I=W;Te!==null;){if(V=Te,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Od(9,V)}}catch(Pe){Dt(V,V.return,Pe)}if(V===I){Te=null;break e}var pe=V.sibling;if(pe!==null){pe.return=V.return,Te=pe;break e}Te=V.return}}if(it=v,zo(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ki,s)}catch{}h=!0}return h}finally{et=c,Tr.transition=i}}return!1}function H0(s,i,c){i=nl(c,i),i=l0(s,i,1),s=Ho(s,i,1),i=Dn(),s!==null&&(No(s,1,i),Wn(s,i))}function Dt(s,i,c){if(s.tag===3)H0(s,s,c);else for(;i!==null;){if(i.tag===3){H0(i,s,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(qo===null||!qo.has(h))){s=nl(c,s),s=c0(i,s,1),i=Ho(i,s,1),s=Dn(),i!==null&&(No(i,1,s),Wn(i,s));break}}i=i.return}}function FR(s,i,c){var h=s.pingCache;h!==null&&h.delete(i),i=Dn(),s.pingedLanes|=s.suspendedLanes&c,sn===s&&(fn&c)===c&&(Yt===4||Yt===3&&(fn&130023424)===fn&&500>mt()-Sm?Gi(s,0):Em|=c),Wn(s,i)}function W0(s,i){i===0&&((s.mode&1)===0?i=1:(i=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var c=Dn();s=Ws(s,i),s!==null&&(No(s,i,c),Wn(s,c))}function UR(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),W0(s,c)}function $R(s,i){var c=0;switch(s.tag){case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),W0(s,c)}var q0;q0=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||$n.current)Bn=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return Bn=!1,RR(s,i,c);Bn=(s.flags&131072)!==0}else Bn=!1,bt&&(i.flags&1048576)!==0&&bw(i,vd,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Nd(s,i),s=i.pendingProps;var v=Ka(i,vn.current);el(i,c),v=em(null,i,h,s,v,c);var x=tm();return i.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,zn(h)?(x=!0,pd(i)):x=!1,i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Gp(i),v.updater=Pd,i.stateNode=v,v._reactInternals=i,am(i,h,s,c),i=dm(null,i,h,!0,x,c)):(i.tag=0,bt&&x&&Lp(i),Nn(null,i,v,c),i=i.child),i;case 16:h=i.elementType;e:{switch(Nd(s,i),s=i.pendingProps,v=h._init,h=v(h._payload),i.type=h,v=i.tag=BR(h),s=Br(h,s),v){case 0:i=um(null,i,h,s,c);break e;case 1:i=y0(null,i,h,s,c);break e;case 11:i=h0(null,i,h,s,c);break e;case 14:i=p0(null,i,h,Br(h.type,s),c);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,v=i.pendingProps,v=i.elementType===h?v:Br(h,v),um(s,i,h,v,c);case 1:return h=i.type,v=i.pendingProps,v=i.elementType===h?v:Br(h,v),y0(s,i,h,v,c);case 3:e:{if(w0(i),s===null)throw Error(t(387));h=i.pendingProps,x=i.memoizedState,v=x.element,Ow(s,i),Sd(i,h,null,c);var I=i.memoizedState;if(h=I.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){v=nl(Error(t(423)),i),i=_0(s,i,h,c,v);break e}else if(h!==v){v=nl(Error(t(424)),i),i=_0(s,i,h,c,v);break e}else for(ir=Fo(i.stateNode.containerInfo.firstChild),or=i,bt=!0,zr=null,c=Nw(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Xa(),h===v){i=Gs(s,i,c);break e}Nn(s,i,h,c)}i=i.child}return i;case 5:return Lw(i),s===null&&Up(i),h=i.type,v=i.pendingProps,x=s!==null?s.memoizedProps:null,I=v.children,kp(h,v)?I=null:x!==null&&kp(h,x)&&(i.flags|=32),v0(s,i),Nn(s,i,I,c),i.child;case 6:return s===null&&Up(i),null;case 13:return x0(s,i,c);case 4:return Kp(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Ja(i,null,h,c):Nn(s,i,h,c),i.child;case 11:return h=i.type,v=i.pendingProps,v=i.elementType===h?v:Br(h,v),h0(s,i,h,v,c);case 7:return Nn(s,i,i.pendingProps,c),i.child;case 8:return Nn(s,i,i.pendingProps.children,c),i.child;case 12:return Nn(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(h=i.type._context,v=i.pendingProps,x=i.memoizedProps,I=v.value,gt(_d,h._currentValue),h._currentValue=I,x!==null)if($r(x.value,I)){if(x.children===v.children&&!$n.current){i=Gs(s,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var V=x.dependencies;if(V!==null){I=x.child;for(var B=V.firstContext;B!==null;){if(B.context===h){if(x.tag===1){B=qs(-1,c&-c),B.tag=2;var ne=x.updateQueue;if(ne!==null){ne=ne.shared;var de=ne.pending;de===null?B.next=B:(B.next=de.next,de.next=B),ne.pending=B}}x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),Wp(x.return,c,i),V.lanes|=c;break}B=B.next}}else if(x.tag===10)I=x.type===i.type?null:x.child;else if(x.tag===18){if(I=x.return,I===null)throw Error(t(341));I.lanes|=c,V=I.alternate,V!==null&&(V.lanes|=c),Wp(I,c,i),I=x.sibling}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===i){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}Nn(s,i,v.children,c),i=i.child}return i;case 9:return v=i.type,h=i.pendingProps.children,el(i,c),v=Er(v),h=h(v),i.flags|=1,Nn(s,i,h,c),i.child;case 14:return h=i.type,v=Br(h,i.pendingProps),v=Br(h.type,v),p0(s,i,h,v,c);case 15:return m0(s,i,i.type,i.pendingProps,c);case 17:return h=i.type,v=i.pendingProps,v=i.elementType===h?v:Br(h,v),Nd(s,i),i.tag=1,zn(h)?(s=!0,pd(i)):s=!1,el(i,c),i0(i,h,v),am(i,h,v,c),dm(null,i,h,!0,s,c);case 19:return S0(s,i,c);case 22:return g0(s,i,c)}throw Error(t(156,i.tag))};function G0(s,i){return Ca(s,i)}function zR(s,i,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(s,i,c,h){return new zR(s,i,c,h)}function km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function BR(s){if(typeof s=="function")return km(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===le)return 14}return 2}function Yo(s,i){var c=s.alternate;return c===null?(c=br(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Bd(s,i,c,h,v,x){var I=2;if(h=s,typeof s=="function")km(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case D:return Qi(c.children,v,x,i);case C:I=8,v|=8;break;case j:return s=br(12,c,i,v|2),s.elementType=j,s.lanes=x,s;case P:return s=br(13,c,i,v),s.elementType=P,s.lanes=x,s;case q:return s=br(19,c,i,v),s.elementType=q,s.lanes=x,s;case J:return Hd(c,v,x,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case F:I=9;break e;case z:I=11;break e;case le:I=14;break e;case K:I=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=br(I,c,i,v),i.elementType=s,i.type=h,i.lanes=x,i}function Qi(s,i,c,h){return s=br(7,s,h,i),s.lanes=c,s}function Hd(s,i,c,h){return s=br(22,s,h,i),s.elementType=J,s.lanes=c,s.stateNode={isHidden:!1},s}function Nm(s,i,c){return s=br(6,s,null,i),s.lanes=c,s}function Dm(s,i,c){return i=br(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function HR(s,i,c,h,v){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Om(s,i,c,h,v,x,I,V,B){return s=new HR(s,i,c,V,B),i===1?(i=1,x===!0&&(i|=8)):i=0,x=br(3,null,null,i),s.current=x,x.stateNode=s,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(x),s}function WR(s,i,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:h==null?null:""+h,children:s,containerInfo:i,implementation:c}}function K0(s){if(!s)return $o;s=s._reactInternals;e:{if(Or(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(zn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(zn(c))return Ew(s,c,i)}return i}function Q0(s,i,c,h,v,x,I,V,B){return s=Om(c,h,!0,s,v,x,I,V,B),s.context=K0(null),c=s.current,h=Dn(),v=Ko(c),x=qs(h,v),x.callback=i??null,Ho(c,x,v),s.current.lanes=v,No(s,v,h),Wn(s,h),s}function Wd(s,i,c,h){var v=i.current,x=Dn(),I=Ko(v);return c=K0(c),i.context===null?i.context=c:i.pendingContext=c,i=qs(x,I),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=Ho(v,i,I),s!==null&&(qr(s,v,I,x),Ed(s,v,I)),I}function qd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Y0(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function jm(s,i){Y0(s,i),(s=s.alternate)&&Y0(s,i)}function qR(){return null}var X0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Mm(s){this._internalRoot=s}Gd.prototype.render=Mm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Wd(s,i,null,null)},Gd.prototype.unmount=Mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;qi(function(){Wd(null,s,null,null)}),i[$s]=null}};function Gd(s){this._internalRoot=s}Gd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Gu();s={blockedOn:null,target:s,priority:i};for(var c=0;c<cs.length&&i!==0&&i<cs[c].priority;c++);cs.splice(c,0,s),c===0&&Yu(s)}};function Lm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Kd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function J0(){}function GR(s,i,c,h,v){if(v){if(typeof h=="function"){var x=h;h=function(){var ne=qd(I);x.call(ne)}}var I=Q0(i,h,s,0,null,!1,!1,"",J0);return s._reactRootContainer=I,s[$s]=I.current,dc(s.nodeType===8?s.parentNode:s),qi(),I}for(;v=s.lastChild;)s.removeChild(v);if(typeof h=="function"){var V=h;h=function(){var ne=qd(B);V.call(ne)}}var B=Om(s,0,!1,null,null,!1,!1,"",J0);return s._reactRootContainer=B,s[$s]=B.current,dc(s.nodeType===8?s.parentNode:s),qi(function(){Wd(i,B,c,h)}),B}function Qd(s,i,c,h,v){var x=c._reactRootContainer;if(x){var I=x;if(typeof v=="function"){var V=v;v=function(){var B=qd(I);V.call(B)}}Wd(i,I,s,v)}else I=GR(c,i,s,v,h);return qd(I)}Wu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Po(i.pendingLanes);c!==0&&(Do(i,c|1),Wn(i,mt()),(it&6)===0&&(ol=mt()+500,zo()))}break;case 13:qi(function(){var h=Ws(s,1);if(h!==null){var v=Dn();qr(h,s,1,v)}}),jm(s,1)}},Pa=function(s){if(s.tag===13){var i=Ws(s,134217728);if(i!==null){var c=Dn();qr(i,s,134217728,c)}jm(s,134217728)}},qu=function(s){if(s.tag===13){var i=Ko(s),c=Ws(s,i);if(c!==null){var h=Dn();qr(c,s,i,h)}jm(s,i)}},Gu=function(){return et},Ku=function(s,i){var c=et;try{return et=s,i()}finally{et=c}},Ro=function(s,i,c){switch(i){case"input":if(Cn(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==s&&h.form===s.form){var v=fd(h);if(!v)throw Error(t(90));qe(h),Cn(h,v)}}}break;case"textarea":bo(s,c);break;case"select":i=c.value,i!=null&&kr(s,!!c.multiple,i,!1)}},St=Rm,qt=qi;var KR={usingClientEntryPoint:!1,Events:[pc,qa,fd,je,Et,Rm]},Rc={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QR={bundleType:Rc.bundleType,version:Rc.version,rendererPackageName:Rc.rendererPackageName,rendererConfig:Rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ql(s),s===null?null:s.stateNode},findFiberByHostInstance:Rc.findFiberByHostInstance||qR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{ki=Yd.inject(QR),tr=Yd}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KR,qn.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lm(i))throw Error(t(200));return WR(s,i,null,c)},qn.createRoot=function(s,i){if(!Lm(s))throw Error(t(299));var c=!1,h="",v=X0;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Om(s,1,!1,null,null,c,!1,h,v),s[$s]=i.current,dc(s.nodeType===8?s.parentNode:s),new Mm(i)},qn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ql(i),s=s===null?null:s.stateNode,s},qn.flushSync=function(s){return qi(s)},qn.hydrate=function(s,i,c){if(!Kd(i))throw Error(t(200));return Qd(null,s,i,!0,c)},qn.hydrateRoot=function(s,i,c){if(!Lm(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,v=!1,x="",I=X0;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),i=Q0(i,null,s,1,c??null,v,!1,x,I),s[$s]=i.current,dc(s),h)for(s=0;s<h.length;s++)c=h[s],v=c._getVersion,v=v(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,v]:i.mutableSourceEagerHydrationData.push(c,v);return new Gd(i)},qn.render=function(s,i,c){if(!Kd(i))throw Error(t(200));return Qd(null,s,i,!1,c)},qn.unmountComponentAtNode=function(s){if(!Kd(s))throw Error(t(40));return s._reactRootContainer?(qi(function(){Qd(null,null,s,!1,function(){s._reactRootContainer=null,s[$s]=null})}),!0):!1},qn.unstable_batchedUpdates=Rm,qn.unstable_renderSubtreeIntoContainer=function(s,i,c,h){if(!Kd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Qd(s,i,c,!1,h)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var i_;function ME(){if(i_)return Um.exports;i_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Um.exports=rA(),Um.exports}var a_;function sA(){if(a_)return Xd;a_=1;var n=ME();return Xd.createRoot=n.createRoot,Xd.hydrateRoot=n.hydrateRoot,Xd}var oA=sA(),w=mh();const me=jE(w),av=XR({__proto__:null,default:me},[w]);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l_="popstate";function iA(n={}){function e(r,o){let{pathname:a,search:l,hash:u}=r.location;return yg("",{pathname:a,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Jc(o)}return lA(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aA(){return Math.random().toString(36).substring(2,10)}function c_(n,e){return{usr:n.state,key:n.key,idx:e}}function yg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Dl(e):e,state:t,key:e&&e.key||r||aA()}}function Jc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Dl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function lA(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,u="POP",f=null,m=y();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function y(){return(l.state||{idx:null}).idx}function g(){u="POP";let R=y(),O=R==null?null:R-m;m=R,f&&f({action:u,location:b.location,delta:O})}function E(R,O){u="PUSH";let M=yg(b.location,R,O);m=y()+1;let U=c_(M,m),H=b.createHref(M);try{l.pushState(U,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(H)}a&&f&&f({action:u,location:b.location,delta:1})}function T(R,O){u="REPLACE";let M=yg(b.location,R,O);m=y();let U=c_(M,m),H=b.createHref(M);l.replaceState(U,"",H),a&&f&&f({action:u,location:b.location,delta:0})}function A(R){return cA(R)}let b={get action(){return u},get location(){return n(o,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(l_,g),f=R,()=>{o.removeEventListener(l_,g),f=null}},createHref(R){return e(o,R)},createURL:A,encodeLocation(R){let O=A(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:T,go(R){return l.go(R)}};return b}function cA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Jc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function LE(n,e,t="/"){return uA(n,e,t,!1)}function uA(n,e,t,r){let o=typeof e=="string"?Dl(e):e,a=lo(o.pathname||"/",t);if(a==null)return null;let l=VE(n);dA(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=EA(a);u=_A(l[f],m,r)}return u}function VE(n,e=[],t=[],r="",o=!1){let a=(l,u,f=o,m)=>{let y={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;kt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let g=oo([r,y.relativePath]),E=t.concat(y);l.children&&l.children.length>0&&(kt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),VE(l.children,e,E,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:yA(g,l.index),routesMeta:E})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let f of FE(l.path))a(l,u,!0,f)}),e}function FE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=FE(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),o&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function dA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var fA=/^:[\w-]+$/,hA=3,pA=2,mA=1,gA=10,vA=-2,u_=n=>n==="*";function yA(n,e){let t=n.split("/"),r=t.length;return t.some(u_)&&(r+=vA),e&&(r+=pA),t.filter(o=>!u_(o)).reduce((o,a)=>o+(fA.test(a)?hA:a===""?mA:gA),r)}function wA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function _A(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=kf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),E=f.route;if(!g&&m&&t&&!r[r.length-1].route.index&&(g=kf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!g)return null;Object.assign(o,g.params),l.push({params:o,pathname:oo([a,g.pathname]),pathnameBase:CA(oo([a,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(a=oo([a,g.pathnameBase]))}return l}function kf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:g},E)=>{if(y==="*"){let A=u[E]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const T=u[E];return g&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:n}}function xA(n,e=!1,t=!0){Zr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function EA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function lo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var SA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TA=n=>SA.test(n);function bA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Dl(n):n,a;if(t)if(TA(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Zr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=d_(t.substring(1),"/"):a=d_(t,e)}else a=e;return{pathname:a,search:RA(r),hash:AA(o)}}function d_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Bm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function UE(n){let e=IA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function $E(n,e,t,r=!1){let o;typeof n=="string"?o=Dl(n):(o={...n},kt(!o.pathname||!o.pathname.includes("?"),Bm("?","pathname","search",o)),kt(!o.pathname||!o.pathname.includes("#"),Bm("#","pathname","hash",o)),kt(!o.search||!o.search.includes("#"),Bm("#","search","hash",o)));let a=n===""||o.pathname==="",l=a?"/":o.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),g-=1;o.pathname=E.join("/")}u=g>=0?e[g]:"/"}let f=bA(o,u),m=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var oo=n=>n.join("/").replace(/\/\/+/g,"/"),CA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function PA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function kA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zE=["POST","PUT","PATCH","DELETE"];new Set(zE);var NA=["GET",...zE];new Set(NA);var Ol=w.createContext(null);Ol.displayName="DataRouter";var gh=w.createContext(null);gh.displayName="DataRouterState";w.createContext(!1);var BE=w.createContext({isTransitioning:!1});BE.displayName="ViewTransition";var DA=w.createContext(new Map);DA.displayName="Fetchers";var OA=w.createContext(null);OA.displayName="Await";var ss=w.createContext(null);ss.displayName="Navigation";var mu=w.createContext(null);mu.displayName="Location";var ks=w.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var lv=w.createContext(null);lv.displayName="RouteError";function jA(n,{relative:e}={}){kt(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=w.useContext(ss),{hash:o,pathname:a,search:l}=vu(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:oo([t,a])),r.createHref({pathname:u,search:l,hash:o})}function gu(){return w.useContext(mu)!=null}function wi(){return kt(gu(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(mu).location}var HE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(n){w.useContext(ss).static||w.useLayoutEffect(n)}function cv(){let{isDataRoute:n}=w.useContext(ks);return n?QA():MA()}function MA(){kt(gu(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Ol),{basename:e,navigator:t}=w.useContext(ss),{matches:r}=w.useContext(ks),{pathname:o}=wi(),a=JSON.stringify(UE(r)),l=w.useRef(!1);return WE(()=>{l.current=!0}),w.useCallback((f,m={})=>{if(Zr(l.current,HE),!l.current)return;if(typeof f=="number"){t.go(f);return}let y=$E(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:oo([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,a,o,n])}w.createContext(null);function LA(){let{matches:n}=w.useContext(ks),e=n[n.length-1];return e?e.params:{}}function vu(n,{relative:e}={}){let{matches:t}=w.useContext(ks),{pathname:r}=wi(),o=JSON.stringify(UE(t));return w.useMemo(()=>$E(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function VA(n,e){return qE(n,e)}function qE(n,e,t,r,o){kt(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(ss),{matches:l}=w.useContext(ks),u=l[l.length-1],f=u?u.params:{},m=u?u.pathname:"/",y=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";GE(m,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let E=wi(),T;if(e){let M=typeof e=="string"?Dl(e):e;kt(y==="/"||M.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${M.pathname}" was given in the \`location\` prop.`),T=M}else T=E;let A=T.pathname||"/",b=A;if(y!=="/"){let M=y.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=LE(n,{pathname:b});Zr(g||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Zr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=BA(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:oo([y,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?y:oo([y,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,t,r,o);return e&&O?w.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function FA(){let n=KA(),e=PA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,l)}var UA=w.createElement(FA,null),$A=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?w.createElement(ks.Provider,{value:this.props.routeContext},w.createElement(lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zA({routeContext:n,match:e,children:t}){let r=w.useContext(Ol);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ks.Provider,{value:n},t)}function BA(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let y=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);kt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let u=!1,f=-1;if(t)for(let y=0;y<a.length;y++){let g=a[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=y),g.route.id){let{loaderData:E,errors:T}=t,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||A){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let m=t&&r?(y,g)=>{r(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:kA(t.matches),errorInfo:g})}:void 0;return a.reduceRight((y,g,E)=>{let T,A=!1,b=null,R=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,b=g.route.errorElement||UA,u&&(f<0&&E===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):f===E&&(A=!0,R=g.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,E+1)),M=()=>{let U;return T?U=b:A?U=R:g.route.Component?U=w.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=y,w.createElement(zA,{match:g,routeContext:{outlet:y,matches:O,isDataRoute:t!=null},children:U})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?w.createElement($A,{location:t.location,revalidation:t.revalidation,component:b,error:T,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:m}):M()},null)}function uv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HA(n){let e=w.useContext(Ol);return kt(e,uv(n)),e}function WA(n){let e=w.useContext(gh);return kt(e,uv(n)),e}function qA(n){let e=w.useContext(ks);return kt(e,uv(n)),e}function dv(n){let e=qA(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GA(){return dv("useRouteId")}function KA(){let n=w.useContext(lv),e=WA("useRouteError"),t=dv("useRouteError");return n!==void 0?n:e.errors?.[t]}function QA(){let{router:n}=HA("useNavigate"),e=dv("useNavigate"),t=w.useRef(!1);return WE(()=>{t.current=!0}),w.useCallback(async(o,a={})=>{Zr(t.current,HE),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var f_={};function GE(n,e,t){!e&&!f_[n]&&(f_[n]=!0,Zr(!1,t))}w.memo(YA);function YA({routes:n,future:e,state:t,unstable_onError:r}){return qE(n,void 0,t,r,e)}function Gr(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1,unstable_useTransitions:l}){kt(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:u,navigator:o,static:a,unstable_useTransitions:l,future:{}}),[u,o,a,l]);typeof t=="string"&&(t=Dl(t));let{pathname:m="/",search:y="",hash:g="",state:E=null,key:T="default"}=t,A=w.useMemo(()=>{let b=lo(m,u);return b==null?null:{location:{pathname:b,search:y,hash:g,state:E,key:T},navigationType:r}},[u,m,y,g,E,T,r]);return Zr(A!=null,`<Router basename="${u}"> is not able to match the URL "${m}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:w.createElement(ss.Provider,{value:f},w.createElement(mu.Provider,{children:e,value:A}))}function JA({children:n,location:e}){return VA(wg(n),e)}function wg(n,e=[]){let t=[];return w.Children.forEach(n,(r,o)=>{if(!w.isValidElement(r))return;let a=[...e,o];if(r.type===w.Fragment){t.push.apply(t,wg(r.props.children,a));return}kt(r.type===Gr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=wg(r.props.children,a)),t.push(l)}),t}var mf="get",gf="application/x-www-form-urlencoded";function vh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ZA(n){return vh(n)&&n.tagName.toLowerCase()==="button"}function eP(n){return vh(n)&&n.tagName.toLowerCase()==="form"}function tP(n){return vh(n)&&n.tagName.toLowerCase()==="input"}function nP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rP(n,e){return n.button===0&&(!e||e==="_self")&&!nP(n)}var Jd=null;function sP(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var oP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(n){return n!=null&&!oP.has(n)?(Zr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):n}function iP(n,e){let t,r,o,a,l;if(eP(n)){let u=n.getAttribute("action");r=u?lo(u,e):null,t=n.getAttribute("method")||mf,o=Hm(n.getAttribute("enctype"))||gf,a=new FormData(n)}else if(ZA(n)||tP(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?lo(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||mf,o=Hm(n.getAttribute("formenctype"))||Hm(u.getAttribute("enctype"))||gf,a=new FormData(u,n),!sP()){let{name:m,type:y,value:g}=n;if(y==="image"){let E=m?`${m}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else m&&a.append(m,g)}}else{if(vh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mf,r=null,o=gf,l=n}return a&&o==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function aP(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&lo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function lP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function uP(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await lP(a,t);return l.links?l.links():[]}return[]}));return pP(r.flat(1).filter(cP).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h_(n,e,t,r,o,a){let l=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,u=(f,m)=>t[m].pathname!==f.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,m)=>l(f,m)||u(f,m)):a==="data"?e.filter((f,m)=>{let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function dP(n,e,{includeHydrateFallback:t}={}){return fP(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function fP(n){return[...new Set(n)]}function hP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function pP(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(hP(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function KE(){let n=w.useContext(Ol);return fv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mP(){let n=w.useContext(gh);return fv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hv=w.createContext(void 0);hv.displayName="FrameworkContext";function QE(){let n=w.useContext(hv);return fv(n,"You must render this element inside a <HydratedRouter> element"),n}function gP(n,e){let t=w.useContext(hv),[r,o]=w.useState(!1),[a,l]=w.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:g}=e,E=w.useRef(null);w.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=O=>{O.forEach(M=>{l(M.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[n]),w.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let T=()=>{o(!0)},A=()=>{o(!1),l(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Pc(u,T),onBlur:Pc(f,A),onMouseEnter:Pc(m,T),onMouseLeave:Pc(y,A),onTouchStart:Pc(g,T)}]:[!1,E,{}]}function Pc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vP({page:n,...e}){let{router:t}=KE(),r=w.useMemo(()=>LE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?w.createElement(wP,{page:n,matches:r,...e}):null}function yP(n){let{manifest:e,routeModules:t}=QE(),[r,o]=w.useState([]);return w.useEffect(()=>{let a=!1;return uP(n,e,t).then(l=>{a||o(l)}),()=>{a=!0}},[n,e,t]),r}function wP({page:n,matches:e,...t}){let r=wi(),{manifest:o,routeModules:a}=QE(),{basename:l}=KE(),{loaderData:u,matches:f}=mP(),m=w.useMemo(()=>h_(n,e,f,o,r,"data"),[n,e,f,o,r]),y=w.useMemo(()=>h_(n,e,f,o,r,"assets"),[n,e,f,o,r]),g=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,b=!1;if(e.forEach(O=>{let M=o.routes[O.route.id];!M||!M.hasLoader||(!m.some(U=>U.route.id===O.route.id)&&O.route.id in u&&a[O.route.id]?.shouldRevalidate||M.hasClientLoader?b=!0:A.add(O.route.id))}),A.size===0)return[];let R=aP(n,l,"data");return b&&A.size>0&&R.searchParams.set("_routes",e.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[l,u,r,o,m,e,n,a]),E=w.useMemo(()=>dP(y,o),[y,o]),T=yP(y);return w.createElement(w.Fragment,null,g.map(A=>w.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),E.map(A=>w.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),T.map(({key:A,link:b})=>w.createElement("link",{key:A,nonce:t.nonce,...b})))}function _P(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var YE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YE&&(window.__reactRouterVersion="7.10.1")}catch{}function xP({basename:n,children:e,unstable_useTransitions:t,window:r}){let o=w.useRef();o.current==null&&(o.current=iA({window:r,v5Compat:!0}));let a=o.current,[l,u]=w.useState({action:a.action,location:a.location}),f=w.useCallback(m=>{t===!1?u(m):w.startTransition(()=>u(m))},[t]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.createElement(XA,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t===!0})}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JE=w.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:l,state:u,target:f,to:m,preventScrollReset:y,viewTransition:g,...E},T){let{basename:A,unstable_useTransitions:b}=w.useContext(ss),R=typeof m=="string"&&XE.test(m),O,M=!1;if(typeof m=="string"&&R&&(O=m,YE))try{let L=new URL(window.location.href),F=m.startsWith("//")?new URL(L.protocol+m):new URL(m),z=lo(F.pathname,A);F.origin===L.origin&&z!=null?m=z+F.search+F.hash:M=!0}catch{Zr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=jA(m,{relative:o}),[H,Q,te]=gP(r,E),D=bP(m,{replace:l,state:u,target:f,preventScrollReset:y,relative:o,viewTransition:g,unstable_useTransitions:b});function C(L){e&&e(L),L.defaultPrevented||D(L)}let j=w.createElement("a",{...E,...te,href:O||U,onClick:M||a?e:C,ref:_P(T,Q),target:f,"data-discover":!R&&t==="render"?"true":void 0});return H&&!R?w.createElement(w.Fragment,null,j,w.createElement(vP,{page:U})):j});JE.displayName="Link";var EP=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:u,children:f,...m},y){let g=vu(l,{relative:m.relative}),E=wi(),T=w.useContext(gh),{navigator:A,basename:b}=w.useContext(ss),R=T!=null&&PP(g)&&u===!0,O=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,M=E.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(M=M.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&b&&(U=lo(U,b)||U);const H=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Q=M===O||!o&&M.startsWith(O)&&M.charAt(H)==="/",te=U!=null&&(U===O||!o&&U.startsWith(O)&&U.charAt(O.length)==="/"),D={isActive:Q,isPending:te,isTransitioning:R},C=Q?e:void 0,j;typeof r=="function"?j=r(D):j=[r,Q?"active":null,te?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return w.createElement(JE,{...m,"aria-current":C,className:j,ref:y,style:L,to:l,viewTransition:u},typeof f=="function"?f(D):f)});EP.displayName="NavLink";var SP=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:l=mf,action:u,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:g,...E},T)=>{let{unstable_useTransitions:A}=w.useContext(ss),b=RP(),R=AP(u,{relative:m}),O=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&XE.test(u),U=H=>{if(f&&f(H),H.defaultPrevented)return;H.preventDefault();let Q=H.nativeEvent.submitter,te=Q?.getAttribute("formmethod")||l,D=()=>b(Q||H.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:o,state:a,relative:m,preventScrollReset:y,viewTransition:g});A&&t!==!1?w.startTransition(()=>D()):D()};return w.createElement("form",{ref:T,method:O,action:R,onSubmit:r?f:U,...E,"data-discover":!M&&n==="render"?"true":void 0})});SP.displayName="Form";function TP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(n){let e=w.useContext(Ol);return kt(e,TP(n)),e}function bP(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:l,unstable_useTransitions:u}={}){let f=cv(),m=wi(),y=vu(n,{relative:a});return w.useCallback(g=>{if(rP(g,e)){g.preventDefault();let E=t!==void 0?t:Jc(m)===Jc(y),T=()=>f(n,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:l});u?w.startTransition(()=>T()):T()}},[m,f,y,t,r,e,n,o,a,l,u])}var IP=0,CP=()=>`__${String(++IP)}__`;function RP(){let{router:n}=ZE("useSubmit"),{basename:e}=w.useContext(ss),t=GA(),r=n.fetch,o=n.navigate;return w.useCallback(async(a,l={})=>{let{action:u,method:f,encType:m,formData:y,body:g}=iP(a,e);if(l.navigate===!1){let E=l.fetcherKey||CP();await r(E,t,l.action||u,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await o(l.action||u,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,o,e,t])}function AP(n,{relative:e}={}){let{basename:t}=w.useContext(ss),r=w.useContext(ks);kt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...vu(n||".",{relative:e})},l=wi();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(y=>y==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let y=u.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:oo([t,a.pathname])),Jc(a)}function PP(n,{relative:e}={}){let t=w.useContext(BE);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZE("useViewTransitionState"),o=vu(n,{relative:e});if(!t.isTransitioning)return!1;let a=lo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=lo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return kf(o.pathname,l)!=null||kf(o.pathname,a)!=null}var yu=ME();const eS=jE(yu);function p_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function vo(...n){return e=>{let t=!1;const r=n.map(o=>{const a=p_(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():p_(n[o],null)}}}}function ht(...n){return w.useCallback(vo(...n),n)}var kP=Symbol.for("react.lazy"),Nf=av[" use ".trim().toString()];function NP(n){return typeof n=="object"&&n!==null&&"then"in n}function tS(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===kP&&"_payload"in n&&NP(n._payload)}function yh(n){const e=DP(n),t=w.forwardRef((r,o)=>{let{children:a,...l}=r;tS(a)&&typeof Nf=="function"&&(a=Nf(a._payload));const u=w.Children.toArray(a),f=u.find(jP);if(f){const m=f.props.children,y=u.map(g=>g===f?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return p.jsx(e,{...l,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,y):null})}return p.jsx(e,{...l,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var nS=yh("Slot");function DP(n){const e=w.forwardRef((t,r)=>{let{children:o,...a}=t;if(tS(o)&&typeof Nf=="function"&&(o=Nf(o._payload)),w.isValidElement(o)){const l=LP(o),u=MP(a,o.props);return o.type!==w.Fragment&&(u.ref=r?vo(r,l):l),w.cloneElement(o,u)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var OP=Symbol("radix.slottable");function jP(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===OP}function MP(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...u)=>{const f=a(...u);return o(...u),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function LP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function rS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=rS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function sS(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=rS(n))&&(r&&(r+=" "),r+=e);return r}const m_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,g_=sS,oS=(n,e)=>t=>{var r;if(e?.variants==null)return g_(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,l=Object.keys(o).map(m=>{const y=t?.[m],g=a?.[m];if(y===null)return null;const E=m_(y)||m_(g);return o[m][E]}),u=t&&Object.entries(t).reduce((m,y)=>{let[g,E]=y;return E===void 0||(m[g]=E),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:g,className:E,...T}=y;return Object.entries(T).every(A=>{let[b,R]=A;return Array.isArray(R)?R.includes({...a,...u}[b]):{...a,...u}[b]===R})?[...m,g,E]:m},[]);return g_(n,l,f,t?.class,t?.className)},VP=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},FP=(n,e)=>({classGroupId:n,validator:e}),iS=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Df="-",v_=[],UP="arbitrary..",$P=n=>{const e=BP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return zP(l);const u=l.split(Df),f=u[0]===""&&u.length>1?1:0;return aS(u,f,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const f=r[l],m=t[l];return f?m?VP(m,f):f:m||v_}return t[l]||v_}}},aS=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const o=n[e],a=t.nextPart.get(o);if(a){const m=aS(n,e+1,a);if(m)return m}const l=t.validators;if(l===null)return;const u=e===0?n.join(Df):n.slice(e).join(Df),f=l.length;for(let m=0;m<f;m++){const y=l[m];if(y.validator(u))return y.classGroupId}},zP=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?UP+r:void 0})(),BP=n=>{const{theme:e,classGroups:t}=n;return HP(t,e)},HP=(n,e)=>{const t=iS();for(const r in n){const o=n[r];pv(o,t,r,e)}return t},pv=(n,e,t,r)=>{const o=n.length;for(let a=0;a<o;a++){const l=n[a];WP(l,e,t,r)}},WP=(n,e,t,r)=>{if(typeof n=="string"){qP(n,e,t);return}if(typeof n=="function"){GP(n,e,t,r);return}KP(n,e,t,r)},qP=(n,e,t)=>{const r=n===""?e:lS(e,n);r.classGroupId=t},GP=(n,e,t,r)=>{if(QP(n)){pv(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(FP(t,n))},KP=(n,e,t,r)=>{const o=Object.entries(n),a=o.length;for(let l=0;l<a;l++){const[u,f]=o[l];pv(f,lS(e,u),t,r)}},lS=(n,e)=>{let t=n;const r=e.split(Df),o=r.length;for(let a=0;a<o;a++){const l=r[a];let u=t.nextPart.get(l);u||(u=iS(),t.nextPart.set(l,u)),t=u}return t},QP=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,YP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const o=(a,l)=>{t[a]=l,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let l=t[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return o(a,l),l},set(a,l){a in t?t[a]=l:o(a,l)}}},_g="!",y_=":",XP=[],w_=(n,e,t,r,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:o}),JP=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let l=0,u=0,f=0,m;const y=o.length;for(let b=0;b<y;b++){const R=o[b];if(l===0&&u===0){if(R===y_){a.push(o.slice(f,b)),f=b+1;continue}if(R==="/"){m=b;continue}}R==="["?l++:R==="]"?l--:R==="("?u++:R===")"&&u--}const g=a.length===0?o:o.slice(f);let E=g,T=!1;g.endsWith(_g)?(E=g.slice(0,-1),T=!0):g.startsWith(_g)&&(E=g.slice(1),T=!0);const A=m&&m>f?m-f:void 0;return w_(a,T,E,A)};if(e){const o=e+y_,a=r;r=l=>l.startsWith(o)?a(l.slice(o.length)):w_(XP,!1,l,void 0,!0)}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},ZP=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let o=[];for(let a=0;a<t.length;a++){const l=t[a],u=l[0]==="[",f=e.has(l);u||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(l)):o.push(l)}return o.length>0&&(o.sort(),r.push(...o)),r}},ek=n=>({cache:YP(n.cacheSize),parseClassName:JP(n),sortModifiers:ZP(n),...$P(n)}),tk=/\s+/,nk=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,l=[],u=n.trim().split(tk);let f="";for(let m=u.length-1;m>=0;m-=1){const y=u[m],{isExternal:g,modifiers:E,hasImportantModifier:T,baseClassName:A,maybePostfixModifierPosition:b}=t(y);if(g){f=y+(f.length>0?" "+f:f);continue}let R=!!b,O=r(R?A.substring(0,b):A);if(!O){if(!R){f=y+(f.length>0?" "+f:f);continue}if(O=r(A),!O){f=y+(f.length>0?" "+f:f);continue}R=!1}const M=E.length===0?"":E.length===1?E[0]:a(E).join(":"),U=T?M+_g:M,H=U+O;if(l.indexOf(H)>-1)continue;l.push(H);const Q=o(O,R);for(let te=0;te<Q.length;++te){const D=Q[te];l.push(U+D)}f=y+(f.length>0?" "+f:f)}return f},rk=(...n)=>{let e=0,t,r,o="";for(;e<n.length;)(t=n[e++])&&(r=cS(t))&&(o&&(o+=" "),o+=r);return o},cS=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=cS(n[r]))&&(t&&(t+=" "),t+=e);return t},sk=(n,...e)=>{let t,r,o,a;const l=f=>{const m=e.reduce((y,g)=>g(y),n());return t=ek(m),r=t.cache.get,o=t.cache.set,a=u,u(f)},u=f=>{const m=r(f);if(m)return m;const y=nk(f,t);return o(f,y),y};return a=l,(...f)=>a(rk(...f))},ok=[],Xt=n=>{const e=t=>t[n]||ok;return e.isThemeGetter=!0,e},uS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ik=/^\d+\/\d+$/,ak=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ck=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,uk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,al=n=>ik.test(n),Ge=n=>!!n&&!Number.isNaN(Number(n)),Jo=n=>!!n&&Number.isInteger(Number(n)),Wm=n=>n.endsWith("%")&&Ge(n.slice(0,-1)),Qs=n=>ak.test(n),fk=()=>!0,hk=n=>lk.test(n)&&!ck.test(n),fS=()=>!1,pk=n=>uk.test(n),mk=n=>dk.test(n),gk=n=>!Ce(n)&&!Re(n),vk=n=>jl(n,mS,fS),Ce=n=>uS.test(n),Yi=n=>jl(n,gS,hk),qm=n=>jl(n,Ek,Ge),__=n=>jl(n,hS,fS),yk=n=>jl(n,pS,mk),Zd=n=>jl(n,vS,pk),Re=n=>dS.test(n),kc=n=>Ml(n,gS),wk=n=>Ml(n,Sk),x_=n=>Ml(n,hS),_k=n=>Ml(n,mS),xk=n=>Ml(n,pS),ef=n=>Ml(n,vS,!0),jl=(n,e,t)=>{const r=uS.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Ml=(n,e,t=!1)=>{const r=dS.exec(n);return r?r[1]?e(r[1]):t:!1},hS=n=>n==="position"||n==="percentage",pS=n=>n==="image"||n==="url",mS=n=>n==="length"||n==="size"||n==="bg-size",gS=n=>n==="length",Ek=n=>n==="number",Sk=n=>n==="family-name",vS=n=>n==="shadow",Tk=()=>{const n=Xt("color"),e=Xt("font"),t=Xt("text"),r=Xt("font-weight"),o=Xt("tracking"),a=Xt("leading"),l=Xt("breakpoint"),u=Xt("container"),f=Xt("spacing"),m=Xt("radius"),y=Xt("shadow"),g=Xt("inset-shadow"),E=Xt("text-shadow"),T=Xt("drop-shadow"),A=Xt("blur"),b=Xt("perspective"),R=Xt("aspect"),O=Xt("ease"),M=Xt("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...H(),Re,Ce],te=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Re,Ce,f],j=()=>[al,"full","auto",...C()],L=()=>[Jo,"none","subgrid",Re,Ce],F=()=>["auto",{span:["full",Jo,Re,Ce]},Jo,Re,Ce],z=()=>[Jo,"auto",Re,Ce],P=()=>["auto","min","max","fr",Re,Ce],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...C()],J=()=>[al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],N=()=>[n,Re,Ce],G=()=>[...H(),x_,__,{position:[Re,Ce]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",_k,vk,{size:[Re,Ce]}],Z=()=>[Wm,kc,Yi],re=()=>["","none","full",m,Re,Ce],fe=()=>["",Ge,kc,Yi],ye=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[Ge,Wm,x_,__],ge=()=>["","none",A,Re,Ce],De=()=>["none",Ge,Re,Ce],Oe=()=>["none",Ge,Re,Ce],He=()=>[Ge,Re,Ce],qe=()=>[al,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[fk],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[gk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",Ge],text:[Qs],"text-shadow":[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",al,Ce,Re,R]}],container:["container"],columns:[{columns:[Ge,Ce,Re,u]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Jo,"auto",Re,Ce]}],basis:[{basis:[al,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,al,"auto","initial","none",Ce]}],grow:[{grow:["",Ge,Re,Ce]}],shrink:[{shrink:["",Ge,Re,Ce]}],order:[{order:[Jo,"first","last","none",Re,Ce]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[u,"screen",...J()]}],"min-w":[{"min-w":[u,"screen","none",...J()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",t,kc,Yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Re,qm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wm,Ce]}],"font-family":[{font:[wk,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Re,Ce]}],"line-clamp":[{"line-clamp":[Ge,"none",Re,qm]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",Re,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",Re,Yi]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[Ge,"auto",Re,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jo,Re,Ce],radial:["",Re,Ce],conic:[Jo,Re,Ce]},xk,yk]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,Re,Ce]}],"outline-w":[{outline:["",Ge,kc,Yi]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",y,ef,Zd]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",g,ef,Zd]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[Ge,Yi]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",E,ef,Zd]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[Ge,Re,Ce]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[Re,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Ce]}],filter:[{filter:["","none",Re,Ce]}],blur:[{blur:ge()}],brightness:[{brightness:[Ge,Re,Ce]}],contrast:[{contrast:[Ge,Re,Ce]}],"drop-shadow":[{"drop-shadow":["","none",T,ef,Zd]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",Ge,Re,Ce]}],"hue-rotate":[{"hue-rotate":[Ge,Re,Ce]}],invert:[{invert:["",Ge,Re,Ce]}],saturate:[{saturate:[Ge,Re,Ce]}],sepia:[{sepia:["",Ge,Re,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Ce]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,Re,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,Re,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,Re,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,Re,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ge,Re,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,Re,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,Re,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,Re,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",Re,Ce]}],ease:[{ease:["linear","initial",O,Re,Ce]}],delay:[{delay:[Ge,Re,Ce]}],animate:[{animate:["none",M,Re,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Re,Ce]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Re,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:qe()}],"translate-x":[{"translate-x":qe()}],"translate-y":[{"translate-y":qe()}],"translate-z":[{"translate-z":qe()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Ce]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[Ge,kc,Yi,qm]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bk=sk(Tk);function We(...n){return bk(sS(n))}const mv=oS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ue=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},a)=>{const l=r?nS:"button";return p.jsx(l,{"data-slot":"button",className:We(mv({variant:e,size:t,className:n})),ref:a,...o})});Ue.displayName="Button";function En({className:n,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",className:We("border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none","file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground","file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","dark:bg-input/30","md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Ik=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ck=Ik.reduce((n,e)=>{const t=yh(`Primitive.${e}`),r=w.forwardRef((o,a)=>{const{asChild:l,...u}=o,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),Rk="Label",yS=w.forwardRef((n,e)=>p.jsx(Ck.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));yS.displayName=Rk;var Ak=yS;function Jt({className:n,...e}){return p.jsx(Ak,{"data-slot":"label",className:We("flex items-center gap-2 text-sm leading-none font-medium select-none","group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50","peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function lt({className:n,...e}){return p.jsx("div",{"data-slot":"card",className:We("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function Zs({className:n,...e}){return p.jsx("div",{"data-slot":"card-header",className:We("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function ni({className:n,...e}){return p.jsx("h4",{"data-slot":"card-title",className:We("leading-none",n),...e})}function Pk({className:n,...e}){return p.jsx("p",{"data-slot":"card-description",className:We("text-muted-foreground",n),...e})}function ct({className:n,...e}){return p.jsx("div",{"data-slot":"card-content",className:We("px-6 [&:last-child]:pb-6",n),...e})}function kk({className:n,...e}){return p.jsx("div",{"data-slot":"card-footer",className:We("flex items-center px-6 pb-6 [.border-t]:pt-6",n),...e})}function ke(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function Nk(n,e){const t=w.createContext(e),r=a=>{const{children:l,...u}=a,f=w.useMemo(()=>u,Object.values(u));return p.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function o(a){const l=w.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,o]}function yo(n,e=[]){let t=[];function r(a,l){const u=w.createContext(l),f=t.length;t=[...t,l];const m=g=>{const{scope:E,children:T,...A}=g,b=E?.[n]?.[f]||u,R=w.useMemo(()=>A,Object.values(A));return p.jsx(b.Provider,{value:R,children:T})};m.displayName=a+"Provider";function y(g,E){const T=E?.[n]?.[f]||u,A=w.useContext(T);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[m,y]}const o=()=>{const a=t.map(l=>w.createContext(l));return function(u){const f=u?.[n]||a;return w.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return o.scopeName=n,[r,Dk(o,...e)]}function Dk(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:m})=>{const g=f(a)[`__scope${m}`];return{...u,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function E_(n){const e=Ok(n),t=w.forwardRef((r,o)=>{const{children:a,...l}=r,u=w.Children.toArray(a),f=u.find(Mk);if(f){const m=f.props.children,y=u.map(g=>g===f?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return p.jsx(e,{...l,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,y):null})}return p.jsx(e,{...l,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function Ok(n){const e=w.forwardRef((t,r)=>{const{children:o,...a}=t;if(w.isValidElement(o)){const l=Vk(o),u=Lk(a,o.props);return o.type!==w.Fragment&&(u.ref=r?vo(r,l):l),w.cloneElement(o,u)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var jk=Symbol("radix.slottable");function Mk(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===jk}function Lk(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...u)=>{const f=a(...u);return o(...u),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function Vk(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function gv(n){const e=n+"CollectionProvider",[t,r]=yo(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:R,children:O}=b,M=me.useRef(null),U=me.useRef(new Map).current;return p.jsx(o,{scope:R,itemMap:U,collectionRef:M,children:O})};l.displayName=e;const u=n+"CollectionSlot",f=E_(u),m=me.forwardRef((b,R)=>{const{scope:O,children:M}=b,U=a(u,O),H=ht(R,U.collectionRef);return p.jsx(f,{ref:H,children:M})});m.displayName=u;const y=n+"CollectionItemSlot",g="data-radix-collection-item",E=E_(y),T=me.forwardRef((b,R)=>{const{scope:O,children:M,...U}=b,H=me.useRef(null),Q=ht(R,H),te=a(y,O);return me.useEffect(()=>(te.itemMap.set(H,{ref:H,...U}),()=>void te.itemMap.delete(H))),p.jsx(E,{[g]:"",ref:Q,children:M})});T.displayName=y;function A(b){const R=a(n+"CollectionConsumer",b);return me.useCallback(()=>{const M=R.collectionRef.current;if(!M)return[];const U=Array.from(M.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort((te,D)=>U.indexOf(te.ref.current)-U.indexOf(D.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:m,ItemSlot:T},A,r]}var tn=globalThis?.document?w.useLayoutEffect:()=>{},Fk=av[" useId ".trim().toString()]||(()=>{}),Uk=0;function xs(n){const[e,t]=w.useState(Fk());return tn(()=>{t(r=>r??String(Uk++))},[n]),n||(e?`radix-${e}`:"")}function $k(n){const e=zk(n),t=w.forwardRef((r,o)=>{const{children:a,...l}=r,u=w.Children.toArray(a),f=u.find(Hk);if(f){const m=f.props.children,y=u.map(g=>g===f?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return p.jsx(e,{...l,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,y):null})}return p.jsx(e,{...l,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function zk(n){const e=w.forwardRef((t,r)=>{const{children:o,...a}=t;if(w.isValidElement(o)){const l=qk(o),u=Wk(a,o.props);return o.type!==w.Fragment&&(u.ref=r?vo(r,l):l),w.cloneElement(o,u)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Bk=Symbol("radix.slottable");function Hk(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Bk}function Wk(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...u)=>{const f=a(...u);return o(...u),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function qk(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Gk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=Gk.reduce((n,e)=>{const t=$k(`Primitive.${e}`),r=w.forwardRef((o,a)=>{const{asChild:l,...u}=o,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function wS(n,e){n&&yu.flushSync(()=>n.dispatchEvent(e))}function es(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>e.current?.(...t),[])}var Kk=av[" useInsertionEffect ".trim().toString()]||tn;function Sl({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,l]=Qk({defaultProp:e,onChange:t}),u=n!==void 0,f=u?n:o;{const y=w.useRef(n!==void 0);w.useEffect(()=>{const g=y.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const m=w.useCallback(y=>{if(u){const g=Yk(y)?y(n):y;g!==n&&l.current?.(g)}else a(y)},[u,n,a,l]);return[f,m]}function Qk({defaultProp:n,onChange:e}){const[t,r]=w.useState(n),o=w.useRef(t),a=w.useRef(e);return Kk(()=>{a.current=e},[e]),w.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,r,a]}function Yk(n){return typeof n=="function"}var Xk=w.createContext(void 0);function wh(n){const e=w.useContext(Xk);return n||e||"ltr"}var Gm="rovingFocusGroup.onEntryFocus",Jk={bubbles:!1,cancelable:!0},wu="RovingFocusGroup",[xg,_S,Zk]=gv(wu),[eN,_h]=yo(wu,[Zk]),[tN,nN]=eN(wu),xS=w.forwardRef((n,e)=>p.jsx(xg.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(xg.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(rN,{...n,ref:e})})}));xS.displayName=wu;var rN=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...g}=n,E=w.useRef(null),T=ht(e,E),A=wh(a),[b,R]=Sl({prop:l,defaultProp:u??null,onChange:f,caller:wu}),[O,M]=w.useState(!1),U=es(m),H=_S(t),Q=w.useRef(!1),[te,D]=w.useState(0);return w.useEffect(()=>{const C=E.current;if(C)return C.addEventListener(Gm,U),()=>C.removeEventListener(Gm,U)},[U]),p.jsx(tN,{scope:t,orientation:r,dir:A,loop:o,currentTabStopId:b,onItemFocus:w.useCallback(C=>R(C),[R]),onItemShiftTab:w.useCallback(()=>M(!0),[]),onFocusableItemAdd:w.useCallback(()=>D(C=>C+1),[]),onFocusableItemRemove:w.useCallback(()=>D(C=>C-1),[]),children:p.jsx(Ye.div,{tabIndex:O||te===0?-1:0,"data-orientation":r,...g,ref:T,style:{outline:"none",...n.style},onMouseDown:ke(n.onMouseDown,()=>{Q.current=!0}),onFocus:ke(n.onFocus,C=>{const j=!Q.current;if(C.target===C.currentTarget&&j&&!O){const L=new CustomEvent(Gm,Jk);if(C.currentTarget.dispatchEvent(L),!L.defaultPrevented){const F=H().filter(K=>K.focusable),z=F.find(K=>K.active),P=F.find(K=>K.id===b),le=[z,P,...F].filter(Boolean).map(K=>K.ref.current);TS(le,y)}}Q.current=!1}),onBlur:ke(n.onBlur,()=>M(!1))})})}),ES="RovingFocusGroupItem",SS=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:a,children:l,...u}=n,f=xs(),m=a||f,y=nN(ES,t),g=y.currentTabStopId===m,E=_S(t),{onFocusableItemAdd:T,onFocusableItemRemove:A,currentTabStopId:b}=y;return w.useEffect(()=>{if(r)return T(),()=>A()},[r,T,A]),p.jsx(xg.ItemSlot,{scope:t,id:m,focusable:r,active:o,children:p.jsx(Ye.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...u,ref:e,onMouseDown:ke(n.onMouseDown,R=>{r?y.onItemFocus(m):R.preventDefault()}),onFocus:ke(n.onFocus,()=>y.onItemFocus(m)),onKeyDown:ke(n.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){y.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const O=iN(R,y.orientation,y.dir);if(O!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let U=E().filter(H=>H.focusable).map(H=>H.ref.current);if(O==="last")U.reverse();else if(O==="prev"||O==="next"){O==="prev"&&U.reverse();const H=U.indexOf(R.currentTarget);U=y.loop?aN(U,H+1):U.slice(H+1)}setTimeout(()=>TS(U))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:b!=null}):l})})});SS.displayName=ES;var sN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oN(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function iN(n,e,t){const r=oN(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sN[r]}function TS(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function aN(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var bS=xS,IS=SS;function lN(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var wo=n=>{const{present:e,children:t}=n,r=cN(e),o=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),a=ht(r.ref,uN(o));return typeof t=="function"||r.isPresent?w.cloneElement(o,{ref:a}):null};wo.displayName="Presence";function cN(n){const[e,t]=w.useState(),r=w.useRef(null),o=w.useRef(n),a=w.useRef("none"),l=n?"mounted":"unmounted",[u,f]=lN(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=tf(r.current);a.current=u==="mounted"?m:"none"},[u]),tn(()=>{const m=r.current,y=o.current;if(y!==n){const E=a.current,T=tf(m);n?f("MOUNT"):T==="none"||m?.display==="none"?f("UNMOUNT"):f(y&&E!==T?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),tn(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,g=T=>{const b=tf(r.current).includes(CSS.escape(T.animationName));if(T.target===e&&b&&(f("ANIMATION_END"),!o.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=T=>{T.target===e&&(a.current=tf(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function tf(n){return n?.animationName||"none"}function uN(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var xh="Tabs",[dN]=yo(xh,[_h]),CS=_h(),[fN,vv]=dN(xh),RS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:f="automatic",...m}=n,y=wh(u),[g,E]=Sl({prop:r,onChange:o,defaultProp:a??"",caller:xh});return p.jsx(fN,{scope:t,baseId:xs(),value:g,onValueChange:E,orientation:l,dir:y,activationMode:f,children:p.jsx(Ye.div,{dir:y,"data-orientation":l,...m,ref:e})})});RS.displayName=xh;var AS="TabsList",PS=w.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,a=vv(AS,t),l=CS(t);return p.jsx(bS,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:p.jsx(Ye.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});PS.displayName=AS;var kS="TabsTrigger",NS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...a}=n,l=vv(kS,t),u=CS(t),f=jS(l.baseId,r),m=MS(l.baseId,r),y=r===l.value;return p.jsx(IS,{asChild:!0,...u,focusable:!o,active:y,children:p.jsx(Ye.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:e,onMouseDown:ke(n.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:ke(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:ke(n.onFocus,()=>{const g=l.activationMode!=="manual";!y&&!o&&g&&l.onValueChange(r)})})})});NS.displayName=kS;var DS="TabsContent",OS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:a,...l}=n,u=vv(DS,t),f=jS(u.baseId,r),m=MS(u.baseId,r),y=r===u.value,g=w.useRef(y);return w.useEffect(()=>{const E=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(E)},[]),p.jsx(wo,{present:o||y,children:({present:E})=>p.jsx(Ye.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!E,id:m,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:E&&a})})});OS.displayName=DS;function jS(n,e){return`${n}-trigger-${e}`}function MS(n,e){return`${n}-content-${e}`}var hN=RS,pN=PS,mN=NS,gN=OS;function yv({className:n,...e}){return p.jsx(hN,{"data-slot":"tabs",className:We("flex flex-col gap-2",n),...e})}function wv({className:n,...e}){return p.jsx(pN,{"data-slot":"tabs-list",className:We("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function eo({className:n,...e}){return p.jsx(mN,{"data-slot":"tabs-trigger",className:We("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 focus-visible:border-ring focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50","data-[state=active]:bg-card dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground","[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function to({className:n,...e}){return p.jsx(gN,{"data-slot":"tabs-content",className:We("flex-1 outline-none",n),...e})}function vN(n,e=globalThis?.document){const t=es(n);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var yN="DismissableLayer",Eg="dismissableLayer.update",wN="dismissableLayer.pointerDownOutside",_N="dismissableLayer.focusOutside",S_,LS=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eh=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=n,m=w.useContext(LS),[y,g]=w.useState(null),E=y?.ownerDocument??globalThis?.document,[,T]=w.useState({}),A=ht(e,D=>g(D)),b=Array.from(m.layers),[R]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=b.indexOf(R),M=y?b.indexOf(y):-1,U=m.layersWithOutsidePointerEventsDisabled.size>0,H=M>=O,Q=SN(D=>{const C=D.target,j=[...m.branches].some(L=>L.contains(C));!H||j||(o?.(D),l?.(D),D.defaultPrevented||u?.())},E),te=TN(D=>{const C=D.target;[...m.branches].some(L=>L.contains(C))||(a?.(D),l?.(D),D.defaultPrevented||u?.())},E);return vN(D=>{M===m.layers.size-1&&(r?.(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},E),w.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(S_=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),T_(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=S_)}},[y,E,t,m]),w.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),T_())},[y,m]),w.useEffect(()=>{const D=()=>T({});return document.addEventListener(Eg,D),()=>document.removeEventListener(Eg,D)},[]),p.jsx(Ye.div,{...f,ref:A,style:{pointerEvents:U?H?"auto":"none":void 0,...n.style},onFocusCapture:ke(n.onFocusCapture,te.onFocusCapture),onBlurCapture:ke(n.onBlurCapture,te.onBlurCapture),onPointerDownCapture:ke(n.onPointerDownCapture,Q.onPointerDownCapture)})});Eh.displayName=yN;var xN="DismissableLayerBranch",EN=w.forwardRef((n,e)=>{const t=w.useContext(LS),r=w.useRef(null),o=ht(e,r);return w.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),p.jsx(Ye.div,{...n,ref:o})});EN.displayName=xN;function SN(n,e=globalThis?.document){const t=es(n),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){VS(wN,t,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function TN(n,e=globalThis?.document){const t=es(n),r=w.useRef(!1);return w.useEffect(()=>{const o=a=>{a.target&&!r.current&&VS(_N,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T_(){const n=new CustomEvent(Eg);document.dispatchEvent(n)}function VS(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?wS(o,a):o.dispatchEvent(a)}var Km="focusScope.autoFocusOnMount",Qm="focusScope.autoFocusOnUnmount",b_={bubbles:!1,cancelable:!0},bN="FocusScope",Sh=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=n,[u,f]=w.useState(null),m=es(o),y=es(a),g=w.useRef(null),E=ht(e,b=>f(b)),T=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let b=function(U){if(T.paused||!u)return;const H=U.target;u.contains(H)?g.current=H:ei(g.current,{select:!0})},R=function(U){if(T.paused||!u)return;const H=U.relatedTarget;H!==null&&(u.contains(H)||ei(g.current,{select:!0}))},O=function(U){if(document.activeElement===document.body)for(const Q of U)Q.removedNodes.length>0&&ei(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",R);const M=new MutationObserver(O);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",R),M.disconnect()}}},[r,u,T.paused]),w.useEffect(()=>{if(u){C_.add(T);const b=document.activeElement;if(!u.contains(b)){const O=new CustomEvent(Km,b_);u.addEventListener(Km,m),u.dispatchEvent(O),O.defaultPrevented||(IN(kN(FS(u)),{select:!0}),document.activeElement===b&&ei(u))}return()=>{u.removeEventListener(Km,m),setTimeout(()=>{const O=new CustomEvent(Qm,b_);u.addEventListener(Qm,y),u.dispatchEvent(O),O.defaultPrevented||ei(b??document.body,{select:!0}),u.removeEventListener(Qm,y),C_.remove(T)},0)}}},[u,m,y,T]);const A=w.useCallback(b=>{if(!t&&!r||T.paused)return;const R=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,O=document.activeElement;if(R&&O){const M=b.currentTarget,[U,H]=CN(M);U&&H?!b.shiftKey&&O===H?(b.preventDefault(),t&&ei(U,{select:!0})):b.shiftKey&&O===U&&(b.preventDefault(),t&&ei(H,{select:!0})):O===M&&b.preventDefault()}},[t,r,T.paused]);return p.jsx(Ye.div,{tabIndex:-1,...l,ref:E,onKeyDown:A})});Sh.displayName=bN;function IN(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ei(r,{select:e}),document.activeElement!==t)return}function CN(n){const e=FS(n),t=I_(e,n),r=I_(e.reverse(),n);return[t,r]}function FS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function I_(n,e){for(const t of n)if(!RN(t,{upTo:e}))return t}function RN(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function AN(n){return n instanceof HTMLInputElement&&"select"in n}function ei(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&AN(n)&&e&&n.select()}}var C_=PN();function PN(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=R_(n,e),n.unshift(e)},remove(e){n=R_(n,e),n[0]?.resume()}}}function R_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function kN(n){return n.filter(e=>e.tagName!=="A")}var NN="Portal",Th=w.forwardRef((n,e)=>{const{container:t,...r}=n,[o,a]=w.useState(!1);tn(()=>a(!0),[]);const l=t||o&&globalThis?.document?.body;return l?eS.createPortal(p.jsx(Ye.div,{...r,ref:e}),l):null});Th.displayName=NN;var Ym=0;function _v(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??A_()),document.body.insertAdjacentElement("beforeend",n[1]??A_()),Ym++,()=>{Ym===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ym--}},[])}function A_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ws=function(){return ws=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ws.apply(this,arguments)};function _u(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function DN(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var vf="right-scroll-bar-position",yf="width-before-scroll-bar",ON="with-scroll-bars-hidden",jN="--removed-body-scroll-bar-size";function Xm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function MN(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var LN=typeof window<"u"?w.useLayoutEffect:w.useEffect,P_=new WeakMap;function VN(n,e){var t=MN(null,function(r){return n.forEach(function(o){return Xm(o,r)})});return LN(function(){var r=P_.get(t);if(r){var o=new Set(r),a=new Set(n),l=t.current;o.forEach(function(u){a.has(u)||Xm(u,null)}),a.forEach(function(u){o.has(u)||Xm(u,l)})}P_.set(t,n)},[n]),t}function FN(n){return n}function UN(n,e){e===void 0&&(e=FN);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(a),l=t}var f=function(){var y=l;l=[],y.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(y){l.push(y),m()},filter:function(y){return l=l.filter(y),t}}}};return o}function $N(n){n===void 0&&(n={});var e=UN(null);return e.options=ws({async:!0,ssr:!1},n),e}var US=function(n){var e=n.sideCar,t=_u(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ws({},t))};US.isSideCarExport=!0;function zN(n,e){return n.useMedium(e),US}var $S=$N(),Jm=function(){},bh=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:Jm,onWheelCapture:Jm,onTouchMoveCapture:Jm}),o=r[0],a=r[1],l=n.forwardProps,u=n.children,f=n.className,m=n.removeScrollBar,y=n.enabled,g=n.shards,E=n.sideCar,T=n.noRelative,A=n.noIsolation,b=n.inert,R=n.allowPinchZoom,O=n.as,M=O===void 0?"div":O,U=n.gapMode,H=_u(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Q=E,te=VN([t,e]),D=ws(ws({},H),o);return w.createElement(w.Fragment,null,y&&w.createElement(Q,{sideCar:$S,removeScrollBar:m,shards:g,noRelative:T,noIsolation:A,inert:b,setCallbacks:a,allowPinchZoom:!!R,lockRef:t,gapMode:U}),l?w.cloneElement(w.Children.only(u),ws(ws({},D),{ref:te})):w.createElement(M,ws({},D,{className:f,ref:te}),u))});bh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bh.classNames={fullWidth:yf,zeroRight:vf};var BN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HN(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=BN();return e&&n.setAttribute("nonce",e),n}function WN(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function qN(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var GN=function(){var n=0,e=null;return{add:function(t){n==0&&(e=HN())&&(WN(e,t),qN(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KN=function(){var n=GN();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},zS=function(){var n=KN(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},QN={left:0,top:0,right:0,gap:0},Zm=function(n){return parseInt(n||"",10)||0},YN=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Zm(t),Zm(r),Zm(o)]},XN=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return QN;var e=YN(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},JN=zS(),gl="data-scroll-locked",ZN=function(n,e,t,r){var o=n.left,a=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(ON,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(gl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(yf,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gl,`] {
    `).concat(jN,": ").concat(u,`px;
  }
`)},k_=function(){var n=parseInt(document.body.getAttribute(gl)||"0",10);return isFinite(n)?n:0},e2=function(){w.useEffect(function(){return document.body.setAttribute(gl,(k_()+1).toString()),function(){var n=k_()-1;n<=0?document.body.removeAttribute(gl):document.body.setAttribute(gl,n.toString())}},[])},t2=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;e2();var a=w.useMemo(function(){return XN(o)},[o]);return w.createElement(JN,{styles:ZN(a,!e,o,t?"":"!important")})},Sg=!1;if(typeof window<"u")try{var nf=Object.defineProperty({},"passive",{get:function(){return Sg=!0,!0}});window.addEventListener("test",nf,nf),window.removeEventListener("test",nf,nf)}catch{Sg=!1}var ll=Sg?{passive:!1}:!1,n2=function(n){return n.tagName==="TEXTAREA"},BS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!n2(n)&&t[e]==="visible")},r2=function(n){return BS(n,"overflowY")},s2=function(n){return BS(n,"overflowX")},N_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=HS(n,r);if(o){var a=WS(n,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},o2=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},i2=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},HS=function(n,e){return n==="v"?r2(e):s2(e)},WS=function(n,e){return n==="v"?o2(e):i2(e)},a2=function(n,e){return n==="h"&&e==="rtl"?-1:1},l2=function(n,e,t,r,o){var a=a2(n,window.getComputedStyle(e).direction),l=a*r,u=t.target,f=e.contains(u),m=!1,y=l>0,g=0,E=0;do{if(!u)break;var T=WS(n,u),A=T[0],b=T[1],R=T[2],O=b-R-a*A;(A||O)&&HS(n,u)&&(g+=O,E+=A);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(y&&Math.abs(g)<1||!y&&Math.abs(E)<1)&&(m=!0),m},rf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},D_=function(n){return[n.deltaX,n.deltaY]},O_=function(n){return n&&"current"in n?n.current:n},c2=function(n,e){return n[0]===e[0]&&n[1]===e[1]},u2=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},d2=0,cl=[];function f2(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),o=w.useState(d2++)[0],a=w.useState(zS)[0],l=w.useRef(n);w.useEffect(function(){l.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var b=DN([n.lockRef.current],(n.shards||[]).map(O_),!0).filter(Boolean);return b.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var u=w.useCallback(function(b,R){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var O=rf(b),M=t.current,U="deltaX"in b?b.deltaX:M[0]-O[0],H="deltaY"in b?b.deltaY:M[1]-O[1],Q,te=b.target,D=Math.abs(U)>Math.abs(H)?"h":"v";if("touches"in b&&D==="h"&&te.type==="range")return!1;var C=window.getSelection(),j=C&&C.anchorNode,L=j?j===te||j.contains(te):!1;if(L)return!1;var F=N_(D,te);if(!F)return!0;if(F?Q=D:(Q=D==="v"?"h":"v",F=N_(D,te)),!F)return!1;if(!r.current&&"changedTouches"in b&&(U||H)&&(r.current=Q),!Q)return!0;var z=r.current||Q;return l2(z,R,b,z==="h"?U:H)},[]),f=w.useCallback(function(b){var R=b;if(!(!cl.length||cl[cl.length-1]!==a)){var O="deltaY"in R?D_(R):rf(R),M=e.current.filter(function(Q){return Q.name===R.type&&(Q.target===R.target||R.target===Q.shadowParent)&&c2(Q.delta,O)})[0];if(M&&M.should){R.cancelable&&R.preventDefault();return}if(!M){var U=(l.current.shards||[]).map(O_).filter(Boolean).filter(function(Q){return Q.contains(R.target)}),H=U.length>0?u(R,U[0]):!l.current.noIsolation;H&&R.cancelable&&R.preventDefault()}}},[]),m=w.useCallback(function(b,R,O,M){var U={name:b,delta:R,target:O,should:M,shadowParent:h2(O)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(H){return H!==U})},1)},[]),y=w.useCallback(function(b){t.current=rf(b),r.current=void 0},[]),g=w.useCallback(function(b){m(b.type,D_(b),b.target,u(b,n.lockRef.current))},[]),E=w.useCallback(function(b){m(b.type,rf(b),b.target,u(b,n.lockRef.current))},[]);w.useEffect(function(){return cl.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:E}),document.addEventListener("wheel",f,ll),document.addEventListener("touchmove",f,ll),document.addEventListener("touchstart",y,ll),function(){cl=cl.filter(function(b){return b!==a}),document.removeEventListener("wheel",f,ll),document.removeEventListener("touchmove",f,ll),document.removeEventListener("touchstart",y,ll)}},[]);var T=n.removeScrollBar,A=n.inert;return w.createElement(w.Fragment,null,A?w.createElement(a,{styles:u2(o)}):null,T?w.createElement(t2,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function h2(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const p2=zN($S,f2);var Ih=w.forwardRef(function(n,e){return w.createElement(bh,ws({},n,{ref:e,sideCar:p2}))});Ih.classNames=bh.classNames;var m2=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ul=new WeakMap,sf=new WeakMap,of={},eg=0,qS=function(n){return n&&(n.host||qS(n.parentNode))},g2=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=qS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},v2=function(n,e,t,r){var o=g2(e,Array.isArray(n)?n:[n]);of[t]||(of[t]=new WeakMap);var a=of[t],l=[],u=new Set,f=new Set(o),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};o.forEach(m);var y=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(E){if(u.has(E))y(E);else try{var T=E.getAttribute(r),A=T!==null&&T!=="false",b=(ul.get(E)||0)+1,R=(a.get(E)||0)+1;ul.set(E,b),a.set(E,R),l.push(E),b===1&&A&&sf.set(E,!0),R===1&&E.setAttribute(t,"true"),A||E.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",E,O)}})};return y(e),u.clear(),eg++,function(){l.forEach(function(g){var E=ul.get(g)-1,T=a.get(g)-1;ul.set(g,E),a.set(g,T),E||(sf.has(g)||g.removeAttribute(r),sf.delete(g)),T||g.removeAttribute(t)}),eg--,eg||(ul=new WeakMap,ul=new WeakMap,sf=new WeakMap,of={})}},xv=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=m2(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),v2(r,o,t,"aria-hidden")):function(){return null}};function y2(n){const e=w2(n),t=w.forwardRef((r,o)=>{const{children:a,...l}=r,u=w.Children.toArray(a),f=u.find(x2);if(f){const m=f.props.children,y=u.map(g=>g===f?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return p.jsx(e,{...l,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,y):null})}return p.jsx(e,{...l,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function w2(n){const e=w.forwardRef((t,r)=>{const{children:o,...a}=t;if(w.isValidElement(o)){const l=S2(o),u=E2(a,o.props);return o.type!==w.Fragment&&(u.ref=r?vo(r,l):l),w.cloneElement(o,u)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var _2=Symbol("radix.slottable");function x2(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===_2}function E2(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...u)=>{const f=a(...u);return o(...u),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function S2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Ch="Dialog",[GS,KS]=yo(Ch),[T2,os]=GS(Ch),QS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:l=!0}=n,u=w.useRef(null),f=w.useRef(null),[m,y]=Sl({prop:r,defaultProp:o??!1,onChange:a,caller:Ch});return p.jsx(T2,{scope:e,triggerRef:u,contentRef:f,contentId:xs(),titleId:xs(),descriptionId:xs(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(g=>!g),[y]),modal:l,children:t})};QS.displayName=Ch;var YS="DialogTrigger",XS=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=os(YS,t),a=ht(e,o.triggerRef);return p.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Tv(o.open),...r,ref:a,onClick:ke(n.onClick,o.onOpenToggle)})});XS.displayName=YS;var Ev="DialogPortal",[b2,JS]=GS(Ev,{forceMount:void 0}),ZS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,a=os(Ev,e);return p.jsx(b2,{scope:e,forceMount:t,children:w.Children.map(r,l=>p.jsx(wo,{present:t||a.open,children:p.jsx(Th,{asChild:!0,container:o,children:l})}))})};ZS.displayName=Ev;var Of="DialogOverlay",eT=w.forwardRef((n,e)=>{const t=JS(Of,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=os(Of,n.__scopeDialog);return a.modal?p.jsx(wo,{present:r||a.open,children:p.jsx(C2,{...o,ref:e})}):null});eT.displayName=Of;var I2=y2("DialogOverlay.RemoveScroll"),C2=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=os(Of,t);return p.jsx(Ih,{as:I2,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(Ye.div,{"data-state":Tv(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),da="DialogContent",tT=w.forwardRef((n,e)=>{const t=JS(da,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=os(da,n.__scopeDialog);return p.jsx(wo,{present:r||a.open,children:a.modal?p.jsx(R2,{...o,ref:e}):p.jsx(A2,{...o,ref:e})})});tT.displayName=da;var R2=w.forwardRef((n,e)=>{const t=os(da,n.__scopeDialog),r=w.useRef(null),o=ht(e,t.contentRef,r);return w.useEffect(()=>{const a=r.current;if(a)return xv(a)},[]),p.jsx(nT,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(n.onCloseAutoFocus,a=>{a.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:ke(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:ke(n.onFocusOutside,a=>a.preventDefault())})}),A2=w.forwardRef((n,e)=>{const t=os(da,n.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return p.jsx(nT,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;t.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),nT=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=n,u=os(da,t),f=w.useRef(null),m=ht(e,f);return _v(),p.jsxs(p.Fragment,{children:[p.jsx(Sh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:p.jsx(Eh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Tv(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(k2,{titleId:u.titleId}),p.jsx(D2,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Sv="DialogTitle",rT=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=os(Sv,t);return p.jsx(Ye.h2,{id:o.titleId,...r,ref:e})});rT.displayName=Sv;var sT="DialogDescription",oT=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=os(sT,t);return p.jsx(Ye.p,{id:o.descriptionId,...r,ref:e})});oT.displayName=sT;var iT="DialogClose",aT=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=os(iT,t);return p.jsx(Ye.button,{type:"button",...r,ref:e,onClick:ke(n.onClick,()=>o.onOpenChange(!1))})});aT.displayName=iT;function Tv(n){return n?"open":"closed"}var lT="DialogTitleWarning",[P2,cT]=Nk(lT,{contentName:da,titleName:Sv,docsSlug:"dialog"}),k2=({titleId:n})=>{const e=cT(lT),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},N2="DialogDescriptionWarning",D2=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cT(N2).contentName}}.`;return w.useEffect(()=>{const o=n.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},uT=QS,O2=XS,dT=ZS,bv=eT,Iv=tT,fT=rT,hT=oT,Cv=aT;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),j_=n=>{const e=M2(n);return e.charAt(0).toUpperCase()+e.slice(1)},pT=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:l,...u},f)=>w.createElement("svg",{ref:f,...L2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:pT("lucide",o),...u},[...l.map(([m,y])=>w.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(n,e)=>{const t=w.forwardRef(({className:r,...o},a)=>w.createElement(V2,{ref:a,iconNode:e,className:pT(`lucide-${j2(j_(n))}`,`lucide-${n}`,r),...o}));return t.displayName=j_(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],tg=tt("ban",F2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$2=tt("bell",U2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],B2=tt("check",z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mT=tt("chevron-down",H2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],q2=tt("chevron-up",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K2=tt("circle-check-big",G2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Y2=tt("ellipsis-vertical",Q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],M_=tt("file-text",X2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],gT=tt("flag",J2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eD=tt("globe",Z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],vT=tt("heart",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],rD=tt("house",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],oD=tt("image",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],aD=tt("loader-circle",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cD=tt("lock",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],dD=tt("log-out",uD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hD=tt("map-pin",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],yT=tt("message-circle",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Rv=tt("paw-print",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wT=tt("pen",gD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yD=tt("search",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_T=tt("send",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xD=tt("settings",_D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],xT=tt("share-2",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Av=tt("shield",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],bD=tt("sparkles",TD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],jf=tt("trash-2",ID);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ng=tt("triangle-alert",CD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],AD=tt("user-cog",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ET=tt("user-minus",PD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ST=tt("user-plus",kD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],DD=tt("user-x",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jD=tt("user",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Mf=tt("users",MD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tg=tt("x",LD);function Lf({...n}){return p.jsx(uT,{"data-slot":"dialog",...n})}function VD({...n}){return p.jsx(dT,{"data-slot":"dialog-portal",...n})}const TT=w.forwardRef(({className:n,...e},t)=>p.jsx(bv,{ref:t,"data-slot":"dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","fixed inset-0 z-50 bg-black/50",n),...e}));TT.displayName=bv.displayName;const Zc=w.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(VD,{"data-slot":"dialog-portal",children:[p.jsx(TT,{}),p.jsxs(Iv,{ref:r,"data-slot":"dialog-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,p.jsxs(Cv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(Tg,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zc.displayName=Iv.displayName;function Vf({className:n,...e}){return p.jsx("div",{"data-slot":"dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",n),...e})}function Ff({className:n,...e}){return p.jsx(fT,{"data-slot":"dialog-title",className:We("text-lg leading-none font-semibold",n),...e})}function Uf({className:n,...e}){return p.jsx(hT,{"data-slot":"dialog-description",className:We("text-muted-foreground text-sm",n),...e})}function FD(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const UD=n=>{switch(n){case"success":return BD;case"info":return WD;case"warning":return HD;case"error":return qD;default:return null}},$D=Array(12).fill(0),zD=({visible:n,className:e})=>me.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},me.createElement("div",{className:"sonner-spinner"},$D.map((t,r)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BD=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HD=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WD=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qD=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GD=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),KD=()=>{const[n,e]=me.useState(document.hidden);return me.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let bg=1;class QD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...o}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:bg++,l=this.toasts.find(f=>f.id===a),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:u,title:r}):f):this.addToast({title:r,...o,dismissible:u,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const u=o.then(async m=>{if(l=["resolve",m],me.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(XD(m)&&!m.ok){a=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,A=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:E,...A})}else if(m instanceof Error){a=!1;const g=typeof t.error=="function"?await t.error(m):t.error,E=typeof t.description=="function"?await t.description(m):t.description,A=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:E,...A})}else if(t.success!==void 0){a=!1;const g=typeof t.success=="function"?await t.success(m):t.success,E=typeof t.description=="function"?await t.description(m):t.description,A=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:E,...A})}}).catch(async m=>{if(l=["reject",m],t.error!==void 0){a=!1;const y=typeof t.error=="function"?await t.error(m):t.error,g=typeof t.description=="function"?await t.description(m):t.description,T=typeof y=="object"&&!me.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:g,...T})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),f=()=>new Promise((m,y)=>u.then(()=>l[0]==="reject"?y(l[1]):m(l[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,t)=>{const r=t?.id||bg++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gn=new QD,YD=(n,e)=>{const t=e?.id||bg++;return Gn.addToast({title:n,...e,id:t}),t},XD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",JD=YD,ZD=()=>Gn.toasts,eO=()=>Gn.getActiveToasts(),be=Object.assign(JD,{success:Gn.success,info:Gn.info,warning:Gn.warning,error:Gn.error,custom:Gn.custom,message:Gn.message,promise:Gn.promise,dismiss:Gn.dismiss,loading:Gn.loading},{getHistory:ZD,getToasts:eO});FD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function af(n){return n.label!==void 0}const tO=3,nO="24px",rO="16px",L_=4e3,sO=356,oO=14,iO=45,aO=200;function vs(...n){return n.filter(Boolean).join(" ")}function lO(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const cO=n=>{var e,t,r,o,a,l,u,f,m;const{invert:y,toast:g,unstyled:E,interacting:T,setHeights:A,visibleToasts:b,heights:R,index:O,toasts:M,expanded:U,removeToast:H,defaultRichColors:Q,closeButton:te,style:D,cancelButtonStyle:C,actionButtonStyle:j,className:L="",descriptionClassName:F="",duration:z,position:P,gap:q,expandByDefault:le,classNames:K,icons:J,closeButtonAriaLabel:N="Close toast"}=n,[G,oe]=me.useState(null),[$,Z]=me.useState(null),[re,fe]=me.useState(!1),[ye,Se]=me.useState(!1),[ie,ge]=me.useState(!1),[De,Oe]=me.useState(!1),[He,qe]=me.useState(!1),[It,Ht]=me.useState(0),[hr,pr]=me.useState(0),Cn=me.useRef(g.duration||z||L_),Ti=me.useRef(null),gn=me.useRef(null),Pr=O===0,kr=O+1<=b,Wt=g.type,Zn=g.dismissible!==!1,bo=g.className||"",bi=g.descriptionClassName||"",xt=me.useMemo(()=>R.findIndex(je=>je.toastId===g.id)||0,[R,g.id]),jt=me.useMemo(()=>{var je;return(je=g.closeButton)!=null?je:te},[g.closeButton,te]),mr=me.useMemo(()=>g.duration||z||L_,[g.duration,z]),Os=me.useRef(0),Rn=me.useRef(0),is=me.useRef(0),jn=me.useRef(null),[Ii,Ci]=P.split("-"),Io=me.useMemo(()=>R.reduce((je,Et,St)=>St>=xt?je:je+Et.height,0),[R,xt]),Co=KD(),Ri=g.invert||y,Nr=Wt==="loading";Rn.current=me.useMemo(()=>xt*q+Io,[xt,Io]),me.useEffect(()=>{Cn.current=mr},[mr]),me.useEffect(()=>{fe(!0)},[]),me.useEffect(()=>{const je=gn.current;if(je){const Et=je.getBoundingClientRect().height;return pr(Et),A(St=>[{toastId:g.id,height:Et,position:g.position},...St]),()=>A(St=>St.filter(qt=>qt.toastId!==g.id))}},[A,g.id]),me.useLayoutEffect(()=>{if(!re)return;const je=gn.current,Et=je.style.height;je.style.height="auto";const St=je.getBoundingClientRect().height;je.style.height=Et,pr(St),A(qt=>qt.find(Ct=>Ct.toastId===g.id)?qt.map(Ct=>Ct.toastId===g.id?{...Ct,height:St}:Ct):[{toastId:g.id,height:St,position:g.position},...qt])},[re,g.title,g.description,A,g.id,g.jsx,g.action,g.cancel]);const An=me.useCallback(()=>{Se(!0),Ht(Rn.current),A(je=>je.filter(Et=>Et.toastId!==g.id)),setTimeout(()=>{H(g)},aO)},[g,H,A,Rn]);me.useEffect(()=>{if(g.promise&&Wt==="loading"||g.duration===1/0||g.type==="loading")return;let je;return U||T||Co?(()=>{if(is.current<Os.current){const qt=new Date().getTime()-Os.current;Cn.current=Cn.current-qt}is.current=new Date().getTime()})():(()=>{Cn.current!==1/0&&(Os.current=new Date().getTime(),je=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),An()},Cn.current))})(),()=>clearTimeout(je)},[U,T,g,Wt,Co,An]),me.useEffect(()=>{g.delete&&(An(),g.onDismiss==null||g.onDismiss.call(g,g))},[An,g.delete]);function Ro(){var je;if(J?.loading){var Et;return me.createElement("div",{className:vs(K?.loader,g==null||(Et=g.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":Wt==="loading"},J.loading)}return me.createElement(zD,{className:vs(K?.loader,g==null||(je=g.classNames)==null?void 0:je.loader),visible:Wt==="loading"})}const Mn=g.icon||J?.[Wt]||UD(Wt);var er,js;return me.createElement("li",{tabIndex:0,ref:gn,className:vs(L,bo,K?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,K?.default,K?.[Wt],g==null||(t=g.classNames)==null?void 0:t[Wt]),"data-sonner-toast":"","data-rich-colors":(er=g.richColors)!=null?er:Q,"data-styled":!(g.jsx||g.unstyled||E),"data-mounted":re,"data-promise":!!g.promise,"data-swiped":He,"data-removed":ye,"data-visible":kr,"data-y-position":Ii,"data-x-position":Ci,"data-index":O,"data-front":Pr,"data-swiping":ie,"data-dismissible":Zn,"data-type":Wt,"data-invert":Ri,"data-swipe-out":De,"data-swipe-direction":$,"data-expanded":!!(U||le&&re),"data-testid":g.testId,style:{"--index":O,"--toasts-before":O,"--z-index":M.length-O,"--offset":`${ye?It:Rn.current}px`,"--initial-height":le?"auto":`${hr}px`,...D,...g.style},onDragEnd:()=>{ge(!1),oe(null),jn.current=null},onPointerDown:je=>{je.button!==2&&(Nr||!Zn||(Ti.current=new Date,Ht(Rn.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(ge(!0),jn.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,Et,St;if(De||!Zn)return;jn.current=null;const qt=Number(((je=gn.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ln=Number(((Et=gn.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ct=new Date().getTime()-((St=Ti.current)==null?void 0:St.getTime()),nt=G==="x"?qt:Ln,Dr=Math.abs(nt)/Ct;if(Math.abs(nt)>=iO||Dr>.11){Ht(Rn.current),g.onDismiss==null||g.onDismiss.call(g,g),Z(G==="x"?qt>0?"right":"left":Ln>0?"down":"up"),An(),Oe(!0);return}else{var Rt,Gt;(Rt=gn.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(Gt=gn.current)==null||Gt.style.setProperty("--swipe-amount-y","0px")}qe(!1),ge(!1),oe(null)},onPointerMove:je=>{var Et,St,qt;if(!jn.current||!Zn||((Et=window.getSelection())==null?void 0:Et.toString().length)>0)return;const Ct=je.clientY-jn.current.y,nt=je.clientX-jn.current.x;var Dr;const Rt=(Dr=n.swipeDirections)!=null?Dr:lO(P);!G&&(Math.abs(nt)>1||Math.abs(Ct)>1)&&oe(Math.abs(nt)>Math.abs(Ct)?"x":"y");let Gt={x:0,y:0};const as=Vn=>1/(1.5+Math.abs(Vn)/20);if(G==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&Ct<0||Rt.includes("bottom")&&Ct>0)Gt.y=Ct;else{const Vn=Ct*as(Ct);Gt.y=Math.abs(Vn)<Math.abs(Ct)?Vn:Ct}}else if(G==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&nt<0||Rt.includes("right")&&nt>0)Gt.x=nt;else{const Vn=nt*as(nt);Gt.x=Math.abs(Vn)<Math.abs(nt)?Vn:nt}(Math.abs(Gt.x)>0||Math.abs(Gt.y)>0)&&qe(!0),(St=gn.current)==null||St.style.setProperty("--swipe-amount-x",`${Gt.x}px`),(qt=gn.current)==null||qt.style.setProperty("--swipe-amount-y",`${Gt.y}px`)}},jt&&!g.jsx&&Wt!=="loading"?me.createElement("button",{"aria-label":N,"data-disabled":Nr,"data-close-button":!0,onClick:Nr||!Zn?()=>{}:()=>{An(),g.onDismiss==null||g.onDismiss.call(g,g)},className:vs(K?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(js=J?.close)!=null?js:GD):null,(Wt||g.icon||g.promise)&&g.icon!==null&&(J?.[Wt]!==null||g.icon)?me.createElement("div",{"data-icon":"",className:vs(K?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Ro():null,g.type!=="loading"?Mn:null):null,me.createElement("div",{"data-content":"",className:vs(K?.content,g==null||(a=g.classNames)==null?void 0:a.content)},me.createElement("div",{"data-title":"",className:vs(K?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?me.createElement("div",{"data-description":"",className:vs(F,bi,K?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),me.isValidElement(g.cancel)?g.cancel:g.cancel&&af(g.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||C,onClick:je=>{af(g.cancel)&&Zn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,je),An())},className:vs(K?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,me.isValidElement(g.action)?g.action:g.action&&af(g.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||j,onClick:je=>{af(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,je),!je.defaultPrevented&&An())},className:vs(K?.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function V_(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function uO(n,e){const t={};return[n,e].forEach((r,o)=>{const a=o===1,l=a?"--mobile-offset":"--offset",u=a?rO:nO;function f(m){["top","right","bottom","left"].forEach(y=>{t[`${l}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?t[`${l}-${m}`]=u:t[`${l}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):f(u)}),t}const dO=me.forwardRef(function(e,t){const{id:r,invert:o,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:m,offset:y,mobileOffset:g,theme:E="light",richColors:T,duration:A,style:b,visibleToasts:R=tO,toastOptions:O,dir:M=V_(),gap:U=oO,icons:H,containerAriaLabel:Q="Notifications"}=e,[te,D]=me.useState([]),C=me.useMemo(()=>r?te.filter(re=>re.toasterId===r):te.filter(re=>!re.toasterId),[te,r]),j=me.useMemo(()=>Array.from(new Set([a].concat(C.filter(re=>re.position).map(re=>re.position)))),[C,a]),[L,F]=me.useState([]),[z,P]=me.useState(!1),[q,le]=me.useState(!1),[K,J]=me.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),N=me.useRef(null),G=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),oe=me.useRef(null),$=me.useRef(!1),Z=me.useCallback(re=>{D(fe=>{var ye;return(ye=fe.find(Se=>Se.id===re.id))!=null&&ye.delete||Gn.dismiss(re.id),fe.filter(({id:Se})=>Se!==re.id)})},[]);return me.useEffect(()=>Gn.subscribe(re=>{if(re.dismiss){requestAnimationFrame(()=>{D(fe=>fe.map(ye=>ye.id===re.id?{...ye,delete:!0}:ye))});return}setTimeout(()=>{eS.flushSync(()=>{D(fe=>{const ye=fe.findIndex(Se=>Se.id===re.id);return ye!==-1?[...fe.slice(0,ye),{...fe[ye],...re},...fe.slice(ye+1)]:[re,...fe]})})})}),[te]),me.useEffect(()=>{if(E!=="system"){J(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:fe})=>{J(fe?"dark":"light")})}catch{re.addListener(({matches:ye})=>{try{J(ye?"dark":"light")}catch(Se){console.error(Se)}})}},[E]),me.useEffect(()=>{te.length<=1&&P(!1)},[te]),me.useEffect(()=>{const re=fe=>{var ye;if(l.every(ge=>fe[ge]||fe.code===ge)){var ie;P(!0),(ie=N.current)==null||ie.focus()}fe.code==="Escape"&&(document.activeElement===N.current||(ye=N.current)!=null&&ye.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[l]),me.useEffect(()=>{if(N.current)return()=>{oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null,$.current=!1)}},[N.current]),me.createElement("section",{ref:t,"aria-label":`${Q} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((re,fe)=>{var ye;const[Se,ie]=re.split("-");return C.length?me.createElement("ol",{key:re,dir:M==="auto"?V_():M,tabIndex:-1,ref:N,className:m,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":Se,"data-x-position":ie,style:{"--front-toast-height":`${((ye=L[0])==null?void 0:ye.height)||0}px`,"--width":`${sO}px`,"--gap":`${U}px`,...b,...uO(y,g)},onBlur:ge=>{$.current&&!ge.currentTarget.contains(ge.relatedTarget)&&($.current=!1,oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||$.current||($.current=!0,oe.current=ge.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{q||P(!1)},onDragEnd:()=>P(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||le(!0)},onPointerUp:()=>le(!1)},C.filter(ge=>!ge.position&&fe===0||ge.position===re).map((ge,De)=>{var Oe,He;return me.createElement(cO,{key:ge.id,icons:H,index:De,toast:ge,defaultRichColors:T,duration:(Oe=O?.duration)!=null?Oe:A,className:O?.className,descriptionClassName:O?.descriptionClassName,invert:o,visibleToasts:R,closeButton:(He=O?.closeButton)!=null?He:f,interacting:q,position:re,style:O?.style,unstyled:O?.unstyled,classNames:O?.classNames,cancelButtonStyle:O?.cancelButtonStyle,actionButtonStyle:O?.actionButtonStyle,closeButtonAriaLabel:O?.closeButtonAriaLabel,removeToast:Z,toasts:C.filter(qe=>qe.position==ge.position),heights:L.filter(qe=>qe.position==ge.position),setHeights:F,expandByDefault:u,gap:U,expanded:z,swipeDirections:e.swipeDirections})})):null}))}),fO=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},hO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],l=n[t++],u=n[t++],f=((o&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|l&63)}}return e.join("")},IT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],l=o+1<n.length,u=l?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,y=a>>2,g=(a&3)<<4|u>>4;let E=(u&15)<<2|m>>6,T=m&63;f||(T=64,l||(E=64)),r.push(t[y],t[g],t[E],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],u=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const g=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||u==null||m==null||g==null)throw new pO;const E=a<<2|u>>4;if(r.push(E),m!==64){const T=u<<4&240|m>>2;if(r.push(T),g!==64){const A=m<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mO=function(n){const e=bT(n);return IT.encodeByteArray(e,!0)},$f=function(n){return mO(n).replace(/\./g,"")},CT=function(n){try{return IT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=()=>gO().__FIREBASE_DEFAULTS__,yO=()=>{if(typeof process>"u"||typeof F_>"u")return;const n=F_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CT(n[1]);return e&&JSON.parse(e)},Rh=()=>{try{return fO()||vO()||yO()||wO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RT=n=>{var e,t;return(t=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_O=n=>{const e=RT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},AT=()=>{var n;return(n=Rh())===null||n===void 0?void 0:n.config},PT=n=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$f(JSON.stringify(t)),$f(JSON.stringify(l)),""].join(".")}const zc={};function SO(){const n={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?n.emulator.push(e):n.prod.push(e);return n}function TO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let U_=!1;function NT(n,e){if(typeof window>"u"||typeof document>"u"||!Ll(window.location.host)||zc[n]===e||zc[n]||U_)return;zc[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=SO().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{U_=!0,l()},E}function y(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function g(){const E=TO(r),T=t("text"),A=document.getElementById(T)||document.createElement("span"),b=t("learnmore"),R=document.getElementById(b)||document.createElement("a"),O=t("preprendIcon"),M=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const U=E.element;u(U),y(R,b);const H=m();f(M,O),U.append(M,A,R,H),document.body.appendChild(U)}a?(A.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function IO(){var n;const e=(n=Rh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PO(){const n=In();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kO(){return!IO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NO(){try{return typeof indexedDB=="object"}catch{return!1}}function DO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="FirebaseError";class _o extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=OO,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],l=a?jO(a,r):"Error",u=`${this.serviceName}: ${l} (${o}).`;return new _o(o,u,r)}}function jO(n,e){return n.replace(MO,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const MO=/\{\$([^}]+)}/g;function LO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],l=e[o];if($_(a)&&$_(l)){if(!fa(a,l))return!1}else if(a!==l)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function $_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Dc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VO(n,e){const t=new FO(n,e);return t.subscribe.bind(t)}class FO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UO(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=rg),o.error===void 0&&(o.error=rg),o.complete===void 0&&(o.complete=rg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n){return n&&n._delegate?n._delegate:n}class ha{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new xO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BO(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const l=this.instances.get(o);return l&&e(l,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zO(n){return n===Xi?void 0:n}function BO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $O(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const WO={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},qO=Xe.INFO,GO={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},KO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=GO[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pv{constructor(e){this.name=e,this._logLevel=qO,this._logHandler=KO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const QO=(n,e)=>e.some(t=>n instanceof t);let z_,B_;function YO(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XO(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DT=new WeakMap,Ig=new WeakMap,OT=new WeakMap,sg=new WeakMap,kv=new WeakMap;function JO(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(si(n.result)),o()},l=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&DT.set(t,n)}).catch(()=>{}),kv.set(e,n),e}function ZO(n){if(Ig.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),o()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Ig.set(n,e)}let Cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return si(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ej(n){Cg=n(Cg)}function tj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(og(this),e,...t);return OT.set(r,e.sort?e.sort():[e]),si(r)}:XO().includes(n)?function(...e){return n.apply(og(this),e),si(DT.get(this))}:function(...e){return si(n.apply(og(this),e))}}function nj(n){return typeof n=="function"?tj(n):(n instanceof IDBTransaction&&ZO(n),QO(n,YO())?new Proxy(n,Cg):n)}function si(n){if(n instanceof IDBRequest)return JO(n);if(sg.has(n))return sg.get(n);const e=nj(n);return e!==n&&(sg.set(n,e),kv.set(e,n)),e}const og=n=>kv.get(n);function rj(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const l=indexedDB.open(n,e),u=si(l);return r&&l.addEventListener("upgradeneeded",f=>{r(si(l.result),f.oldVersion,f.newVersion,si(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const sj=["get","getKey","getAll","getAllKeys","count"],oj=["put","add","delete","clear"],ig=new Map;function H_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=oj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||sj.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),o&&f.done]))[0]};return ig.set(e,a),a}ej(n=>({...n,get:(e,t,r)=>H_(e,t)||n.get(e,t,r),has:(e,t)=>!!H_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function aj(n){const e=n.getComponent();return e?.type==="VERSION"}const Rg="@firebase/app",W_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new Pv("@firebase/app"),lj="@firebase/app-compat",cj="@firebase/analytics-compat",uj="@firebase/analytics",dj="@firebase/app-check-compat",fj="@firebase/app-check",hj="@firebase/auth",pj="@firebase/auth-compat",mj="@firebase/database",gj="@firebase/data-connect",vj="@firebase/database-compat",yj="@firebase/functions",wj="@firebase/functions-compat",_j="@firebase/installations",xj="@firebase/installations-compat",Ej="@firebase/messaging",Sj="@firebase/messaging-compat",Tj="@firebase/performance",bj="@firebase/performance-compat",Ij="@firebase/remote-config",Cj="@firebase/remote-config-compat",Rj="@firebase/storage",Aj="@firebase/storage-compat",Pj="@firebase/firestore",kj="@firebase/ai",Nj="@firebase/firestore-compat",Dj="firebase",Oj="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",jj={[Rg]:"fire-core",[lj]:"fire-core-compat",[uj]:"fire-analytics",[cj]:"fire-analytics-compat",[fj]:"fire-app-check",[dj]:"fire-app-check-compat",[hj]:"fire-auth",[pj]:"fire-auth-compat",[mj]:"fire-rtdb",[gj]:"fire-data-connect",[vj]:"fire-rtdb-compat",[yj]:"fire-fn",[wj]:"fire-fn-compat",[_j]:"fire-iid",[xj]:"fire-iid-compat",[Ej]:"fire-fcm",[Sj]:"fire-fcm-compat",[Tj]:"fire-perf",[bj]:"fire-perf-compat",[Ij]:"fire-rc",[Cj]:"fire-rc-compat",[Rj]:"fire-gcs",[Aj]:"fire-gcs-compat",[Pj]:"fire-fst",[Nj]:"fire-fst-compat",[kj]:"fire-vertex","fire-js":"fire-js",[Dj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,Mj=new Map,Pg=new Map;function q_(n,e){try{n.container.addComponent(e)}catch(t){co.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tl(n){const e=n.name;if(Pg.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,n);for(const t of zf.values())q_(t,n);for(const t of Mj.values())q_(t,n);return!0}function Nv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ur(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new xu("app","Firebase",Lj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=Oj;function jT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ag,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw oi.create("bad-app-name",{appName:String(o)});if(t||(t=AT()),!t)throw oi.create("no-options");const a=zf.get(o);if(a){if(fa(t,a.options)&&fa(r,a.config))return a;throw oi.create("duplicate-app",{appName:o})}const l=new HO(o);for(const f of Pg.values())l.addComponent(f);const u=new Vj(t,r,l);return zf.set(o,u),u}function MT(n=Ag){const e=zf.get(n);if(!e&&n===Ag&&AT())return jT();if(!e)throw oi.create("no-app",{appName:n});return e}function ii(n,e,t){var r;let o=(r=jj[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${o}" with version "${e}":`];a&&u.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),co.warn(u.join(" "));return}Tl(new ha(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="firebase-heartbeat-database",Uj=1,eu="firebase-heartbeat-store";let ag=null;function LT(){return ag||(ag=rj(Fj,Uj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw oi.create("idb-open",{originalErrorMessage:n.message})})),ag}async function $j(n){try{const t=(await LT()).transaction(eu),r=await t.objectStore(eu).get(VT(n));return await t.done,r}catch(e){if(e instanceof _o)co.warn(e.message);else{const t=oi.create("idb-get",{originalErrorMessage:e?.message});co.warn(t.message)}}}async function G_(n,e){try{const r=(await LT()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,VT(n)),await r.done}catch(t){if(t instanceof _o)co.warn(t.message);else{const r=oi.create("idb-set",{originalErrorMessage:t?.message});co.warn(r.message)}}}function VT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=1024,Bj=30;class Hj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Bj){const l=Gj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){co.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:r,unsentEntries:o}=Wj(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return co.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function Wj(n,e=zj){const t=[];let r=n.slice();for(const o of n){const a=t.find(l=>l.agent===o.agent);if(a){if(a.dates.push(o.date),Q_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Q_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class qj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NO()?DO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $j(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return G_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return G_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Q_(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function Gj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(n){Tl(new ha("platform-logger",e=>new ij(e),"PRIVATE")),Tl(new ha("heartbeat",e=>new Hj(e),"PRIVATE")),ii(Rg,W_,n),ii(Rg,W_,"esm2017"),ii("fire-js","")}Kj("");var Qj="firebase",Yj="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(Qj,Yj,"app");function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xj=FT,UT=new xu("auth","Firebase",FT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Pv("@firebase/auth");function Jj(n,...e){Bf.logLevel<=Xe.WARN&&Bf.warn(`Auth (${Vl}): ${n}`,...e)}function wf(n,...e){Bf.logLevel<=Xe.ERROR&&Bf.error(`Auth (${Vl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,...e){throw Ov(n,...e)}function Yr(n,...e){return Ov(n,...e)}function Dv(n,e,t){const r=Object.assign(Object.assign({},Xj()),{[e]:t});return new xu("auth","Firebase",r).create(e,{appName:n.name})}function io(n){return Dv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zj(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(n,"argument-error"),Dv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ov(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return UT.create(n,...e)}function Ve(n,e,...t){if(!n)throw Ov(e,...t)}function no(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wf(e),new Error(e)}function uo(n,e){n||no(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eM(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eM()||RO()||"connection"in navigator)?navigator.onLine:!0}function nM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t){this.shortDelay=e,this.longDelay=t,uo(t>e,"Short delay should be less than long delay!"),this.isMobile=bO()||AO()}get(){return tM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n,e){uo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;no("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;no("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;no("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oM=new Su(3e4,6e4);function xo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ns(n,e,t,r,o={}){return zT(n,o,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Eu(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return CO()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ll(n.emulatorConfig.host)&&(m.credentials="include"),$T.fetch()(await BT(n,n.config.apiHost,t,u),m)})}async function zT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rM),e);try{const o=new aM(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw lf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw lf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw lf(n,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Dv(n,y,m);Ar(n,y)}}catch(o){if(o instanceof _o)throw o;Ar(n,"network-request-failed",{message:String(o)})}}async function Tu(n,e,t,r,o={}){const a=await Ns(n,e,t,r,o);return"mfaPendingCredential"in a&&Ar(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function BT(n,e,t,r){const o=`${e}${t}?${r}`,a=n,l=a.config.emulator?jv(n.config,o):`${n.config.apiScheme}://${o}`;return sM.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function iM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),oM.get())})}}function lf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Yr(n,e,r);return o.customData._tokenResponse=t,o}function X_(n){return n!==void 0&&n.enterprise!==void 0}class lM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cM(n,e){return Ns(n,"GET","/v2/recaptchaConfig",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n,e){return Ns(n,"POST","/v1/accounts:delete",e)}async function Hf(n,e){return Ns(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dM(n,e=!1){const t=Vt(n),r=await t.getIdToken(e),o=Mv(r);Ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,l=a?.sign_in_provider;return{claims:o,token:r,authTime:Bc(lg(o.auth_time)),issuedAtTime:Bc(lg(o.iat)),expirationTime:Bc(lg(o.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function lg(n){return Number(n)*1e3}function Mv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const o=CT(t);return o?JSON.parse(o):(wf("Failed to decode base64 JWT payload"),null)}catch(o){return wf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J_(n){const e=Mv(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _o&&fM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(n){var e;const t=n.auth,r=await n.getIdToken(),o=await bl(n,Hf(t,{idToken:r}));Ve(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?HT(a.providerUserInfo):[],u=mM(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,y=f?m:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ng(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,g)}async function pM(n){const e=Vt(n);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mM(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function HT(n){return n.map(e=>{var{providerId:t}=e,r=_u(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,e){const t=await zT(n,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,l=await BT(n,o,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&Ll(n.emulatorConfig.host)&&(f.credentials="include"),$T.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vM(n,e){return Ns(n,"POST","/v2/accounts:revokeToken",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=J_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await gM(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,l=new vl;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),o&&(Ve(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),a&&(Ve(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return no("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=_u(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ng(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await bl(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dM(this,e)}reload(){return pM(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(io(this.auth));const e=await this.getIdToken();return await bl(this,uM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,l,u,f,m,y;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(o=t.email)!==null&&o!==void 0?o:void 0,T=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=t.photoURL)!==null&&l!==void 0?l:void 0,b=(u=t.tenantId)!==null&&u!==void 0?u:void 0,R=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,O=(m=t.createdAt)!==null&&m!==void 0?m:void 0,M=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:U,emailVerified:H,isAnonymous:Q,providerData:te,stsTokenManager:D}=t;Ve(U&&D,e,"internal-error");const C=vl.fromJSON(this.name,D);Ve(typeof U=="string",e,"internal-error"),Zo(g,e.name),Zo(E,e.name),Ve(typeof H=="boolean",e,"internal-error"),Ve(typeof Q=="boolean",e,"internal-error"),Zo(T,e.name),Zo(A,e.name),Zo(b,e.name),Zo(R,e.name),Zo(O,e.name),Zo(M,e.name);const j=new Qr({uid:U,auth:e,email:E,emailVerified:H,displayName:g,isAnonymous:Q,photoURL:A,phoneNumber:T,tenantId:b,stsTokenManager:C,createdAt:O,lastLoginAt:M});return te&&Array.isArray(te)&&(j.providerData=te.map(L=>Object.assign({},L))),R&&(j._redirectEventId=R),j}static async _fromIdTokenResponse(e,t,r=!1){const o=new vl;o.updateFromServerResponse(t);const a=new Qr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Wf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ve(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?HT(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!a?.length,u=new vl;u.updateFromIdToken(r);const f=new Qr({uid:o.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ng(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function ro(n){uo(n instanceof Function,"Expected a class definition");let e=Z_.get(n);return e?(uo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Z_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WT.type="NONE";const ex=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n,e,t){return`firebase:${n}:${e}:${t}`}class yl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=_f(this.userKey,o.apiKey,a),this.fullPersistenceKey=_f("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hf(this.auth,{idToken:e}).catch(()=>{});return t?Qr._fromGetAccountInfoResponse(this.auth,t,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new yl(ro(ex),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ro(ex);const l=_f(r,e.config.apiKey,e.name);let u=null;for(const m of t)try{const y=await m._get(l);if(y){let g;if(typeof y=="string"){const E=await Hf(e,{idToken:y}).catch(()=>{});if(!E)break;g=await Qr._fromGetAccountInfoResponse(e,E,y)}else g=Qr._fromJSON(e,y);m!==a&&(u=g),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new yl(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new yl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XT(e))return"Blackberry";if(JT(e))return"Webos";if(GT(e))return"Safari";if((e.includes("chrome/")||KT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function qT(n=In()){return/firefox\//i.test(n)}function GT(n=In()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KT(n=In()){return/crios\//i.test(n)}function QT(n=In()){return/iemobile/i.test(n)}function YT(n=In()){return/android/i.test(n)}function XT(n=In()){return/blackberry/i.test(n)}function JT(n=In()){return/webos/i.test(n)}function Lv(n=In()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yM(n=In()){var e;return Lv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wM(){return PO()&&document.documentMode===10}function ZT(n=In()){return Lv(n)||YT(n)||JT(n)||XT(n)||/windows phone/i.test(n)||QT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n,e=[]){let t;switch(n){case"Browser":t=tx(In());break;case"Worker":t=`${tx(In())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(n,e={}){return Ns(n,"GET","/v2/passwordPolicy",xo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=6;class SM{constructor(e){var t,r,o,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:EM,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nx(this),this.idTokenSubscription=new nx(this),this.beforeStateQueue=new _M(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ro(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hf(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=o?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(l){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(io(this));const t=e?Vt(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ro(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xM(this),t=new SM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await vM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ro(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[ro(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Jj(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Eo(n){return Vt(n)}class nx{constructor(e){this.auth=e,this.observer=null,this.addObserver=VO(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bM(n){Ah=n}function t1(n){return Ah.loadJS(n)}function IM(){return Ah.recaptchaEnterpriseScript}function CM(){return Ah.gapiScript}function RM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class AM{constructor(){this.enterprise=new PM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const kM="recaptcha-enterprise",n1="NO_RECAPTCHA";class NM{constructor(e){this.type=kM,this.auth=Eo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{cM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new lM(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(f=>{u(f)})})}function o(a,l,u){const f=window.grecaptcha;X_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(n1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AM().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&X_(window.grecaptcha))o(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=IM();f.length!==0&&(f+=u),t1(f).then(()=>{o(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function rx(n,e,t,r=!1,o=!1){const a=new NM(n);let l;if(o)l=n1;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function qf(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await rx(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await rx(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n,e){const t=Nv(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(fa(a,e??{}))return o;Ar(o,"already-initialized")}return t.initialize({options:e})}function OM(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ro);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function jM(n,e,t){const r=Eo(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=r1(e),{host:l,port:u}=MM(e),f=u===null?"":`:${u}`,m={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(fa(m,r.config.emulator)&&fa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ll(l)?(kT(`${a}//${l}${f}`),NT("Auth",!0)):LM()}function r1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MM(n){const e=r1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:sx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:sx(l)}}}function sx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return no("not implemented")}_getIdTokenResponse(e){return no("not implemented")}_linkToIdToken(e,t){return no("not implemented")}_getReauthenticationResolver(e){return no("not implemented")}}async function VM(n,e){return Ns(n,"POST","/v1/accounts:update",e)}async function FM(n,e){return Ns(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(n,e){return Tu(n,"POST","/v1/accounts:signInWithPassword",xo(n,e))}async function $M(n,e){return Ns(n,"POST","/v1/accounts:sendOobCode",xo(n,e))}async function zM(n,e){return $M(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(n,e){return Tu(n,"POST","/v1/accounts:signInWithEmailLink",xo(n,e))}async function HM(n,e){return Tu(n,"POST","/v1/accounts:signInWithEmailLink",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Vv{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new tu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new tu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qf(e,t,"signInWithPassword",UM);case"emailLink":return BM(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qf(e,r,"signUpPassword",FM);case"emailLink":return HM(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n,e){return Tu(n,"POST","/v1/accounts:signInWithIdp",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="http://localhost";class pa extends Vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=_u(t,["providerId","signInMethod"]);if(!r||!o)return null;const l=new pa(r,o);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return wl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,wl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wl(e,t)}buildRequest(){const e={requestUri:WM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GM(n){const e=Nc(Dc(n)).link,t=e?Nc(Dc(e)).deep_link_id:null,r=Nc(Dc(n)).deep_link_id;return(r?Nc(Dc(r)).link:null)||r||t||e||n}class Fv{constructor(e){var t,r,o,a,l,u;const f=Nc(Dc(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,g=qM((o=f.mode)!==null&&o!==void 0?o:null);Ve(m&&y&&g,"argument-error"),this.apiKey=m,this.operation=g,this.code=y,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=GM(e);try{return new Fv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,t){return tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Fv.parseLink(t);return Ve(r,"argument-error"),tu._fromEmailAndCode(e,r.code,r.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Uv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends bu{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return pa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xs.credential(t,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends bu{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends bu{constructor(){super("twitter.com")}static credential(e,t){return pa._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ti.credential(t,r)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(n,e){return Tu(n,"POST","/v1/accounts:signUp",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Qr._fromIdTokenResponse(e,r,o),l=ox(r);return new ma({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=ox(r);return new ma({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function ox(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends _o{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Gf(e,t,r,o)}}function s1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(n,a,e,r):a})}async function QM(n,e,t=!1){const r=await bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ma._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YM(n,e,t=!1){const{auth:r}=n;if(ur(r.app))return Promise.reject(io(r));const o="reauthenticate";try{const a=await bl(n,s1(r,o,e,n),t);Ve(a.idToken,r,"internal-error");const l=Mv(a.idToken);Ve(l,r,"internal-error");const{sub:u}=l;return Ve(n.uid===u,r,"user-mismatch"),ma._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ar(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(n,e,t=!1){if(ur(n.app))return Promise.reject(io(n));const r="signIn",o=await s1(n,r,e),a=await ma._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function XM(n,e){return o1(Eo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(n){const e=Eo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JM(n,e,t){const r=Eo(n);await qf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",zM)}async function ZM(n,e,t){if(ur(n.app))return Promise.reject(io(n));const r=Eo(n),l=await qf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&i1(n),f}),u=await ma._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function eL(n,e,t){return ur(n.app)?Promise.reject(io(n)):XM(Vt(n),Fl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&i1(n),r})}function tL(n,e){return nL(Vt(n),null,e)}async function nL(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(a.password=t);const l=await bl(n,VM(r,a));await n._updateTokensIfNecessary(l,!0)}function rL(n,e,t,r){return Vt(n).onIdTokenChanged(e,t,r)}function sL(n,e,t){return Vt(n).beforeAuthStateChanged(e,t)}function oL(n,e,t,r){return Vt(n).onAuthStateChanged(e,t,r)}function Dg(n){return Vt(n).signOut()}async function iL(n){return Vt(n).delete()}const Kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=1e3,lL=10;class l1 extends a1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);wM()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lL):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},aL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}l1.type="LOCAL";const cL=l1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends a1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}c1.type="SESSION";const u1=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Ph(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,l=this.handlersMap[o];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const u=Array.from(l).map(async m=>m(t.origin,a)),f=await uL(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const m=$v("",20);o.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:o,onMessage(g){const E=g;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(E.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function fL(n){Es().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function hL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pL(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mL(){return d1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebaseLocalStorageDb",gL=1,Qf="firebaseLocalStorage",h1="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kh(n,e){return n.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function vL(){const n=indexedDB.deleteDatabase(f1);return new Iu(n).toPromise()}function Og(){const n=indexedDB.open(f1,gL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qf,{keyPath:h1})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),await vL(),e(await Og()))})})}async function ix(n,e,t){const r=kh(n,!0).put({[h1]:e,value:t});return new Iu(r).toPromise()}async function yL(n,e){const t=kh(n,!1).get(e),r=await new Iu(t).toPromise();return r===void 0?null:r.value}function ax(n,e){const t=kh(n,!0).delete(e);return new Iu(t).toPromise()}const wL=800,_L=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Og(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>_L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(mL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await hL(),!this.activeServiceWorker)return;this.sender=new dL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Og();return await ix(e,Kf,"1"),await ax(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ix(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>yL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ax(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=kh(o,!1).getAll();return new Iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const xL=p1;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(n,e){return e?ro(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function EL(n){return o1(n.auth,new zv(n),n.bypassAuthState)}function SL(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),YM(t,new zv(n),n.bypassAuthState)}async function TL(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),QM(t,new zv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EL;case"linkViaPopup":case"linkViaRedirect":return TL;case"reauthViaPopup":case"reauthViaRedirect":return SL;default:Ar(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Su(2e3,1e4);async function IL(n,e,t){if(ur(n.app))return Promise.reject(Yr(n,"operation-not-supported-in-this-environment"));const r=Eo(n);Zj(n,e,Uv);const o=m1(r,t);return new Ji(r,"signInViaPopup",e,o).executeNotNull()}class Ji extends g1{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){uo(this.filter.length===1,"Popup operations only handle one event");const e=$v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bL.get())};e()}}Ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="pendingRedirect",xf=new Map;class RL extends g1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xf.get(this.auth._key());if(!e){try{const r=await AL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xf.set(this.auth._key(),e)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AL(n,e){const t=NL(e),r=kL(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function PL(n,e){xf.set(n._key(),e)}function kL(n){return ro(n._redirectPersistence)}function NL(n){return _f(CL,n.config.apiKey,n.name)}async function DL(n,e,t=!1){if(ur(n.app))return Promise.reject(io(n));const r=Eo(n),o=m1(r,e),l=await new RL(r,o,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=600*1e3;class jL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ML(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!v1(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OL&&this.cachedEventUids.clear(),this.cachedEventUids.has(lx(e))}saveEventToCache(e){this.cachedEventUids.add(lx(e)),this.lastProcessedEventTime=Date.now()}}function lx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function v1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ML(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(n,e={}){return Ns(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FL=/^https?/;async function UL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await LL(n);for(const t of e)try{if($L(t))return}catch{}Ar(n,"unauthorized-domain")}function $L(n){const e=kg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!FL.test(t))return!1;if(VL.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new Su(3e4,6e4);function cx(){const n=Es().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function BL(n){return new Promise((e,t)=>{var r,o,a;function l(){cx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cx(),t(Yr(n,"network-request-failed"))},timeout:zL.get()})}if(!((o=(r=Es().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Es().gapi)===null||a===void 0)&&a.load)l();else{const u=RM("iframefcb");return Es()[u]=()=>{gapi.load?l():t(Yr(n,"network-request-failed"))},t1(`${CM()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw Ef=null,e})}let Ef=null;function HL(n){return Ef=Ef||BL(n),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new Su(5e3,15e3),qL="__/auth/iframe",GL="emulator/auth/iframe",KL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YL(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jv(e,GL):`https://${n.config.authDomain}/${qL}`,r={apiKey:e.apiKey,appName:n.name,v:Vl},o=QL.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Eu(r).slice(1)}`}async function XL(n){const e=await HL(n),t=Es().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:YL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KL,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const l=Yr(n,"network-request-failed"),u=Es().setTimeout(()=>{a(l)},WL.get());function f(){Es().clearTimeout(u),o(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZL=500,e4=600,t4="_blank",n4="http://localhost";class ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r4(n,e,t,r=ZL,o=e4){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},JL),{width:r.toString(),height:o.toString(),top:a,left:l}),m=In().toLowerCase();t&&(u=KT(m)?t4:t),qT(m)&&(e=e||n4,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[T,A])=>`${E}${T}=${A},`,"");if(yM(m)&&u!=="_self")return s4(e||"",u),new ux(null);const g=window.open(e||"",u,y);Ve(g,n,"popup-blocked");try{g.focus()}catch{}return new ux(g)}function s4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="__/auth/handler",i4="emulator/auth/handler",a4=encodeURIComponent("fac");async function dx(n,e,t,r,o,a){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vl,eventId:o};if(e instanceof Uv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",LO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))l[y]=g}if(e instanceof bu){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const f=await n._getAppCheckToken(),m=f?`#${a4}=${encodeURIComponent(f)}`:"";return`${l4(n)}?${Eu(u).slice(1)}${m}`}function l4({config:n}){return n.emulator?jv(n,i4):`https://${n.authDomain}/${o4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class c4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u1,this._completeRedirectFn=DL,this._overrideRedirectResult=PL}async _openPopup(e,t,r,o){var a;uo((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await dx(e,t,r,kg(),o);return r4(e,l,$v())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await dx(e,t,r,kg(),o);return fL(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(uo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await XL(e),r=new jL(e);return t.register("authEvent",o=>(Ve(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cg,{type:cg},o=>{var a;const l=(a=o?.[0])===null||a===void 0?void 0:a[cg];l!==void 0&&t(!!l),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZT()||GT()||Lv()}}const u4=c4;var fx="@firebase/auth",hx="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h4(n){Tl(new ha("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e1(n)},m=new TM(r,o,a,f);return OM(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Tl(new ha("auth-internal",e=>{const t=Eo(e.getProvider("auth").getImmediate());return(r=>new d4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(fx,hx,f4(n)),ii(fx,hx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=300,m4=PT("authIdTokenMaxAge")||p4;let px=null;const g4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>m4)return;const o=t?.token;px!==o&&(px=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Nh(n=MT()){const e=Nv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DM(n,{popupRedirectResolver:u4,persistence:[xL,cL,u1]}),r=PT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=g4(a.toString());sL(t,l,()=>l(t.currentUser)),rL(t,u=>l(u))}}const o=RT("auth");return o&&jM(t,`http://${o}`),t}function v4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Yr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",v4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h4("Browser");var mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,y1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function j(){}j.prototype=C.prototype,D.D=C.prototype,D.prototype=new j,D.prototype.constructor=D,D.C=function(L,F,z){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return C.prototype[F].apply(L,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,j){j||(j=0);var L=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)L[F]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(F=0;16>F;++F)L[F]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=D.g[0],j=D.g[1],F=D.g[2];var z=D.g[3],P=C+(z^j&(F^z))+L[0]+3614090360&4294967295;C=j+(P<<7&4294967295|P>>>25),P=z+(F^C&(j^F))+L[1]+3905402710&4294967295,z=C+(P<<12&4294967295|P>>>20),P=F+(j^z&(C^j))+L[2]+606105819&4294967295,F=z+(P<<17&4294967295|P>>>15),P=j+(C^F&(z^C))+L[3]+3250441966&4294967295,j=F+(P<<22&4294967295|P>>>10),P=C+(z^j&(F^z))+L[4]+4118548399&4294967295,C=j+(P<<7&4294967295|P>>>25),P=z+(F^C&(j^F))+L[5]+1200080426&4294967295,z=C+(P<<12&4294967295|P>>>20),P=F+(j^z&(C^j))+L[6]+2821735955&4294967295,F=z+(P<<17&4294967295|P>>>15),P=j+(C^F&(z^C))+L[7]+4249261313&4294967295,j=F+(P<<22&4294967295|P>>>10),P=C+(z^j&(F^z))+L[8]+1770035416&4294967295,C=j+(P<<7&4294967295|P>>>25),P=z+(F^C&(j^F))+L[9]+2336552879&4294967295,z=C+(P<<12&4294967295|P>>>20),P=F+(j^z&(C^j))+L[10]+4294925233&4294967295,F=z+(P<<17&4294967295|P>>>15),P=j+(C^F&(z^C))+L[11]+2304563134&4294967295,j=F+(P<<22&4294967295|P>>>10),P=C+(z^j&(F^z))+L[12]+1804603682&4294967295,C=j+(P<<7&4294967295|P>>>25),P=z+(F^C&(j^F))+L[13]+4254626195&4294967295,z=C+(P<<12&4294967295|P>>>20),P=F+(j^z&(C^j))+L[14]+2792965006&4294967295,F=z+(P<<17&4294967295|P>>>15),P=j+(C^F&(z^C))+L[15]+1236535329&4294967295,j=F+(P<<22&4294967295|P>>>10),P=C+(F^z&(j^F))+L[1]+4129170786&4294967295,C=j+(P<<5&4294967295|P>>>27),P=z+(j^F&(C^j))+L[6]+3225465664&4294967295,z=C+(P<<9&4294967295|P>>>23),P=F+(C^j&(z^C))+L[11]+643717713&4294967295,F=z+(P<<14&4294967295|P>>>18),P=j+(z^C&(F^z))+L[0]+3921069994&4294967295,j=F+(P<<20&4294967295|P>>>12),P=C+(F^z&(j^F))+L[5]+3593408605&4294967295,C=j+(P<<5&4294967295|P>>>27),P=z+(j^F&(C^j))+L[10]+38016083&4294967295,z=C+(P<<9&4294967295|P>>>23),P=F+(C^j&(z^C))+L[15]+3634488961&4294967295,F=z+(P<<14&4294967295|P>>>18),P=j+(z^C&(F^z))+L[4]+3889429448&4294967295,j=F+(P<<20&4294967295|P>>>12),P=C+(F^z&(j^F))+L[9]+568446438&4294967295,C=j+(P<<5&4294967295|P>>>27),P=z+(j^F&(C^j))+L[14]+3275163606&4294967295,z=C+(P<<9&4294967295|P>>>23),P=F+(C^j&(z^C))+L[3]+4107603335&4294967295,F=z+(P<<14&4294967295|P>>>18),P=j+(z^C&(F^z))+L[8]+1163531501&4294967295,j=F+(P<<20&4294967295|P>>>12),P=C+(F^z&(j^F))+L[13]+2850285829&4294967295,C=j+(P<<5&4294967295|P>>>27),P=z+(j^F&(C^j))+L[2]+4243563512&4294967295,z=C+(P<<9&4294967295|P>>>23),P=F+(C^j&(z^C))+L[7]+1735328473&4294967295,F=z+(P<<14&4294967295|P>>>18),P=j+(z^C&(F^z))+L[12]+2368359562&4294967295,j=F+(P<<20&4294967295|P>>>12),P=C+(j^F^z)+L[5]+4294588738&4294967295,C=j+(P<<4&4294967295|P>>>28),P=z+(C^j^F)+L[8]+2272392833&4294967295,z=C+(P<<11&4294967295|P>>>21),P=F+(z^C^j)+L[11]+1839030562&4294967295,F=z+(P<<16&4294967295|P>>>16),P=j+(F^z^C)+L[14]+4259657740&4294967295,j=F+(P<<23&4294967295|P>>>9),P=C+(j^F^z)+L[1]+2763975236&4294967295,C=j+(P<<4&4294967295|P>>>28),P=z+(C^j^F)+L[4]+1272893353&4294967295,z=C+(P<<11&4294967295|P>>>21),P=F+(z^C^j)+L[7]+4139469664&4294967295,F=z+(P<<16&4294967295|P>>>16),P=j+(F^z^C)+L[10]+3200236656&4294967295,j=F+(P<<23&4294967295|P>>>9),P=C+(j^F^z)+L[13]+681279174&4294967295,C=j+(P<<4&4294967295|P>>>28),P=z+(C^j^F)+L[0]+3936430074&4294967295,z=C+(P<<11&4294967295|P>>>21),P=F+(z^C^j)+L[3]+3572445317&4294967295,F=z+(P<<16&4294967295|P>>>16),P=j+(F^z^C)+L[6]+76029189&4294967295,j=F+(P<<23&4294967295|P>>>9),P=C+(j^F^z)+L[9]+3654602809&4294967295,C=j+(P<<4&4294967295|P>>>28),P=z+(C^j^F)+L[12]+3873151461&4294967295,z=C+(P<<11&4294967295|P>>>21),P=F+(z^C^j)+L[15]+530742520&4294967295,F=z+(P<<16&4294967295|P>>>16),P=j+(F^z^C)+L[2]+3299628645&4294967295,j=F+(P<<23&4294967295|P>>>9),P=C+(F^(j|~z))+L[0]+4096336452&4294967295,C=j+(P<<6&4294967295|P>>>26),P=z+(j^(C|~F))+L[7]+1126891415&4294967295,z=C+(P<<10&4294967295|P>>>22),P=F+(C^(z|~j))+L[14]+2878612391&4294967295,F=z+(P<<15&4294967295|P>>>17),P=j+(z^(F|~C))+L[5]+4237533241&4294967295,j=F+(P<<21&4294967295|P>>>11),P=C+(F^(j|~z))+L[12]+1700485571&4294967295,C=j+(P<<6&4294967295|P>>>26),P=z+(j^(C|~F))+L[3]+2399980690&4294967295,z=C+(P<<10&4294967295|P>>>22),P=F+(C^(z|~j))+L[10]+4293915773&4294967295,F=z+(P<<15&4294967295|P>>>17),P=j+(z^(F|~C))+L[1]+2240044497&4294967295,j=F+(P<<21&4294967295|P>>>11),P=C+(F^(j|~z))+L[8]+1873313359&4294967295,C=j+(P<<6&4294967295|P>>>26),P=z+(j^(C|~F))+L[15]+4264355552&4294967295,z=C+(P<<10&4294967295|P>>>22),P=F+(C^(z|~j))+L[6]+2734768916&4294967295,F=z+(P<<15&4294967295|P>>>17),P=j+(z^(F|~C))+L[13]+1309151649&4294967295,j=F+(P<<21&4294967295|P>>>11),P=C+(F^(j|~z))+L[4]+4149444226&4294967295,C=j+(P<<6&4294967295|P>>>26),P=z+(j^(C|~F))+L[11]+3174756917&4294967295,z=C+(P<<10&4294967295|P>>>22),P=F+(C^(z|~j))+L[2]+718787259&4294967295,F=z+(P<<15&4294967295|P>>>17),P=j+(z^(F|~C))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(F+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var j=C-this.blockSize,L=this.B,F=this.h,z=0;z<C;){if(F==0)for(;z<=j;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<C;)if(L[F++]=D.charCodeAt(z++),F==this.blockSize){o(this,L),F=0;break}}else for(;z<C;)if(L[F++]=D[z++],F==this.blockSize){o(this,L),F=0;break}}this.h=F,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var j=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=j&255,j/=256;for(this.u(D),D=Array(16),C=j=0;4>C;++C)for(var L=0;32>L;L+=8)D[j++]=this.g[C]>>>L&255;return D};function a(D,C){var j=u;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=C(D)}function l(D,C){this.h=C;for(var j=[],L=!0,F=D.length-1;0<=F;F--){var z=D[F]|0;L&&z==C||(j[F]=z,L=!1)}this.g=j}var u={};function f(D){return-128<=D&&128>D?a(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return R(m(-D));for(var C=[],j=1,L=0;D>=j;L++)C[L]=D/j|0,j*=4294967296;return new l(C,0)}function y(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return R(y(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=m(Math.pow(C,8)),L=g,F=0;F<D.length;F+=8){var z=Math.min(8,D.length-F),P=parseInt(D.substring(F,F+z),C);8>z?(z=m(Math.pow(C,z)),L=L.j(z).add(m(P))):(L=L.j(j),L=L.add(m(P)))}return L}var g=f(0),E=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(b(this))return-R(this).m();for(var D=0,C=1,j=0;j<this.g.length;j++){var L=this.i(j);D+=(0<=L?L:4294967296+L)*C,C*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(b(this))return"-"+R(this).toString(D);for(var C=m(Math.pow(D,6)),j=this,L="";;){var F=H(j,C).g;j=O(j,F.j(C));var z=((0<j.g.length?j.g[0]:j.h)>>>0).toString(D);if(j=F,A(j))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function b(D){return D.h==-1}n.l=function(D){return D=O(this,D),b(D)?-1:A(D)?0:1};function R(D){for(var C=D.g.length,j=[],L=0;L<C;L++)j[L]=~D.g[L];return new l(j,~D.h).add(E)}n.abs=function(){return b(this)?R(this):this},n.add=function(D){for(var C=Math.max(this.g.length,D.g.length),j=[],L=0,F=0;F<=C;F++){var z=L+(this.i(F)&65535)+(D.i(F)&65535),P=(z>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);L=P>>>16,z&=65535,P&=65535,j[F]=P<<16|z}return new l(j,j[j.length-1]&-2147483648?-1:0)};function O(D,C){return D.add(R(C))}n.j=function(D){if(A(this)||A(D))return g;if(b(this))return b(D)?R(this).j(R(D)):R(R(this).j(D));if(b(D))return R(this.j(R(D)));if(0>this.l(T)&&0>D.l(T))return m(this.m()*D.m());for(var C=this.g.length+D.g.length,j=[],L=0;L<2*C;L++)j[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<D.g.length;F++){var z=this.i(L)>>>16,P=this.i(L)&65535,q=D.i(F)>>>16,le=D.i(F)&65535;j[2*L+2*F]+=P*le,M(j,2*L+2*F),j[2*L+2*F+1]+=z*le,M(j,2*L+2*F+1),j[2*L+2*F+1]+=P*q,M(j,2*L+2*F+1),j[2*L+2*F+2]+=z*q,M(j,2*L+2*F+2)}for(L=0;L<C;L++)j[L]=j[2*L+1]<<16|j[2*L];for(L=C;L<2*C;L++)j[L]=0;return new l(j,0)};function M(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function U(D,C){this.g=D,this.h=C}function H(D,C){if(A(C))throw Error("division by zero");if(A(D))return new U(g,g);if(b(D))return C=H(R(D),C),new U(R(C.g),R(C.h));if(b(C))return C=H(D,R(C)),new U(R(C.g),C.h);if(30<D.g.length){if(b(D)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var j=E,L=C;0>=L.l(D);)j=Q(j),L=Q(L);var F=te(j,1),z=te(L,1);for(L=te(L,2),j=te(j,2);!A(L);){var P=z.add(L);0>=P.l(D)&&(F=F.add(j),z=P),L=te(L,1),j=te(j,1)}return C=O(D,F.j(C)),new U(F,C)}for(F=g;0<=D.l(C);){for(j=Math.max(1,Math.floor(D.m()/C.m())),L=Math.ceil(Math.log(j)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=m(j),P=z.j(C);b(P)||0<P.l(D);)j-=L,z=m(j),P=z.j(C);A(z)&&(z=E),F=F.add(z),D=O(D,P)}return new U(F,D)}n.A=function(D){return H(this,D).h},n.and=function(D){for(var C=Math.max(this.g.length,D.g.length),j=[],L=0;L<C;L++)j[L]=this.i(L)&D.i(L);return new l(j,this.h&D.h)},n.or=function(D){for(var C=Math.max(this.g.length,D.g.length),j=[],L=0;L<C;L++)j[L]=this.i(L)|D.i(L);return new l(j,this.h|D.h)},n.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),j=[],L=0;L<C;L++)j[L]=this.i(L)^D.i(L);return new l(j,this.h^D.h)};function Q(D){for(var C=D.g.length+1,j=[],L=0;L<C;L++)j[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(j,D.h)}function te(D,C){var j=C>>5;C%=32;for(var L=D.g.length-j,F=[],z=0;z<L;z++)F[z]=0<C?D.i(z+j)>>>C|D.i(z+j+1)<<32-C:D.i(z+j);return new l(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,y1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,ai=l}).apply(typeof mx<"u"?mx:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w1,Oc,_1,Sf,jg,x1,E1,S1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,S){return d==Array.prototype||d==Object.prototype||(d[_]=S.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var _=0;_<d.length;++_){var S=d[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function o(d,_){if(_)e:{var S=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var Y=d[k];if(!(Y in S))break e;S=S[Y]}d=d[d.length-1],k=S[d],_=_(k),_!=k&&_!=null&&e(S,d,{configurable:!0,writable:!0,value:_})}}function a(d,_){d instanceof String&&(d+="");var S=0,k=!1,Y={next:function(){if(!k&&S<d.length){var se=S++;return{value:_(se,d[se]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(d){return d||function(){return a(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,S){return d.call.apply(d.bind,arguments)}function g(d,_,S){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),d.apply(_,Y)}}return function(){return d.apply(_,arguments)}}function E(d,_,S){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,E.apply(null,arguments)}function T(d,_){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function A(d,_){function S(){}S.prototype=_.prototype,d.aa=_.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(k,Y,se){for(var ve=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ve[dt-2]=arguments[dt];return _.prototype[Y].apply(k,ve)}}function b(d){const _=d.length;if(0<_){const S=Array(_);for(let k=0;k<_;k++)S[k]=d[k];return S}return[]}function R(d,_){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const Y=d.length||0,se=k.length||0;d.length=Y+se;for(let ve=0;ve<se;ve++)d[Y+ve]=k[ve]}else d.push(k)}}class O{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function H(d){return H[" "](d),d}H[" "]=function(){};var Q=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function te(d,_,S){for(const k in d)_.call(S,d[k],k,d)}function D(d,_){for(const S in d)_.call(void 0,d[S],S,d)}function C(d){const _={};for(const S in d)_[S]=d[S];return _}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,_){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)d[S]=k[S];for(let se=0;se<j.length;se++)S=j[se],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function F(d){var _=1;d=d.split(":");const S=[];for(;0<_&&d.length;)S.push(d.shift()),_--;return d.length&&S.push(d.join(":")),S}function z(d){u.setTimeout(()=>{throw d},0)}function P(){var d=G;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,S){const k=le.get();k.set(_,S),this.h?this.h.next=k:this.g=k,this.h=k}}var le=new O(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,N=!1,G=new q,oe=()=>{const d=u.Promise.resolve(void 0);J=()=>{d.then($)}};var $=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(S){z(S)}var _=le;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}N=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};u.addEventListener("test",S,_),u.removeEventListener("test",S,_)}catch{}return d})();function ye(d,_){if(re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Q){e:{try{H(_.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(_=null)}}else S=="mouseover"?_=d.fromElement:S=="mouseout"&&(_=d.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Se[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ye.aa.h.call(this)}}A(ye,re);var Se={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ge=0;function De(d,_,S,k,Y){this.listener=d,this.proxy=null,this.src=_,this.type=S,this.capture=!!k,this.ha=Y,this.key=++ge,this.da=this.fa=!1}function Oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function He(d){this.src=d,this.g={},this.h=0}He.prototype.add=function(d,_,S,k,Y){var se=d.toString();d=this.g[se],d||(d=this.g[se]=[],this.h++);var ve=It(d,_,k,Y);return-1<ve?(_=d[ve],S||(_.fa=!1)):(_=new De(_,this.src,se,!!k,Y),_.fa=S,d.push(_)),_};function qe(d,_){var S=_.type;if(S in d.g){var k=d.g[S],Y=Array.prototype.indexOf.call(k,_,void 0),se;(se=0<=Y)&&Array.prototype.splice.call(k,Y,1),se&&(Oe(_),d.g[S].length==0&&(delete d.g[S],d.h--))}}function It(d,_,S,k){for(var Y=0;Y<d.length;++Y){var se=d[Y];if(!se.da&&se.listener==_&&se.capture==!!S&&se.ha==k)return Y}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),hr={};function pr(d,_,S,k,Y){if(Array.isArray(_)){for(var se=0;se<_.length;se++)pr(d,_[se],S,k,Y);return null}return S=bi(S),d&&d[ie]?d.K(_,S,m(k)?!!k.capture:!1,Y):Cn(d,_,S,!1,k,Y)}function Cn(d,_,S,k,Y,se){if(!_)throw Error("Invalid event type");var ve=m(Y)?!!Y.capture:!!Y,dt=Zn(d);if(dt||(d[Ht]=dt=new He(d)),S=dt.add(_,S,k,ve,se),S.proxy)return S;if(k=Ti(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)fe||(Y=ve),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),k,Y);else if(d.attachEvent)d.attachEvent(kr(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ti(){function d(S){return _.call(d.src,d.listener,S)}const _=Wt;return d}function gn(d,_,S,k,Y){if(Array.isArray(_))for(var se=0;se<_.length;se++)gn(d,_[se],S,k,Y);else k=m(k)?!!k.capture:!!k,S=bi(S),d&&d[ie]?(d=d.i,_=String(_).toString(),_ in d.g&&(se=d.g[_],S=It(se,S,k,Y),-1<S&&(Oe(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete d.g[_],d.h--)))):d&&(d=Zn(d))&&(_=d.g[_.toString()],d=-1,_&&(d=It(_,S,k,Y)),(S=-1<d?_[d]:null)&&Pr(S))}function Pr(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ie])qe(_.i,d);else{var S=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(S,k,d.capture):_.detachEvent?_.detachEvent(kr(S),k):_.addListener&&_.removeListener&&_.removeListener(k),(S=Zn(_))?(qe(S,d),S.h==0&&(S.src=null,_[Ht]=null)):Oe(d)}}}function kr(d){return d in hr?hr[d]:hr[d]="on"+d}function Wt(d,_){if(d.da)d=!0;else{_=new ye(_,this);var S=d.listener,k=d.ha||d.src;d.fa&&Pr(d),d=S.call(k,_)}return d}function Zn(d){return d=d[Ht],d instanceof He?d:null}var bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(d){return typeof d=="function"?d:(d[bo]||(d[bo]=function(_){return d.handleEvent(_)}),d[bo])}function xt(){Z.call(this),this.i=new He(this),this.M=this,this.F=null}A(xt,Z),xt.prototype[ie]=!0,xt.prototype.removeEventListener=function(d,_,S,k){gn(this,d,_,S,k)};function jt(d,_){var S,k=d.F;if(k)for(S=[];k;k=k.F)S.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new re(_,d);else if(_ instanceof re)_.target=_.target||d;else{var Y=_;_=new re(k,d),L(_,Y)}if(Y=!0,S)for(var se=S.length-1;0<=se;se--){var ve=_.g=S[se];Y=mr(ve,k,!0,_)&&Y}if(ve=_.g=d,Y=mr(ve,k,!0,_)&&Y,Y=mr(ve,k,!1,_)&&Y,S)for(se=0;se<S.length;se++)ve=_.g=S[se],Y=mr(ve,k,!1,_)&&Y}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var S=d.g[_],k=0;k<S.length;k++)Oe(S[k]);delete d.g[_],d.h--}}this.F=null},xt.prototype.K=function(d,_,S,k){return this.i.add(String(d),_,!1,S,k)},xt.prototype.L=function(d,_,S,k){return this.i.add(String(d),_,!0,S,k)};function mr(d,_,S,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,se=0;se<_.length;++se){var ve=_[se];if(ve&&!ve.da&&ve.capture==S){var dt=ve.listener,Kt=ve.ha||ve.src;ve.fa&&qe(d.i,ve),Y=dt.call(Kt,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function Os(d,_,S){if(typeof d=="function")S&&(d=E(d,S));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(d,_||0)}function Rn(d){d.g=Os(()=>{d.g=null,d.i&&(d.i=!1,Rn(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class is extends Z{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(d){Z.call(this),this.h=d,this.g={}}A(jn,Z);var Ii=[];function Ci(d){te(d.g,function(_,S){this.g.hasOwnProperty(S)&&Pr(_)},d),d.g={}}jn.prototype.N=function(){jn.aa.N.call(this),Ci(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Io=u.JSON.stringify,Co=u.JSON.parse,Ri=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Nr(){}Nr.prototype.h=null;function An(d){return d.h||(d.h=d.i())}function Ro(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){re.call(this,"d")}A(er,re);function js(){re.call(this,"c")}A(js,re);var je={},Et=null;function St(){return Et=Et||new xt}je.La="serverreachability";function qt(d){re.call(this,je.La,d)}A(qt,re);function Ln(d){const _=St();jt(_,new qt(_))}je.STAT_EVENT="statevent";function Ct(d,_){re.call(this,je.STAT_EVENT,d),this.stat=_}A(Ct,re);function nt(d){const _=St();jt(_,new Ct(_,d))}je.Ma="timingevent";function Dr(d,_){re.call(this,je.Ma,d),this.size=_}A(Dr,re);function Rt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function Gt(){this.g=!0}Gt.prototype.xa=function(){this.g=!1};function as(d,_,S,k,Y,se){d.info(function(){if(d.g)if(se)for(var ve="",dt=se.split("&"),Kt=0;Kt<dt.length;Kt++){var rt=dt[Kt].split("=");if(1<rt.length){var nn=rt[0];rt=rt[1];var Ft=nn.split("_");ve=2<=Ft.length&&Ft[1]=="type"?ve+(nn+"="+rt+"&"):ve+(nn+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+_+`
`+S+`
`+ve})}function Vn(d,_,S,k,Y,se,ve){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+_+`
`+S+`
`+se+" "+ve})}function gr(d,_,S,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+fp(d,S)+(k?" "+k:"")})}function Kl(d,_){d.info(function(){return"TIMEOUT: "+_})}Gt.prototype.info=function(){};function fp(d,_){if(!d.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var k=S[d];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var se=Y[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return Io(S)}catch{return _}}var ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function Ai(){}A(Ai,Nr),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},Or=new Ai;function jr(d,_,S,k){this.j=d,this.i=_,this.l=S,this.R=k||1,this.U=new jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vu}function Vu(){this.i=null,this.g="",this.h=!1}var Ql={},Ia={};function Ca(d,_,S){d.L=1,d.v=Do(nr(_)),d.m=S,d.P=!0,Yl(d,null)}function Yl(d,_){d.F=Date.now(),mt(d),d.A=nr(d.v);var S=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),jo(S.i,"t",k),d.C=0,S=d.j.J,d.h=new Vu,d.g=nd(d.j,S?_:null,!d.m),0<d.O&&(d.M=new is(E(d.Y,d,d.g),d.O)),_=d.U,S=d.g,k=d.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ii[0]=Y.toString()),Y=Ii);for(var se=0;se<Y.length;se++){var ve=pr(S,Y[se],k||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ln(),as(d.i,d.u,d.A,d.l,d.R,d.m)}jr.prototype.ca=function(d){d=d.target;const _=this.M;_&&Un(d)==3?_.j():this.Y(d)},jr.prototype.Y=function(d){try{if(d==this.g)e:{const Ft=Un(this.g);var _=this.g.Ba();const wr=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Ft!=4||_==7||(_==8||0>=wr?Ln(3):Ln(2)),Pi(this);var S=this.g.Z();this.X=S;t:if(Fu(this)){var k=nc(this.g);d="";var Y=k.length,se=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),Ao(this);var ve="";break t}this.h.i=new u.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,d+=this.h.i.decode(k[_],{stream:!(se&&_==Y-1)});k.length=0,this.h.g+=d,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=S==200,Vn(this.i,this.u,this.A,this.l,this.R,Ft,S),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Kt=this.g;if((dt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(dt)){var rt=dt;break t}}rt=null}if(S=rt)gr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xl(this,S);else{this.o=!1,this.s=3,nt(12),vr(this),Ao(this);break e}}if(this.P){S=!0;let sr;for(;!this.J&&this.C<ve.length;)if(sr=hp(this,ve),sr==Ia){Ft==4&&(this.s=4,nt(14),S=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==Ql){this.s=4,nt(15),gr(this.i,this.l,ve,"[Invalid Chunk]"),S=!1;break}else gr(this.i,this.l,sr,null),Xl(this,sr);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ve.length!=0||this.h.h||(this.s=1,nt(16),S=!1),this.o=this.o&&S,!S)gr(this.i,this.l,ve,"[Invalid Chunked Response]"),vr(this),Ao(this);else if(0<ve.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),sc(nn),nn.M=!0,nt(11))}}else gr(this.i,this.l,ve,null),Xl(this,ve);Ft==4&&vr(this),this.o&&!this.J&&(Ft==4?Va(this.j,this):(this.o=!1,mt(this)))}else Da(this.g),S==400&&0<ve.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),vr(this),Ao(this)}}}catch{}finally{}};function Fu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function hp(d,_){var S=d.C,k=_.indexOf(`
`,S);return k==-1?Ia:(S=Number(_.substring(S,k)),isNaN(S)?Ql:(k+=1,k+S>_.length?Ia:(_=_.slice(k,k+S),d.C=k+S,_)))}jr.prototype.cancel=function(){this.J=!0,vr(this)};function mt(d){d.S=Date.now()+d.I,Uu(d,d.I)}function Uu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Rt(E(d.ba,d),_)}function Pi(d){d.B&&(u.clearTimeout(d.B),d.B=null)}jr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Kl(this.i,this.A),this.L!=2&&(Ln(),nt(17)),vr(this),this.s=2,Ao(this)):Uu(this,this.S-d)};function Ao(d){d.j.G==0||d.J||Va(d.j,d)}function vr(d){Pi(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Ci(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Xl(d,_){try{var S=d.j;if(S.G!=0&&(S.g==d||Pn(S.h,d))){if(!d.K&&Pn(S.h,d)&&S.G==3){try{var k=S.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)La(S),Ur(S);else break e;Ma(S),nt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=Rt(E(S.Za,S),6e3));if(1>=zu(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Us(S,11)}else if((d.K||S.g==d)&&La(S),!M(_))for(Y=S.Da.g.parse(_),_=0;_<Y.length;_++){let rt=Y[_];if(S.T=rt[0],rt=rt[1],S.G==2)if(rt[0]=="c"){S.K=rt[1],S.ia=rt[2];const nn=rt[3];nn!=null&&(S.la=nn,S.j.info("VER="+S.la));const Ft=rt[4];Ft!=null&&(S.Aa=Ft,S.j.info("SVER="+S.Aa));const wr=rt[5];wr!=null&&typeof wr=="number"&&0<wr&&(k=1.5*wr,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const sr=d.g;if(sr){const Li=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var se=k.h;se.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Jl(se,se.h),se.h=null))}if(k.D){const Ua=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(k.ya=Ua,pt(k.I,k.D,Ua))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var ve=d;if(k.qa=td(k,k.J?k.ia:null,k.W),ve.K){Bu(k.h,ve);var dt=ve,Kt=k.L;Kt&&(dt.I=Kt),dt.B&&(Pi(dt),mt(dt)),k.g=ve}else Mi(k);0<S.i.length&&ds(S)}else rt[0]!="stop"&&rt[0]!="close"||Us(S,7);else S.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Us(S,7):un(S):rt[0]!="noop"&&S.l&&S.l.ta(rt),S.v=0)}}Ln(4)}catch{}}var $u=class{constructor(d,_){this.g=d,this.map=_}};function ki(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function zu(d){return d.h?1:d.g?d.g.size:0}function Pn(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Jl(d,_){d.g?d.g.add(_):d.h=_}function Bu(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ki.prototype.cancel=function(){if(this.i=Hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Hu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const S of d.g.values())_=_.concat(S.D);return _}return b(d.i)}function Ra(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],S=d.length,k=0;k<S;k++)_.push(d[k]);return _}_=[],S=0;for(k in d)_[S++]=d[k];return _}function Aa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var S=0;S<d;S++)_.push(S);return _}_=[],S=0;for(const k in d)_[S++]=k;return _}}}function Po(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var S=Aa(d),k=Ra(d),Y=k.length,se=0;se<Y;se++)_.call(void 0,k[se],S&&S[se],d)}var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pp(d,_){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var k=d[S].indexOf("="),Y=null;if(0<=k){var se=d[S].substring(0,k);Y=d[S].substring(k+1)}else se=d[S];_(se,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ms(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ms){this.h=d.h,Di(this,d.j),this.o=d.o,this.g=d.g,ko(this,d.s),this.l=d.l;var _=d.i,S=new ls;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),No(this,S),this.m=d.m}else d&&(_=String(d).match(Ni))?(this.h=!1,Di(this,_[1]||"",!0),this.o=et(_[2]||""),this.g=et(_[3]||"",!0),ko(this,_[4]),this.l=et(_[5]||"",!0),No(this,_[6]||"",!0),this.m=et(_[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}Ms.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Oo(_,Pa,!0),":");var S=this.g;return(S||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Oo(_,Pa,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Oo(S,S.charAt(0)=="/"?Gu:qu,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Oo(S,Zl)),d.join("")};function nr(d){return new Ms(d)}function Di(d,_,S){d.j=S?et(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ko(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function No(d,_,S){_ instanceof ls?(d.i=_,cs(d.i,d.h)):(S||(_=Oo(_,Ku)),d.i=new ls(_,d.h))}function pt(d,_,S){d.i.set(_,S)}function Do(d){return pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function et(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Oo(d,_,S){return typeof d=="string"?(d=encodeURI(d).replace(_,Wu),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Wu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Pa=/[#\/\?@]/g,qu=/[#\?:]/g,Gu=/[#\?]/g,Ku=/[#\?@]/g,Zl=/#/g;function ls(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function cn(d){d.g||(d.g=new Map,d.h=0,d.i&&pp(d.i,function(_,S){d.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=ls.prototype,n.add=function(d,_){cn(this),this.i=null,d=yr(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(_),this.h+=1,this};function Mr(d,_){cn(d),_=yr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Lr(d,_){return cn(d),_=yr(d,_),d.g.has(_)}n.forEach=function(d,_){cn(this),this.g.forEach(function(S,k){S.forEach(function(Y){d.call(_,Y,k,this)},this)},this)},n.na=function(){cn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let k=0;k<_.length;k++){const Y=d[k];for(let se=0;se<Y.length;se++)S.push(_[k])}return S},n.V=function(d){cn(this);let _=[];if(typeof d=="string")Lr(this,d)&&(_=_.concat(this.g.get(yr(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)_=_.concat(d[S])}return _},n.set=function(d,_){return cn(this),this.i=null,d=yr(this,d),Lr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function jo(d,_,S){Mr(d,_),0<S.length&&(d.i=null,d.g.set(yr(d,_),b(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var k=_[S];const se=encodeURIComponent(String(k)),ve=this.V(k);for(k=0;k<ve.length;k++){var Y=se;ve[k]!==""&&(Y+="="+encodeURIComponent(String(ve[k]))),d.push(Y)}}return this.i=d.join("&")};function yr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function cs(d,_){_&&!d.j&&(cn(d),d.i=null,d.g.forEach(function(S,k){var Y=k.toLowerCase();k!=Y&&(Mr(this,k),jo(this,Y,S))},d)),d.j=_}function mp(d,_){const S=new Gt;if(u.Image){const k=new Image;k.onload=T(Fn,S,"TestLoadImage: loaded",!0,_,k),k.onerror=T(Fn,S,"TestLoadImage: error",!1,_,k),k.onabort=T(Fn,S,"TestLoadImage: abort",!1,_,k),k.ontimeout=T(Fn,S,"TestLoadImage: timeout",!1,_,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function Qu(d,_){const S=new Gt,k=new AbortController,Y=setTimeout(()=>{k.abort(),Fn(S,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(se=>{clearTimeout(Y),se.ok?Fn(S,"TestPingServer: ok",!0,_):Fn(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Fn(S,"TestPingServer: error",!1,_)})}function Fn(d,_,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function gp(){this.g=new Ri}function Yu(d,_,S){const k=S||"";try{Po(d,function(Y,se){let ve=Y;m(Y)&&(ve=Io(Y)),_.push(k+se+"="+encodeURIComponent(ve))})}catch(Y){throw _.push(k+"type="+encodeURIComponent("_badmap")),Y}}function Ls(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Ls,Nr),Ls.prototype.g=function(){return new Oi(this.l,this.j)},Ls.prototype.i=(function(d){return function(){return d}})({});function Oi(d,_){xt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Oi,xt),n=Oi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Fr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Vr(this):Fr(this),this.readyState==3&&Xu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Vr(this))},n.Qa=function(d){this.g&&(this.response=d,Vr(this))},n.ga=function(){this.g&&Vr(this)};function Vr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Fr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=_.next();return d.join(`\r
`)};function Fr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Vs(d){let _="";return te(d,function(S,k){_+=k,_+=":",_+=S,_+=`\r
`}),_}function Mo(d,_,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=Vs(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):pt(d,_,S))}function Tt(d){xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Tt,xt);var vp=/^https?$/i,ec=["POST","PUT"];n=Tt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?An(this.o):An(Or),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(se){ji(this,se);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const se of k.keys())S.set(se,k.get(se));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),Y=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ec,_,void 0))||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of S)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Na(this),this.u=!0,this.g.send(d),this.u=!1}catch(se){ji(this,se)}};function ji(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,ka(d),rr(d)}function ka(d){d.A||(d.A=!0,jt(d,"complete"),jt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,jt(this,"complete"),jt(this,"abort"),rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),Tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tc(this):this.bb())},n.bb=function(){tc(this)};function tc(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Un(d)!=4||d.Z()!=2)){if(d.u&&Un(d)==4)Os(d.Ea,0,d);else if(jt(d,"readystatechange"),Un(d)==4){d.h=!1;try{const ve=d.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var k;if(k=ve===0){var Y=String(d.D).match(Ni)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),k=!vp.test(Y?Y.toLowerCase():"")}S=k}if(S)jt(d,"complete"),jt(d,"success");else{d.m=6;try{var se=2<Un(d)?d.g.statusText:""}catch{se=""}d.l=se+" ["+d.Z()+"]",ka(d)}}finally{rr(d)}}}}function rr(d,_){if(d.g){Na(d);const S=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||jt(d,"ready");try{S.onreadystatechange=k}catch{}}}function Na(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Un(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Co(_)}};function nc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Da(d){const _={};d=(d.g&&2<=Un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(M(d[k]))continue;var S=F(d[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=_[Y]||[];_[Y]=se,se.push(S)}D(_,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(d,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||_}function rc(d){this.Aa=0,this.i=[],this.j=new Gt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,d),this.cb=us("retryDelaySeedMs",1e4,d),this.Wa=us("forwardChannelMaxRetries",2,d),this.wa=us("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(d&&d.concurrentRequestLimit),this.Da=new gp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rc.prototype,n.la=8,n.G=1,n.connect=function(d,_,S,k){nt(0),this.W=d,this.H=_||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=td(this,null,this.W),ds(this)};function un(d){if(Oa(d),d.G==3){var _=d.U++,S=nr(d.I);if(pt(S,"SID",d.K),pt(S,"RID",_),pt(S,"TYPE","terminate"),Fs(d,S),_=new jr(d,d.j,_),_.L=2,_.v=Do(nr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=_.v,S=!0),S||(_.g=nd(_.j,null),_.g.ea(_.v)),_.F=Date.now(),mt(_)}ed(d)}function Ur(d){d.g&&(sc(d),d.g.cancel(),d.g=null)}function Oa(d){Ur(d),d.u&&(u.clearTimeout(d.u),d.u=null),La(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function ds(d){if(!tr(d.h)&&!d.s){d.s=!0;var _=d.Ga;J||oe(),N||(J(),N=!0),G.add(_,d),d.B=0}}function yp(d,_){return zu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Rt(E(d.Ga,d,_),Zu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Y=new jr(this,this.j,d);let se=this.o;if(this.S&&(se?(se=C(se),L(se,this.S)):se=this.S),this.m!==null||this.O||(Y.H=se,se=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Lo(this,Y,_),S=nr(this.I),pt(S,"RID",d),pt(S,"CVER",22),this.D&&pt(S,"X-HTTP-Session-Id",this.D),Fs(this,S),se&&(this.O?_="headers="+encodeURIComponent(String(Vs(se)))+"&"+_:this.m&&Mo(S,this.m,se)),Jl(this.h,Y),this.Ua&&pt(S,"TYPE","init"),this.P?(pt(S,"$req",_),pt(S,"SID","null"),Y.T=!0,Ca(Y,S,null)):Ca(Y,S,_),this.G=2}}else this.G==3&&(d?ja(this,d):this.i.length==0||tr(this.h)||ja(this))};function ja(d,_){var S;_?S=_.l:S=d.U++;const k=nr(d.I);pt(k,"SID",d.K),pt(k,"RID",S),pt(k,"AID",d.T),Fs(d,k),d.m&&d.o&&Mo(k,d.m,d.o),S=new jr(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Lo(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Jl(d.h,S),Ca(S,k,_)}function Fs(d,_){d.H&&te(d.H,function(S,k){pt(_,k,S)}),d.l&&Po({},function(S,k){pt(_,k,S)})}function Lo(d,_,S){S=Math.min(d.i.length,S);var k=d.l?E(d.l.Na,d.l,d):null;e:{var Y=d.i;let se=-1;for(;;){const ve=["count="+S];se==-1?0<S?(se=Y[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let dt=!0;for(let Kt=0;Kt<S;Kt++){let rt=Y[Kt].g;const nn=Y[Kt].map;if(rt-=se,0>rt)se=Math.max(0,Y[Kt].g-100),dt=!1;else try{Yu(nn,ve,"req"+rt+"_")}catch{k&&k(nn)}}if(dt){k=ve.join("&");break e}}}return d=d.i.splice(0,S),_.D=d,k}function Mi(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;J||oe(),N||(J(),N=!0),G.add(_,d),d.v=0}}function Ma(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Rt(E(d.Fa,d),Zu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Rt(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Ur(this),Ju(this))};function sc(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Ju(d){d.g=new jr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=nr(d.qa);pt(_,"RID","rpc"),pt(_,"SID",d.K),pt(_,"AID",d.T),pt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&pt(_,"TO",d.ja),pt(_,"TYPE","xmlhttp"),Fs(d,_),d.m&&d.o&&Mo(_,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=Do(nr(_)),S.m=null,S.P=!0,Yl(S,d)}n.Za=function(){this.C!=null&&(this.C=null,Ur(this),Ma(this),nt(19))};function La(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Va(d,_){var S=null;if(d.g==_){La(d),sc(d),d.g=null;var k=2}else if(Pn(d.h,_))S=_.D,Bu(d.h,_),k=1;else return;if(d.G!=0){if(_.o)if(k==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var Y=d.B;k=St(),jt(k,new Dr(k,S)),ds(d)}else Mi(d);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(k==1&&yp(d,_)||k==2&&Ma(d)))switch(S&&0<S.length&&(_=d.h,_.i=_.i.concat(S)),Y){case 1:Us(d,5);break;case 4:Us(d,10);break;case 3:Us(d,6);break;default:Us(d,2)}}}function Zu(d,_){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*_}function Us(d,_){if(d.j.info("Error code "+_),_==2){var S=E(d.fb,d),k=d.Xa;const Y=!k;k=new Ms(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Di(k,"https"),Do(k),Y?mp(k.toString(),S):Qu(k.toString(),S)}else nt(2);d.G=0,d.l&&d.l.sa(_),ed(d),Oa(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function ed(d){if(d.G=0,d.ka=[],d.l){const _=Hu(d.h);(_.length!=0||d.i.length!=0)&&(R(d.ka,_),R(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function td(d,_,S){var k=S instanceof Ms?nr(S):new Ms(S);if(k.g!="")_&&(k.g=_+"."+k.g),ko(k,k.s);else{var Y=u.location;k=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var se=new Ms(null);k&&Di(se,k),_&&(se.g=_),Y&&ko(se,Y),S&&(se.l=S),k=se}return S=d.D,_=d.ya,S&&_&&pt(k,S,_),pt(k,"VER",d.la),Fs(d,k),k}function nd(d,_,S){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Tt(new Ls({eb:S})):new Tt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}n=oc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fa(){}Fa.prototype.g=function(d,_){return new kn(d,_)};function kn(d,_){xt.call(this),this.g=new rc(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!M(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new fs(this)}A(kn,xt),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){un(this.g)},kn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=Io(d),d=S);_.i.push(new $u(_.Ya++,d)),_.G==3&&ds(_)},kn.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,kn.aa.N.call(this)};function rd(d){er.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const S in _){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(rd,er);function sd(){js.call(this),this.status=1}A(sd,js);function fs(d){this.g=d}A(fs,oc),fs.prototype.ua=function(){jt(this.g,"a")},fs.prototype.ta=function(d){jt(this.g,new rd(d))},fs.prototype.sa=function(d){jt(this.g,new sd)},fs.prototype.ra=function(){jt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,S1=function(){return new Fa},E1=function(){return St()},x1=je,jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,Sf=ba,Lu.COMPLETE="complete",_1=Lu,Ro.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Oc=Ro,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,w1=Tt}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const gx="@firebase/firestore",vx="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Pv("@firebase/firestore");function dl(){return ga.logLevel}function xe(n,...e){if(ga.logLevel<=Xe.DEBUG){const t=e.map(Bv);ga.debug(`Firestore (${Ul}): ${n}`,...t)}}function fo(n,...e){if(ga.logLevel<=Xe.ERROR){const t=e.map(Bv);ga.error(`Firestore (${Ul}): ${n}`,...t)}}function ui(n,...e){if(ga.logLevel<=Xe.WARN){const t=e.map(Bv);ga.warn(`Firestore (${Ul}): ${n}`,...t)}}function Bv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,T1(n,r,t)}function T1(n,e,t){let r=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw fo(r),new Error(r)}function ut(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||T1(e,o,r)}function Be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends _o{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class w4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _4{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ut(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ao,e.enqueueRetryable((()=>o(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},u=f=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ao)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new b1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class x4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new x4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ut(this.o===void 0,3512);const r=a=>{a.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=T4(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function Mg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ke(r,o);{const a=I1(),l=b4(a.encode(wx(n,t)),a.encode(wx(e,t)));return l!==0?l:Ke(r,o)}}t+=r>65535?2:1}return Ke(n.length,e.length)}function wx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function b4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ke(n[t],e[t]);return Ke(n.length,e.length)}function Il(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="__name__";class ys{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=ys.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ke(e.length,t.length)}static compareSegments(e,t){const r=ys.isNumericId(e),o=ys.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?ys.extractNumericId(e).compare(ys.extractNumericId(t)):Mg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ai.fromString(e.substring(4,e.length-2))}}class vt extends ys{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new vt(t)}static emptyPath(){return new vt([])}}const I4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends ys{construct(e,t,r){return new pn(e,t,r)}static isValidIdentifier(e){return I4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_x}static keyField(){return new pn([_x])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const u=e[o];if(u==="\\"){if(o+1===e.length)throw new we(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else u==="`"?(l=!l,o++):u!=="."||l?(r+=u,o++):(a(),o++)}if(a(),l)throw new we(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(t)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(vt.fromString(e))}static fromName(e){return new Ne(vt.fromString(e).popFirst(5))}static empty(){return new Ne(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(n,e,t){if(!t)throw new we(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C4(n,e,t,r){if(e===!0&&r===!0)throw new we(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xx(n){if(!Ne.isDocumentKey(n))throw new we(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ex(n){if(Ne.isDocumentKey(n))throw new we(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function R1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Dh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function Jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dh(n);throw new we(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cu(n,e){if(!R1(n))throw new we(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(o&&typeof l!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new we(ae.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=-62135596800,Tx=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Tx);return new _t(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sx)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tx}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Bt("string",_t._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new _t(0,0))}static max(){return new ze(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function R4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new di(o,Ne.empty(),e)}function A4(n){return new di(n.readTime,n.key,nu)}class di{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new di(ze.min(),Ne.empty(),nu)}static max(){return new di(ze.max(),Ne.empty(),nu)}}function P4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==k4)throw n;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,r)=>{t(e)}))}static reject(e){return new ce(((t,r)=>{r(e)}))}static waitFor(e){return new ce(((t,r)=>{let o=0,a=0,l=!1;e.forEach((u=>{++o,u.next((()=>{++a,l&&a===o&&t()}),(f=>r(f)))})),l=!0,a===o&&t()}))}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next((o=>o?ce.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new ce(((r,o)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((y=>{l[m]=y,++u,u===a&&r(l)}),(y=>o(y)))}}))}static doWhile(e,t){return new ce(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function D4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Oh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=-1;function jh(n){return n==null}function Yf(n){return n===0&&1/n==-1/0}function O4(n){return typeof n=="number"&&Number.isInteger(n)&&!Yf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="";function j4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bx(e)),e=M4(n.get(t),e);return bx(e)}function M4(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case A1:t+="";break;default:t+=a}}return t}function bx(n){return n+A1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _i(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function P1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??hn.RED,this.left=o??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new hn(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cx(this.data.getIterator())}getIteratorFrom(e){return new Cx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class Cx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new dr([])}unionWith(e){let t=new en(pn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new k1("Invalid base64 string: "+a):a}})(e);return new mn(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let l=0;l<o.length;++l)a+=String.fromCharCode(o[l]);return a})(e);return new mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const L4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(n){if(ut(!!n,39018),typeof n=="string"){let e=0;const t=L4.exec(n);if(ut(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hi(n){return typeof n=="string"?mn.fromBase64String(n):mn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="server_timestamp",D1="__type__",O1="__previous_value__",j1="__local_write_time__";function qv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||t===void 0?void 0:t.stringValue)===N1}function Mh(n){const e=n.mapValue.fields[O1];return qv(e)?Mh(e):e}function ru(n){const e=fi(n.mapValue.fields[j1].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t,r,o,a,l,u,f,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const Xf="(default)";class su{constructor(e,t){this.projectId=e,this.database=t||Xf}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__type__",F4="__max__",df={mapValue:{}},L1="__vector__",Jf="value";function pi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qv(n)?4:$4(n)?9007199254740991:U4(n)?10:11:Fe(28295,{value:n})}function As(n,e){if(n===e)return!0;const t=pi(n);if(t!==pi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ru(n).isEqual(ru(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const l=fi(o.timestampValue),u=fi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return hi(o.bytesValue).isEqual(hi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return Lt(o.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Lt(o.integerValue)===Lt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const l=Lt(o.doubleValue),u=Lt(a.doubleValue);return l===u?Yf(l)===Yf(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Il(n.arrayValue.values||[],e.arrayValue.values||[],As);case 10:case 11:return(function(o,a){const l=o.mapValue.fields||{},u=a.mapValue.fields||{};if(Ix(l)!==Ix(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!As(l[f],u[f])))return!1;return!0})(n,e);default:return Fe(52216,{left:n})}}function ou(n,e){return(n.values||[]).find((t=>As(t,e)))!==void 0}function Cl(n,e){if(n===e)return 0;const t=pi(n),r=pi(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Lt(a.integerValue||a.doubleValue),f=Lt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return Rx(n.timestampValue,e.timestampValue);case 4:return Rx(ru(n),ru(e));case 5:return Mg(n.stringValue,e.stringValue);case 6:return(function(a,l){const u=hi(a),f=hi(l);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const y=Ke(u[m],f[m]);if(y!==0)return y}return Ke(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Ke(Lt(a.latitude),Lt(l.latitude));return u!==0?u:Ke(Lt(a.longitude),Lt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Ax(n.arrayValue,e.arrayValue);case 10:return(function(a,l){var u,f,m,y;const g=a.fields||{},E=l.fields||{},T=(u=g[Jf])===null||u===void 0?void 0:u.arrayValue,A=(f=E[Jf])===null||f===void 0?void 0:f.arrayValue,b=Ke(((m=T?.values)===null||m===void 0?void 0:m.length)||0,((y=A?.values)===null||y===void 0?void 0:y.length)||0);return b!==0?b:Ax(T,A)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===df.mapValue&&l===df.mapValue)return 0;if(a===df.mapValue)return 1;if(l===df.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),m=l.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let g=0;g<f.length&&g<y.length;++g){const E=Mg(f[g],y[g]);if(E!==0)return E;const T=Cl(u[f[g]],m[y[g]]);if(T!==0)return T}return Ke(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Fe(23264,{le:t})}}function Rx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=fi(n),r=fi(e),o=Ke(t.seconds,r.seconds);return o!==0?o:Ke(t.nanos,r.nanos)}function Ax(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Cl(t[o],r[o]);if(a)return a}return Ke(t.length,r.length)}function Rl(n){return Lg(n)}function Lg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=fi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return hi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ne.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Lg(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const l of r)a?a=!1:o+=",",o+=`${l}:${Lg(t.fields[l])}`;return o+"}"})(n.mapValue):Fe(61005,{value:n})}function Tf(n){switch(pi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(n);return e?16+Tf(e):16;case 5:return 2*n.stringValue.length;case 6:return hi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Tf(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return _i(r.fields,((a,l)=>{o+=a.length+Tf(l)})),o})(n.mapValue);default:throw Fe(13486,{value:n})}}function Px(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vg(n){return!!n&&"integerValue"in n}function Gv(n){return!!n&&"arrayValue"in n}function kx(n){return!!n&&"nullValue"in n}function Nx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bf(n){return!!n&&"mapValue"in n}function U4(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[M1])===null||t===void 0?void 0:t.stringValue)===L1}function Hc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _i(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Hc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===F4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(t)}setAll(e){let t=pn.emptyPath(),r={},o=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=u.popLast()}l?r[u.lastSegment()]=Hc(l):o.push(u.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];bf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){_i(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Yn(Hc(this.value))}}function V1(n){const e=[];return _i(n.fields,((t,r)=>{const o=new pn([t]);if(bf(r)){const a=V1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const l of a)e.push(o.child(l))}else e.push(o)})),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t,r,o,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Tn(e,0,ze.min(),ze.min(),ze.min(),Yn.empty(),0)}static newFoundDocument(e,t,r,o){return new Tn(e,1,t,ze.min(),r,o,0)}static newNoDocument(e,t){return new Tn(e,2,t,ze.min(),ze.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,ze.min(),ze.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t){this.position=e,this.inclusive=t}}function Dx(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],l=n.position[o];if(a.field.isKeyField()?r=Ne.comparator(Ne.fromName(l.referenceValue),t.key):r=Cl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ox(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!As(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function z4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{}class zt extends F1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new H4(e,t,r):t==="array-contains"?new G4(e,r):t==="in"?new K4(e,r):t==="not-in"?new Q4(e,r):t==="array-contains-any"?new Y4(e,r):new zt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new W4(e,r):new q4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cl(t,this.value)):t!==null&&pi(this.value)===pi(t)&&this.matchesComparison(Cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends F1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ts(e,t)}matches(e){return U1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function U1(n){return n.op==="and"}function $1(n){return B4(n)&&U1(n)}function B4(n){for(const e of n.filters)if(e instanceof ts)return!1;return!0}function Fg(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Rl(n.value);if($1(n))return n.filters.map((e=>Fg(e))).join(",");{const e=n.filters.map((t=>Fg(t))).join(",");return`${n.op}(${e})`}}function z1(n,e){return n instanceof zt?(function(r,o){return o instanceof zt&&r.op===o.op&&r.field.isEqual(o.field)&&As(r.value,o.value)})(n,e):n instanceof ts?(function(r,o){return o instanceof ts&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,l,u)=>a&&z1(l,o.filters[u])),!0):!1})(n,e):void Fe(19439)}function B1(n){return n instanceof zt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Rl(t.value)}`})(n):n instanceof ts?(function(t){return t.op.toString()+" {"+t.getFilters().map(B1).join(" ,")+"}"})(n):"Filter"}class H4 extends zt{constructor(e,t,r){super(e,t,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class W4 extends zt{constructor(e,t){super(e,"in",t),this.keys=H1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class q4 extends zt{constructor(e,t){super(e,"not-in",t),this.keys=H1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function H1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Ne.fromName(r.referenceValue)))}class G4 extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gv(t)&&ou(t.arrayValue,this.value)}}class K4 extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ou(this.value.arrayValue,t)}}class Q4 extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ou(this.value.arrayValue,t)}}class Y4 extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ou(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,t=null,r=[],o=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=l,this.endAt=u,this.Pe=null}}function jx(n,e=null,t=[],r=[],o=null,a=null,l=null){return new X4(n,e,t,r,o,a,l)}function Kv(n){const e=Be(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Fg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Rl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Rl(r))).join(",")),e.Pe=t}return e.Pe}function Qv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!z4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!z1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ox(n.startAt,e.startAt)&&Ox(n.endAt,e.endAt)}function Ug(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t=null,r=[],o=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function J4(n,e,t,r,o,a,l,u){return new Bl(n,e,t,r,o,a,l,u)}function Lh(n){return new Bl(n)}function Mx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function W1(n){return n.collectionGroup!==null}function Wc(n){const e=Be(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new en(pn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new iu(a,r))})),t.has(pn.keyField().canonicalString())||e.Te.push(new iu(pn.keyField(),r))}return e.Te}function Ss(n){const e=Be(n);return e.Ie||(e.Ie=Z4(e,Wc(n))),e.Ie}function Z4(n,e){if(n.limitType==="F")return jx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new iu(o.field,a)}));const t=n.endAt?new Zf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zf(n.startAt.position,n.startAt.inclusive):null;return jx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $g(n,e){const t=n.filters.concat([e]);return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function eh(n,e,t){return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vh(n,e){return Qv(Ss(n),Ss(e))&&n.limitType===e.limitType}function q1(n){return`${Kv(Ss(n))}|lt:${n.limitType}`}function fl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>B1(o))).join(", ")}]`),jh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Rl(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Rl(o))).join(",")),`Target(${r})`})(Ss(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Wc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(l,u,f){const m=Dx(l,u,f);return l.inclusive?m<=0:m<0})(r.startAt,Wc(r),o)||r.endAt&&!(function(l,u,f){const m=Dx(l,u,f);return l.inclusive?m>=0:m>0})(r.endAt,Wc(r),o))})(n,e)}function eV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G1(n){return(e,t)=>{let r=!1;for(const o of Wc(n)){const a=tV(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function tV(n,e,t){const r=n.field.isKeyField()?Ne.comparator(e.key,t.key):(function(a,l,u){const f=l.data.field(a),m=u.data.field(a);return f!==null&&m!==null?Cl(f,m):Fe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new Nt(Ne.comparator);function ho(){return nV}const K1=new Nt(Ne.comparator);function jc(...n){let e=K1;for(const t of n)e=e.insert(t.key,t);return e}function Q1(n){let e=K1;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Zi(){return qc()}function Y1(){return qc()}function qc(){return new xa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const rV=new Nt(Ne.comparator),sV=new en(Ne.comparator);function Ze(...n){let e=sV;for(const t of n)e=e.add(t);return e}const oV=new en(Ke);function iV(){return oV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function X1(n){return{integerValue:""+n}}function J1(n,e){return O4(e)?X1(e):Yv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function aV(n,e,t){return n instanceof au?(function(o,a){const l={fields:{[D1]:{stringValue:N1},[j1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&qv(a)&&(a=Mh(a)),a&&(l.fields[O1]=a),{mapValue:l}})(t,e):n instanceof lu?eb(n,e):n instanceof cu?tb(n,e):(function(o,a){const l=Z1(o,a),u=Lx(l)+Lx(o.Ee);return Vg(l)&&Vg(o.Ee)?X1(u):Yv(o.serializer,u)})(n,e)}function lV(n,e,t){return n instanceof lu?eb(n,e):n instanceof cu?tb(n,e):t}function Z1(n,e){return n instanceof uu?(function(r){return Vg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class au extends Uh{}class lu extends Uh{constructor(e){super(),this.elements=e}}function eb(n,e){const t=nb(e);for(const r of n.elements)t.some((o=>As(o,r)))||t.push(r);return{arrayValue:{values:t}}}class cu extends Uh{constructor(e){super(),this.elements=e}}function tb(n,e){let t=nb(e);for(const r of n.elements)t=t.filter((o=>!As(o,r)));return{arrayValue:{values:t}}}class uu extends Uh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Lx(n){return Lt(n.integerValue||n.doubleValue)}function nb(n){return Gv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,t){this.field=e,this.transform=t}}function cV(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof lu&&o instanceof lu||r instanceof cu&&o instanceof cu?Il(r.elements,o.elements,As):r instanceof uu&&o instanceof uu?As(r.Ee,o.Ee):r instanceof au&&o instanceof au})(n.transform,e.transform)}class uV{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function If(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $h{}function sb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xv(n.key,Cr.none()):new Ru(n.key,n.data,Cr.none());{const t=n.data,r=Yn.empty();let o=new en(pn.comparator);for(let a of e.fields)if(!o.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),o=o.add(a)}return new xi(n.key,r,new dr(o.toArray()),Cr.none())}}function dV(n,e,t){n instanceof Ru?(function(o,a,l){const u=o.value.clone(),f=Fx(o.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof xi?(function(o,a,l){if(!If(o.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Fx(o.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(ob(o)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Gc(n,e,t,r){return n instanceof Ru?(function(a,l,u,f){if(!If(a.precondition,l))return u;const m=a.value.clone(),y=Ux(a.fieldTransforms,f,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof xi?(function(a,l,u,f){if(!If(a.precondition,l))return u;const m=Ux(a.fieldTransforms,f,l),y=l.data;return y.setAll(ob(a)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(a,l,u){return If(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function fV(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=Z1(r.transform,o||null);a!=null&&(t===null&&(t=Yn.empty()),t.set(r.field,a))}return t||null}function Vx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Il(r,o,((a,l)=>cV(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ru extends $h{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xi extends $h{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ob(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Fx(n,e,t){const r=new Map;ut(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],l=a.transform,u=e.data.field(a.field);r.set(a.field,lV(l,u,t[o]))}return r}function Ux(n,e,t){const r=new Map;for(const o of n){const a=o.transform,l=t.data.field(o.field);r.set(o.field,aV(a,l,e))}return r}class Xv extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hV extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&dV(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Y1();return this.mutations.forEach((o=>{const a=e.get(o.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(o.key)?null:u;const f=sb(l,u);f!==null&&r.set(o.key,f),l.isValidDocument()||l.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,((t,r)=>Vx(t,r)))&&Il(this.baseMutations,e.baseMutations,((t,r)=>Vx(t,r)))}}class Jv{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ut(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=(function(){return rV})();const a=e.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new Jv(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,st;function vV(n){switch(n){case ae.OK:return Fe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function ib(n){if(n===void 0)return fo("GRPC error has no .code"),ae.UNKNOWN;switch(n){case $t.OK:return ae.OK;case $t.CANCELLED:return ae.CANCELLED;case $t.UNKNOWN:return ae.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ae.INTERNAL;case $t.UNAVAILABLE:return ae.UNAVAILABLE;case $t.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case $t.NOT_FOUND:return ae.NOT_FOUND;case $t.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case $t.ABORTED:return ae.ABORTED;case $t.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case $t.DATA_LOSS:return ae.DATA_LOSS;default:return Fe(39323,{code:n})}}(st=$t||($t={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new ai([4294967295,4294967295],0);function $x(n){const e=I1().encode(n),t=new y1;return t.update(e),new Uint8Array(t.digest())}function zx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ai([t,r],0),new ai([o,a],0)]}class Zv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mc(`Invalid padding: ${t}`);if(r<0)throw new Mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ai.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(ai.fromNumber(r)));return o.compare(yV)===1&&(o=new ai([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=$x(e),[r,o]=zx(t);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,o,a);if(!this.ye(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Zv(a,o,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.fe===0)return;const t=$x(e),[r,o]=zx(t);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,o,a);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zh(ze.min(),o,new Nt(Ke),ho(),Ze())}}class Au{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Au(r,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class ab{constructor(e,t){this.targetId=e,this.De=t}}class lb{constructor(e,t,r=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Bx{constructor(){this.ve=0,this.Ce=Hx(),this.Fe=mn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ze(),t=Ze(),r=Ze();return this.Ce.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}})),new Au(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=Hx()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class wV{constructor(e){this.We=e,this.Ge=new Map,this.ze=ho(),this.je=ff(),this.Je=ff(),this.He=new Nt(Ke)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const a=o.target;if(Ug(a))if(r===0){const l=new Ne(a.path);this.Xe(t,l,Tn.newNoDocument(l,ze.min()))}else ut(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const u=this._t(e),f=u?this.ut(u,e,l):1;if(f!==0){this.rt(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let l,u;try{l=hi(r).toUint8Array()}catch(f){if(f instanceof k1)return ui("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Zv(l,o,a)}catch(f){return ui(f instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.fe===0?null:u}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Xe(t,a,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((a,l)=>{const u=this.st(l);if(u){if(a.current&&Ug(u.target)){const f=new Ne(u.target.path);this.Tt(f).has(l)||this.It(l,f)||this.Xe(l,f,Tn.newNoDocument(f,e))}a.Ne&&(t.set(l,a.Le()),a.ke())}}));let r=Ze();this.Je.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const m=this.st(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.ze.forEach(((a,l)=>l.setReadTime(e)));const o=new zh(e,t,this.He,this.ze,r);return this.ze=ho(),this.je=ff(),this.Je=ff(),this.He=new Nt(Ke),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Bx,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new en(Ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new en(Ke),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Bx),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ff(){return new Nt(Ne.comparator)}function Hx(){return new Nt(Ne.comparator)}const _V={asc:"ASCENDING",desc:"DESCENDING"},xV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EV={and:"AND",or:"OR"};class SV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zg(n,e){return n.useProto3Json||jh(e)?e:{value:e}}function th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TV(n,e){return th(n,e.toTimestamp())}function Ts(n){return ut(!!n,49232),ze.fromTimestamp((function(t){const r=fi(t);return new _t(r.seconds,r.nanos)})(n))}function ey(n,e){return Bg(n,e).canonicalString()}function Bg(n,e){const t=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ub(n){const e=vt.fromString(n);return ut(mb(e),10190,{key:e.toString()}),e}function Hg(n,e){return ey(n.databaseId,e.path)}function ug(n,e){const t=ub(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(fb(t))}function db(n,e){return ey(n.databaseId,e)}function bV(n){const e=ub(n);return e.length===4?vt.emptyPath():fb(e)}function Wg(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fb(n){return ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Wx(n,e,t){return{name:Hg(n,e),fields:t.value.mapValue.fields}}function IV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(ut(y===void 0||typeof y=="string",58123),mn.fromBase64String(y||"")):(ut(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),mn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const y=m.code===void 0?ae.UNKNOWN:ib(m.code);return new we(y,m.message||"")})(l);t=new lb(r,o,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ug(n,r.document.name),a=Ts(r.document.updateTime),l=r.document.createTime?Ts(r.document.createTime):ze.min(),u=new Yn({mapValue:{fields:r.document.fields}}),f=Tn.newFoundDocument(o,a,l,u),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Cf(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ug(n,r.document),a=r.readTime?Ts(r.readTime):ze.min(),l=Tn.newNoDocument(o,a),u=r.removedTargetIds||[];t=new Cf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ug(n,r.document),a=r.removedTargetIds||[];t=new Cf([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,l=new gV(o,a),u=r.targetId;t=new ab(u,l)}}return t}function CV(n,e){let t;if(e instanceof Ru)t={update:Wx(n,e.key,e.value)};else if(e instanceof Xv)t={delete:Hg(n,e.key)};else if(e instanceof xi)t={update:Wx(n,e.key,e.data),updateMask:MV(e.fieldMask)};else{if(!(e instanceof hV))return Fe(16599,{Rt:e.type});t={verify:Hg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof au)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof uu)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Fe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:TV(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(n,e.precondition)),t}function RV(n,e){return n&&n.length>0?(ut(e!==void 0,14353),n.map((t=>(function(o,a){let l=o.updateTime?Ts(o.updateTime):Ts(a);return l.isEqual(ze.min())&&(l=Ts(a)),new uV(l,o.transformResults||[])})(t,e)))):[]}function AV(n,e){return{documents:[db(n,e.path)]}}function PV(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=db(n,o);const a=(function(m){if(m.length!==0)return pb(ts.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:hl(E.field),direction:DV(E.dir)}})(y)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=zg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:t,parent:o}}function kV(n){let e=bV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ut(r===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(g){const E=hb(g);return E instanceof ts&&$1(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(g){return g.map((E=>(function(A){return new iu(pl(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(g){let E;return E=typeof g=="object"?g.value:g,jh(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(g){const E=!!g.before,T=g.values||[];return new Zf(T,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(g){const E=!g.before,T=g.values||[];return new Zf(T,E)})(t.endAt)),J4(e,o,l,a,u,"F",f,m)}function NV(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=pl(t.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=pl(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pl(t.unaryFilter.field);return zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=pl(t.unaryFilter.field);return zt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return zt.create(pl(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ts.create(t.compositeFilter.filters.map((r=>hb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(t.compositeFilter.op))})(n):Fe(30097,{filter:n})}function DV(n){return _V[n]}function OV(n){return xV[n]}function jV(n){return EV[n]}function hl(n){return{fieldPath:n.canonicalString()}}function pl(n){return pn.fromServerFormat(n.fieldPath)}function pb(n){return n instanceof zt?(function(t){if(t.op==="=="){if(Nx(t.value))return{unaryFilter:{field:hl(t.field),op:"IS_NAN"}};if(kx(t.value))return{unaryFilter:{field:hl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Nx(t.value))return{unaryFilter:{field:hl(t.field),op:"IS_NOT_NAN"}};if(kx(t.value))return{unaryFilter:{field:hl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(t.field),op:OV(t.op),value:t.value}}})(n):n instanceof ts?(function(t){const r=t.getFilters().map((o=>pb(o)));return r.length===1?r[0]:{compositeFilter:{op:jV(t.op),filters:r}}})(n):Fe(54877,{filter:n})}function MV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function mb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,t,r,o,a=ze.min(),l=ze.min(),u=mn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.gt=e}}function VV(n){const e=kV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.Dn=new UV}addToCollectionParentIndex(e,t){return this.Dn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(di.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class UV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new en(vt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new en(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gb=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(gb,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Al(0)}static ur(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="LruGarbageCollector",$V=1048576;function Kx([n,e],[t,r]){const o=Ke(n,t);return o===0?Ke(e,r):o}class zV{constructor(e){this.Tr=e,this.buffer=new en(Kx),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Kx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){xe(Gx,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zl(t)?xe(Gx,"Ignoring IndexedDB error during garbage collection: ",t):await $l(t)}await this.Rr(3e5)}))}}class HV{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Oh.ue);const r=new zV(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(qx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qx):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,a,l,u,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,l=Date.now(),this.nthSequenceNumber(e,o)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,t)))).next((g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(m=Date.now(),dl()<=Xe.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${o} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:g}))))}}function WV(n,e){return new HV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.changes=new xa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Gc(r.mutation,o,dr.empty(),_t.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ze()){const o=Zi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let l=jc();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Zi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ze())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,o){let a=ho();const l=qc(),u=(function(){return qc()})();return t.forEach(((f,m)=>{const y=r.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof xi)?a=a.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),Gc(y.mutation,m,y.mutation.getFieldMask(),_t.now())):l.set(m.key,dr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,y)=>l.set(m,y))),t.forEach(((m,y)=>{var g;return u.set(m,new GV(y,(g=l.get(m))!==null&&g!==void 0?g:null))})),u)))}recalculateAndSaveOverlays(e,t){const r=qc();let o=new Nt(((l,u)=>l-u)),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||dr.empty();y=u.applyToLocalView(m,y),r.set(f,y);const g=(o.get(u.batchId)||Ze()).add(f);o=o.insert(u.batchId,g)}))})).next((()=>{const l=[],u=o.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,y=f.value,g=Y1();y.forEach((E=>{if(!a.has(E)){const T=sb(t.get(E),r.get(E));T!==null&&g.set(E,T),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,g))}return ce.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(l){return Ne.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):W1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ce.resolve(Zi());let u=nu,f=a;return l.next((m=>ce.forEach(m,((y,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Ze()))).next((y=>({batchId:u,changes:Q1(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next((r=>{let o=jc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let l=jc();return this.indexManager.getCollectionParents(e,a).next((u=>ce.forEach(u,(f=>{const m=(function(g,E){return new Bl(E,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((y=>{y.forEach(((g,E)=>{l=l.insert(g,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((l=>{a.forEach(((f,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,Tn.newInvalidDocument(y)))}));let u=jc();return l.forEach(((f,m)=>{const y=a.get(f);y!==void 0&&Gc(y.mutation,m,dr.empty(),_t.now()),Fh(t,m)&&(u=u.insert(f,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Ts(o.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:VV(o.bundledQuery),readTime:Ts(o.readTime)}})(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.overlays=new Nt(Ne.comparator),this.kr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zi();return ce.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.wt(e,t,a)})),ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const o=Zi(),a=t.length+1,l=new Ne(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new Nt(((m,y)=>m-y));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=Zi(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=Zi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>u.set(m,y))),!(u.size()>=o)););return ce.resolve(u)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const l=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mV(t,r));let a=this.kr.get(t);a===void 0&&(a=Ze(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.qr=new en(ln.Qr),this.$r=new en(ln.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new ln(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new ln(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Ne(new vt([])),r=new ln(t,e),o=new ln(t,e+1),a=[];return this.$r.forEachInRange([r,o],(l=>{this.Wr(l),a.push(l.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ne(new vt([])),r=new ln(t,e),o=new ln(t,e+1);let a=Ze();return this.$r.forEachInRange([r,o],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new ln(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ne.comparator(e.key,t.key)||Ke(e.Hr,t.Hr)}static Ur(e,t){return Ke(e.Hr,t.Hr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new en(ln.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new pV(a,t,r,o);this.mutationQueue.push(l);for(const u of o)this.Yr=this.Yr.add(new ln(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,t){return ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Wv:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ln(t,0),o=new ln(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,o],(l=>{const u=this.Zr(l.Hr);a.push(u)})),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new en(Ke);return t.forEach((o=>{const a=new ln(o,0),l=new ln(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],(u=>{r=r.add(u.Hr)}))})),ce.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ne.isDocumentKey(a)||(a=a.child(""));const l=new ln(new Ne(a),0);let u=new en(Ke);return this.Yr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(u=u.add(f.Hr)),!0)}),l),ce.resolve(this.ei(u))}ei(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ut(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ce.forEach(t.mutations,(o=>{const a=new ln(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new ln(t,0),o=this.Yr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.ni=e,this.docs=(function(){return new Nt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=ho();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Tn.newInvalidDocument(o))})),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ho();const l=t.path,u=new Ne(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||P4(A4(y),r)<=0||(o.has(y.key)||Fh(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe(9500)}ri(e,t){return ce.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new eF(this)}getSize(e){return ce.resolve(this.size)}}class eF extends qV{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)})),ce.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.persistence=e,this.ii=new xa((t=>Kv(t)),Qv),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new ty,this.targetCount=0,this._i=Al.ar()}forEachTarget(e,t){return this.ii.forEach(((r,o)=>t(o))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ce.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Al(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.hr(t),ce.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ii.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),o++)})),ce.waitFor(a).next((()=>o))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((l=>{a.push(o.markPotentiallyOrphaned(e,l))})),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t){this.ai={},this.overlays={},this.ui=new Oh(0),this.ci=!1,this.ci=!0,this.li=new XV,this.referenceDelegate=e(this),this.hi=new tF(this),this.indexManager=new FV,this.remoteDocumentCache=(function(o){return new ZV(o)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new LV(t),this.Ti=new QV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new JV(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const o=new nF(this.ui.next());return this.referenceDelegate.Ii(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return ce.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class nF extends N4{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ai=new ty,this.Ri=null}static Vi(e){return new ny(e)}get mi(){if(this.Ri)return this.Ri;throw Fe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,(r=>{const o=Ne.fromPath(r);return this.fi(e,o).next((a=>{a||t.removeEntry(o,ze.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return ce.or([()=>ce.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class nh{constructor(e,t){this.persistence=e,this.gi=new xa((r=>j4(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=WV(this,t)}static Vi(e,t){return new nh(e,t)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return ce.forEach(this.gi,((r,o)=>this.Sr(e,r,o).next((a=>a?ce.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,(l=>this.Sr(e,l,t).next((u=>{u||(r++,a.removeEntry(l,ze.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ce.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tf(e.data.value)),t}Sr(e,t,r){return ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ce.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=Ze(),o=Ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ry(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return kO()?8:D4(In())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ps(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ys(e,t,o,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new rF;return this.ws(e,t,l).next((u=>{if(a.result=u,this.Rs)return this.Ss(e,t,l,u.size)}))})).next((()=>a.result))}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(dl()<=Xe.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",fl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(dl()<=Xe.DEBUG&&xe("QueryEngine","Query:",fl(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(dl()<=Xe.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",fl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(t))):ce.resolve())}ps(e,t){if(Mx(t))return ce.resolve(null);let r=Ss(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=eh(t,null,"F"),r=Ss(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ze(...a);return this.gs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,u);return this.Ds(t,m,l,f.readTime)?this.ps(e,eh(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ys(e,t,r,o){return Mx(t)||o.isEqual(ze.min())?ce.resolve(null):this.gs.getDocuments(e,r).next((a=>{const l=this.bs(t,a);return this.Ds(t,l,r,o)?ce.resolve(null):(dl()<=Xe.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fl(t)),this.vs(e,l,t,R4(o,nu)).next((u=>u)))}))}bs(e,t){let r=new en(G1(e));return t.forEach(((o,a)=>{Fh(e,a)&&(r=r.add(a))})),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,r){return dl()<=Xe.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",fl(t)),this.gs.getDocumentsMatchingQuery(e,t,di.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="LocalStore",oF=3e8;class iF{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new Nt(Ke),this.Ms=new xa((a=>Kv(a)),Qv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function aF(n,e,t,r){return new iF(n,e,t,r)}async function yb(n,e){const t=Be(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=Ze();for(const m of o){l.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Bs:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function lF(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return(function(u,f,m,y){const g=m.batch,E=g.keys();let T=ce.resolve();return E.forEach((A=>{T=T.next((()=>y.getEntry(f,A))).next((b=>{const R=m.docVersions.get(A);ut(R!==null,48541),b.version.compareTo(R)<0&&(g.applyToRemoteDocument(b,m),b.isValidDocument()&&(b.setReadTime(m.commitVersion),y.addEntry(b)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,g)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Ze();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function wb(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function cF(n,e){const t=Be(n),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const u=[];e.targetChanges.forEach(((y,g)=>{const E=o.get(g);if(!E)return;u.push(t.hi.removeMatchingKeys(a,y.removedDocuments,g).next((()=>t.hi.addMatchingKeys(a,y.addedDocuments,g))));let T=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(mn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),o=o.insert(g,T),(function(b,R,O){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=oF?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(E,T,y)&&u.push(t.hi.updateTargetData(a,T))}));let f=ho(),m=Ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),u.push(uF(a,l,e.documentUpdates).next((y=>{f=y.Ls,m=y.ks}))),!r.isEqual(ze.min())){const y=t.hi.getLastRemoteSnapshotVersion(a).next((g=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(y)}return ce.waitFor(u).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Fs=o,a)))}function uF(n,e,t){let r=Ze(),o=Ze();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=ho();return t.forEach(((u,f)=>{const m=a.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(u)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):xe(sy,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)})),{Ls:l,ks:o}}))}function dF(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fF(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.hi.getTargetData(r,e).next((a=>a?(o=a,ce.resolve(o)):t.hi.allocateTargetId(r).next((l=>(o=new ri(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function qg(n,e,t){const r=Be(n),o=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!zl(l))throw l;xe(sy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function Qx(n,e,t){const r=Be(n);let o=ze.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,y){const g=Be(f),E=g.Ms.get(y);return E!==void 0?ce.resolve(g.Fs.get(E)):g.hi.getTargetData(m,y)})(r,l,Ss(e)).next((u=>{if(u)return o=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?o:ze.min(),t?a:Ze()))).next((u=>(hF(r,eV(e),u),{documents:u,qs:a})))))}function hF(n,e,t){let r=n.xs.get(e)||ze.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.xs.set(e,r)}class Yx{constructor(){this.activeTargetIds=iV()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pF{constructor(){this.Fo=new Yx,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Yx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="ConnectivityMonitor";class Jx{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){xe(Xx,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){xe(Xx,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=null;function Gg(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="RestConnection",gF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const l=Gg(),u=this.Go(e,t.toUriEncodedString());xe(dg,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,o,a);const{host:m}=new URL(u),y=Ll(m);return this.jo(e,u,f,r,y).then((g=>(xe(dg,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw ui(dg,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Jo(e,t,r,o,a,l){return this.Wo(e,t,r,o,a)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}Go(e,t){const r=gF[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class wF extends vF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,a){const l=Gg();return new Promise(((u,f)=>{const m=new w1;m.setWithCredentials(!0),m.listenOnce(_1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Sf.NO_ERROR:const g=m.getResponseJson();xe(xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Sf.TIMEOUT:xe(xn,`RPC '${e}' ${l} timed out`),f(new we(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const E=m.getStatus();if(xe(xn,`RPC '${e}' ${l} failed with status:`,E,"response text:",m.getResponseText()),E>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T?.error;if(A&&A.status&&A.message){const b=(function(O){const M=O.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(M)>=0?M:ae.UNKNOWN})(A.status);f(new we(b,A.message))}else f(new we(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new we(ae.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{c_:e,streamId:l,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{xe(xn,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(o);xe(xn,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",y,r,15)}))}P_(e,t,r){const o=Gg(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=S1(),u=E1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");xe(xn,`Creating RPC '${e}' stream ${o}: ${y}`,f);const g=l.createWebChannel(y,f);this.T_(g);let E=!1,T=!1;const A=new yF({Ho:R=>{T?xe(xn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(E||(xe(xn,`Opening RPC '${e}' stream ${o} transport.`),g.open(),E=!0),xe(xn,`RPC '${e}' stream ${o} sending:`,R),g.send(R))},Yo:()=>g.close()}),b=(R,O,M)=>{R.listen(O,(U=>{try{M(U)}catch(H){setTimeout((()=>{throw H}),0)}}))};return b(g,Oc.EventType.OPEN,(()=>{T||(xe(xn,`RPC '${e}' stream ${o} transport opened.`),A.s_())})),b(g,Oc.EventType.CLOSE,(()=>{T||(T=!0,xe(xn,`RPC '${e}' stream ${o} transport closed`),A.__(),this.I_(g))})),b(g,Oc.EventType.ERROR,(R=>{T||(T=!0,ui(xn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),A.__(new we(ae.UNAVAILABLE,"The operation could not be completed")))})),b(g,Oc.EventType.MESSAGE,(R=>{var O;if(!T){const M=R.data[0];ut(!!M,16349);const U=M,H=U?.error||((O=U[0])===null||O===void 0?void 0:O.error);if(H){xe(xn,`RPC '${e}' stream ${o} received error:`,H);const Q=H.status;let te=(function(j){const L=$t[j];if(L!==void 0)return ib(L)})(Q),D=H.message;te===void 0&&(te=ae.INTERNAL,D="Unknown error status: "+Q+" with message "+H.message),T=!0,A.__(new we(te,D)),g.close()}else xe(xn,`RPC '${e}' stream ${o} received:`,M),A.a_(M)}})),b(u,x1.STAT_EVENT,(R=>{R.stat===jg.PROXY?xe(xn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===jg.NOPROXY&&xe(xn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{A.o_()}),0),A}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n){return new SV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="PersistentStream";class xb{constructor(e,t,r,o,a,l,u,f){this.Fi=e,this.w_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _b(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(fo(t.toString()),fo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.b_===t&&this.W_(r,o)}),(r=>{e((()=>{const o=new we(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{r((()=>this.G_(o)))})),this.stream.onMessage((o=>{r((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return xe(Zx,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(xe(Zx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _F extends xb{constructor(e,t,r,o,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=IV(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Ts(l.readTime):ze.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Wg(this.serializer),t.addTarget=(function(a,l){let u;const f=l.target;if(u=Ug(f)?{documents:AV(a,f)}:{query:PV(a,f).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=cb(a,l.resumeToken);const m=zg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(ze.min())>0){u.readTime=th(a,l.snapshotVersion.toTimestamp());const m=zg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=NV(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Wg(this.serializer),t.removeTarget=e,this.k_(t)}}class xF extends xb{constructor(e,t,r,o,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=RV(e.writeResults,e.commitTime),r=Ts(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Wg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>CV(this.serializer,r)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{}class SF extends EF{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,Bg(t,r),o,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ae.UNKNOWN,a.toString())}))}Jo(e,t,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Jo(e,Bg(t,r),o,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ae.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class TF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(fo(t),this._a=!1):xe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class bF{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((l=>{r.enqueueAndForget((async()=>{Ea(this)&&(xe(va,"Restarting streams for network reachability change."),await(async function(f){const m=Be(f);m.Ia.add(4),await Pu(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Hh(m)})(this))}))})),this.Aa=new TF(r,o)}}async function Hh(n){if(Ea(n))for(const e of n.da)await e(!0)}async function Pu(n){for(const e of n.da)await e(!1)}function Eb(n,e){const t=Be(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),ly(t)?ay(t):Hl(t).x_()&&iy(t,e))}function oy(n,e){const t=Be(n),r=Hl(t);t.Ta.delete(e),r.x_()&&Sb(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ea(t)&&t.Aa.set("Unknown"))}function iy(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hl(n).H_(e)}function Sb(n,e){n.Ra.$e(e),Hl(n).Y_(e)}function ay(n){n.Ra=new wV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Hl(n).start(),n.Aa.aa()}function ly(n){return Ea(n)&&!Hl(n).M_()&&n.Ta.size>0}function Ea(n){return Be(n).Ia.size===0}function Tb(n){n.Ra=void 0}async function IF(n){n.Aa.set("Online")}async function CF(n){n.Ta.forEach(((e,t)=>{iy(n,e)}))}async function RF(n,e){Tb(n),ly(n)?(n.Aa.la(e),ay(n)):n.Aa.set("Unknown")}async function AF(n,e,t){if(n.Aa.set("Online"),e instanceof lb&&e.state===2&&e.cause)try{await(async function(o,a){const l=a.cause;for(const u of a.targetIds)o.Ta.has(u)&&(await o.remoteSyncer.rejectListen(u,l),o.Ta.delete(u),o.Ra.removeTarget(u))})(n,e)}catch(r){xe(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(n,r)}else if(e instanceof Cf?n.Ra.Ye(e):e instanceof ab?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ze.min()))try{const r=await wb(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const u=a.Ra.Pt(l);return u.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ta.get(m);y&&a.Ta.set(m,y.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,m)=>{const y=a.Ta.get(f);if(!y)return;a.Ta.set(f,y.withResumeToken(mn.EMPTY_BYTE_STRING,y.snapshotVersion)),Sb(a,f);const g=new ri(y.target,f,m,y.sequenceNumber);iy(a,g)})),a.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){xe(va,"Failed to raise snapshot:",r),await rh(n,r)}}async function rh(n,e,t){if(!zl(e))throw e;n.Ia.add(1),await Pu(n),n.Aa.set("Offline"),t||(t=()=>wb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{xe(va,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Hh(n)}))}function bb(n,e){return e().catch((t=>rh(n,t,e)))}async function Wh(n){const e=Be(n),t=mi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Wv;for(;PF(e);)try{const o=await dF(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,kF(e,o)}catch(o){await rh(e,o)}Ib(e)&&Cb(e)}function PF(n){return Ea(n)&&n.Pa.length<10}function kF(n,e){n.Pa.push(e);const t=mi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Ib(n){return Ea(n)&&!mi(n).M_()&&n.Pa.length>0}function Cb(n){mi(n).start()}async function NF(n){mi(n).na()}async function DF(n){const e=mi(n);for(const t of n.Pa)e.X_(t.mutations)}async function OF(n,e,t){const r=n.Pa.shift(),o=Jv.from(r,e,t);await bb(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Wh(n)}async function jF(n,e){e&&mi(n).Z_&&await(async function(r,o){if((function(l){return vV(l)&&l!==ae.ABORTED})(o.code)){const a=r.Pa.shift();mi(r).N_(),await bb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Wh(r)}})(n,e),Ib(n)&&Cb(n)}async function eE(n,e){const t=Be(n);t.asyncQueue.verifyOperationInProgress(),xe(va,"RemoteStore received new credentials");const r=Ea(t);t.Ia.add(3),await Pu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Hh(t)}async function MF(n,e){const t=Be(n);e?(t.Ia.delete(2),await Hh(t)):e||(t.Ia.add(2),await Pu(t),t.Aa.set("Unknown"))}function Hl(n){return n.Va||(n.Va=(function(t,r,o){const a=Be(t);return a.ia(),new _F(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:IF.bind(null,n),e_:CF.bind(null,n),n_:RF.bind(null,n),J_:AF.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),ly(n)?ay(n):n.Aa.set("Unknown")):(await n.Va.stop(),Tb(n))}))),n.Va}function mi(n){return n.ma||(n.ma=(function(t,r,o){const a=Be(t);return a.ia(),new xF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:NF.bind(null,n),n_:jF.bind(null,n),ea:DF.bind(null,n),ta:OF.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Wh(n)):(await n.ma.stop(),n.Pa.length>0&&(xe(va,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const l=Date.now()+r,u=new cy(e,t,l,o,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(n,e){if(fo("AsyncQueue",`${e}: ${n}`),zl(n))return new we(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ne.comparator(t.key,r.key):(t,r)=>Ne.comparator(t.key,r.key),this.keyedMap=jc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new _l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.fa=new Nt(Ne.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Fe(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Pl{constructor(e,t,r,o,a,l,u,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Pl(e,t,_l.emptySet(t),l,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class VF{constructor(){this.queries=nE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=Be(t),a=o.queries;o.queries=nE(),a.forEach(((l,u)=>{for(const f of u.wa)f.onError(r)}))})(this,new we(ae.ABORTED,"Firestore shutting down"))}}function nE(){return new xa((n=>q1(n)),Vh)}async function dy(n,e){const t=Be(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(r=2):(a=new LF,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(l){const u=uy(l,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(u)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&hy(t)}async function fy(n,e){const t=Be(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function FF(n,e){const t=Be(n);let r=!1;for(const o of e){const a=o.query,l=t.queries.get(a);if(l){for(const u of l.wa)u.Ca(o)&&(r=!0);l.ya=o}}r&&hy(t)}function UF(n,e,t){const r=Be(n),o=r.queries.get(e);if(o)for(const a of o.wa)a.onError(t);r.queries.delete(e)}function hy(n){n.Da.forEach((e=>{e.next()}))}var Kg,rE;(rE=Kg||(Kg={})).Fa="default",rE.Cache="cache";class py{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.key=e}}class Ab{constructor(e){this.key=e}}class $F{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ze(),this.mutatedKeys=Ze(),this.Xa=G1(e),this.eu=new _l(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new tE,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,l=o,u=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,g)=>{const E=o.get(y),T=Fh(this.query,g)?g:null,A=!!E&&this.mutatedKeys.has(E.key),b=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;E&&T?E.data.isEqual(T.data)?A!==b&&(r.track({type:3,doc:T}),R=!0):this.iu(E,T)||(r.track({type:2,doc:T}),R=!0,(f&&this.Xa(T,f)>0||m&&this.Xa(T,m)<0)&&(u=!0)):!E&&T?(r.track({type:0,doc:T}),R=!0):E&&!T&&(r.track({type:1,doc:E}),R=!0,(f||m)&&(u=!0)),R&&(T?(l=l.add(T),a=b?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{eu:l,ru:r,Ds:u,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort(((y,g)=>(function(T,A){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{At:R})}};return b(T)-b(A)})(y.type,g.type)||this.Xa(y.doc,g.doc))),this.su(r),o=o!=null&&o;const u=t&&!o?this.ou():[],f=this.Za.size===0&&this.current&&!o?1:0,m=f!==this.Ya;return this.Ya=f,l.length!==0||m?{snapshot:new Pl(this.query,e.eu,a,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new tE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ze(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new Ab(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new Rb(r))})),t}uu(e){this.Ha=e.qs,this.Za=Ze();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Pl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const my="SyncEngine";class zF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class BF{constructor(e){this.key=e,this.lu=!1}}class HF{constructor(e,t,r,o,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new xa((u=>q1(u)),Vh),this.Tu=new Map,this.Iu=new Set,this.du=new Nt(Ne.comparator),this.Eu=new Map,this.Au=new ty,this.Ru={},this.Vu=new Map,this.mu=Al.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function WF(n,e,t=!0){const r=jb(n);let o;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await Pb(r,e,t,!0),o}async function qF(n,e){const t=jb(n);await Pb(t,e,!0,!1)}async function Pb(n,e,t,r){const o=await fF(n.localStore,Ss(e)),a=o.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await GF(n,e,a,l==="current",o.resumeToken)),n.isPrimaryClient&&t&&Eb(n.remoteStore,o),u}async function GF(n,e,t,r,o){n.gu=(g,E,T)=>(async function(b,R,O,M){let U=R.view.nu(O);U.Ds&&(U=await Qx(b.localStore,R.query,!1).then((({documents:D})=>R.view.nu(D,U))));const H=M&&M.targetChanges.get(R.targetId),Q=M&&M.targetMismatches.get(R.targetId)!=null,te=R.view.applyChanges(U,b.isPrimaryClient,H,Q);return oE(b,R.targetId,te._u),te.snapshot})(n,g,E,T);const a=await Qx(n.localStore,e,!0),l=new $F(e,a.qs),u=l.nu(a.documents),f=Au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=l.applyChanges(u,n.isPrimaryClient,f);oE(n,t,m._u);const y=new zF(e,t,l);return n.Pu.set(e,y),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function KF(n,e,t){const r=Be(n),o=r.Pu.get(e),a=r.Tu.get(o.targetId);if(a.length>1)return r.Tu.set(o.targetId,a.filter((l=>!Vh(l,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await qg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&oy(r.remoteStore,o.targetId),Qg(r,o.targetId)})).catch($l)):(Qg(r,o.targetId),await qg(r.localStore,o.targetId,!0))}async function QF(n,e){const t=Be(n),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),oy(t.remoteStore,r.targetId))}async function YF(n,e,t){const r=r5(n);try{const o=await(function(l,u){const f=Be(l),m=_t.now(),y=u.reduce(((T,A)=>T.add(A.key)),Ze());let g,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let A=ho(),b=Ze();return f.Os.getEntries(T,y).next((R=>{A=R,A.forEach(((O,M)=>{M.isValidDocument()||(b=b.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,A))).next((R=>{g=R;const O=[];for(const M of u){const U=fV(M,g.get(M.key).overlayedDocument);U!=null&&O.push(new xi(M.key,U,V1(U.value.mapValue),Cr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,m,O,u)})).next((R=>{E=R;const O=R.applyToLocalDocumentSet(g,b);return f.documentOverlayCache.saveOverlays(T,R.batchId,O)}))})).then((()=>({batchId:E.batchId,changes:Q1(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(l,u,f){let m=l.Ru[l.currentUser.toKey()];m||(m=new Nt(Ke)),m=m.insert(u,f),l.Ru[l.currentUser.toKey()]=m})(r,o.batchId,t),await ku(r,o.changes),await Wh(r.remoteStore)}catch(o){const a=uy(o,"Failed to persist write");t.reject(a)}}async function kb(n,e){const t=Be(n);try{const r=await cF(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const l=t.Eu.get(a);l&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?l.lu=!0:o.modifiedDocuments.size>0?ut(l.lu,14607):o.removedDocuments.size>0&&(ut(l.lu,42227),l.lu=!1))})),await ku(t,r,e)}catch(r){await $l(r)}}function sE(n,e,t){const r=Be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&o.push(u.snapshot)})),(function(l,u){const f=Be(l);f.onlineState=u;let m=!1;f.queries.forEach(((y,g)=>{for(const E of g.wa)E.va(u)&&(m=!0)})),m&&hy(f)})(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XF(n,e,t){const r=Be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),a=o&&o.key;if(a){let l=new Nt(Ne.comparator);l=l.insert(a,Tn.newNoDocument(a,ze.min()));const u=Ze().add(a),f=new zh(ze.min(),new Map,new Nt(Ke),l,u);await kb(r,f),r.du=r.du.remove(a),r.Eu.delete(e),gy(r)}else await qg(r.localStore,e,!1).then((()=>Qg(r,e,t))).catch($l)}async function JF(n,e){const t=Be(n),r=e.batch.batchId;try{const o=await lF(t.localStore,e);Db(t,r,null),Nb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ku(t,o)}catch(o){await $l(o)}}async function ZF(n,e,t){const r=Be(n);try{const o=await(function(l,u){const f=Be(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,u).next((g=>(ut(g!==null,37113),y=g.keys(),f.mutationQueue.removeMutationBatch(m,g)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);Db(r,e,t),Nb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ku(r,o)}catch(o){await $l(o)}}function Nb(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function Db(n,e,t){const r=Be(n);let o=r.Ru[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function Qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||Ob(n,r)}))}function Ob(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(oy(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),gy(n))}function oE(n,e,t){for(const r of t)r instanceof Rb?(n.Au.addReference(r.key,e),e5(n,r)):r instanceof Ab?(xe(my,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||Ob(n,r.key)):Fe(19791,{yu:r})}function e5(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(xe(my,"New document in limbo: "+t),n.Iu.add(r),gy(n))}function gy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ne(vt.fromString(e)),r=n.mu.next();n.Eu.set(r,new BF(t)),n.du=n.du.insert(t,r),Eb(n.remoteStore,new ri(Ss(Lh(t.path)),r,"TargetPurposeLimboResolution",Oh.ue))}}async function ku(n,e,t){const r=Be(n),o=[],a=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach(((u,f)=>{l.push(r.gu(f,e,t).then((m=>{var y;if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:(y=t?.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){o.push(m);const g=ry.Es(f.targetId,m);a.push(g)}})))})),await Promise.all(l),r.hu.J_(o),await(async function(f,m){const y=Be(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ce.forEach(m,(E=>ce.forEach(E.Is,(T=>y.persistence.referenceDelegate.addReference(g,E.targetId,T))).next((()=>ce.forEach(E.ds,(T=>y.persistence.referenceDelegate.removeReference(g,E.targetId,T)))))))))}catch(g){if(!zl(g))throw g;xe(sy,"Failed to update sequence numbers: "+g)}for(const g of m){const E=g.targetId;if(!g.fromCache){const T=y.Fs.get(E),A=T.snapshotVersion,b=T.withLastLimboFreeSnapshotVersion(A);y.Fs=y.Fs.insert(E,b)}}})(r.localStore,a))}async function t5(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){xe(my,"User change. New user:",e.toKey());const r=await yb(t.localStore,e);t.currentUser=e,(function(a,l){a.Vu.forEach((u=>{u.forEach((f=>{f.reject(new we(ae.CANCELLED,l))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(t,r.Bs)}}function n5(n,e){const t=Be(n),r=t.Eu.get(e);if(r&&r.lu)return Ze().add(r.key);{let o=Ze();const a=t.Tu.get(e);if(!a)return o;for(const l of a){const u=t.Pu.get(l);o=o.unionWith(u.view.tu)}return o}}function jb(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XF.bind(null,e),e.hu.J_=FF.bind(null,e.eventManager),e.hu.pu=UF.bind(null,e.eventManager),e}function r5(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZF.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return aF(this.persistence,new sF,e.initialUser,this.serializer)}Du(e){return new vb(ny.Vi,this.serializer)}bu(e){return new pF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class s5 extends sh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ut(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BV(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new vb((r=>nh.Vi(r,t)),this.serializer)}}class Yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t5.bind(null,this.syncEngine),await MF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VF})()}createDatastore(e){const t=Bh(e.databaseInfo.databaseId),r=(function(a){return new wF(a)})(e.databaseInfo);return(function(a,l,u,f){return new SF(a,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,l,u){return new bF(r,o,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>sE(this.syncEngine,t,0)),(function(){return Jx.C()?new Jx:new mF})())}createSyncEngine(e,t){return(function(o,a,l,u,f,m,y){const g=new HF(o,a,l,u,f,m);return y&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Be(o);xe(va,"RemoteStore shutting down."),a.Ia.add(5),await Pu(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yg.provider={build:()=>new Yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):fo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="FirestoreClient";class o5{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=Hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{xe(gi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(xe(gi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=uy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hg(n,e){n.asyncQueue.verifyOperationInProgress(),xe(gi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await yb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>{ui("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{xe("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{ui("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function iE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await i5(n);xe(gi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>eE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>eE(e.remoteStore,o))),n._onlineComponents=e}async function i5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(gi,"Using user provided OfflineComponentProvider");try{await hg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ui("Error using user provided cache. Falling back to memory cache: "+t),await hg(n,new sh)}}else xe(gi,"Using default OfflineComponentProvider"),await hg(n,new s5(void 0));return n._offlineComponents}async function Mb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(gi,"Using user provided OnlineComponentProvider"),await iE(n,n._uninitializedComponentsProvider._online)):(xe(gi,"Using default OnlineComponentProvider"),await iE(n,new Yg))),n._onlineComponents}function a5(n){return Mb(n).then((e=>e.syncEngine))}async function oh(n){const e=await Mb(n),t=e.eventManager;return t.onListen=WF.bind(null,e.syncEngine),t.onUnlisten=KF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QF.bind(null,e.syncEngine),t}function l5(n,e,t={}){const r=new ao;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const y=new vy({next:E=>{y.Ou(),l.enqueueAndForget((()=>fy(a,g)));const T=E.docs.has(u);!T&&E.fromCache?m.reject(new we(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&f&&f.source==="server"?m.reject(new we(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),g=new py(Lh(u.path),y,{includeMetadataChanges:!0,ka:!0});return dy(a,g)})(await oh(n),n.asyncQueue,e,t,r))),r.promise}function c5(n,e,t={}){const r=new ao;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const y=new vy({next:E=>{y.Ou(),l.enqueueAndForget((()=>fy(a,g))),E.fromCache&&f.source==="server"?m.reject(new we(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),g=new py(u,y,{includeMetadataChanges:!0,ka:!0});return dy(a,g)})(await oh(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firestore.googleapis.com",lE=!0;class cE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vb,this.ssl=lE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$V)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new y4;switch(r.type){case"firstParty":return new E4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=aE.get(t);r&&(xe("ComponentProvider","Removing Datastore"),aE.delete(t),r.terminate())})(this),Promise.resolve()}}function u5(n,e,t,r={}){var o;n=Jn(n,qh);const a=Ll(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(kT(`https://${f}`),NT("Firestore",!0)),l.host!==Vb&&l.host!==f&&ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!fa(m,u)&&(n._setSettings(m),r.mockUserToken)){let y,g;if(typeof r.mockUserToken=="string")y=r.mockUserToken,g=Sn.MOCK_USER;else{y=EO(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new we(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Sn(E)}n._authCredentials=new w4(new b1(y,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Cu(t,Ot._jsonSchema))return new Ot(e,r||null,new Ne(vt.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Bt("string",Ot._jsonSchemaVersion),referencePath:Bt("string")};class li extends So{constructor(e,t,r){super(e,t,Lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Ne(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function Je(n,e,...t){if(n=Vt(n),C1("collection","path",e),n instanceof qh){const r=vt.fromString(e,...t);return Ex(r),new li(n,null,r)}{if(!(n instanceof Ot||n instanceof li))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return Ex(r),new li(n.firestore,null,r)}}function ot(n,e,...t){if(n=Vt(n),arguments.length===1&&(e=Hv.newId()),C1("doc","path",e),n instanceof qh){const r=vt.fromString(e,...t);return xx(r),new Ot(n,null,new Ne(r))}{if(!(n instanceof Ot||n instanceof li))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return xx(r),new Ot(n.firestore,n instanceof li?n.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class dE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _b(this,"async_queue_retry"),this.oc=()=>{const r=fg();r&&xe(uE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=fg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=fg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new ao;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!zl(e))throw e;xe(uE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,fo("INTERNAL UNHANDLED ERROR: ",fE(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=cy.createAndSchedule(this,e,t,r,(a=>this.lc(a)));return this.ec.push(o),o}ac(){this.tc&&Fe(47125,{hc:fE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function fE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(n,["next","error","complete"])}class po extends qh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new dE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dE(e),this._firestoreClient=void 0,await e}}}function d5(n,e){const t=typeof n=="object"?n:MT(),r=typeof n=="string"?n:Xf,o=Nv(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=_O("firestore");a&&u5(o,...a)}return o}function Gh(n){if(n._terminated)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f5(n),n._firestoreClient}function f5(n){var e,t,r;const o=n._freezeSettings(),a=(function(u,f,m,y){return new V4(u,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Lb(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new o5(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ir(mn.fromBase64String(e))}catch(t){throw new we(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ir(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Ir._jsonSchema))return Ir.fromBase64String(e.bytes)}}Ir._jsonSchemaVersion="firestore/bytes/1.0",Ir._jsonSchema={type:Bt("string",Ir._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:Bt("string",bs._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Is(e.vectorValues);throw new we(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:Bt("string",Is._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=/^__.*__$/;class p5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ru(e,this.data,t,this.fieldTransforms)}}class Fb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ub(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ec:n})}}class yy{constructor(e,t,r,o,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ih(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ub(this.Ec)&&h5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class m5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bh(e)}Dc(e,t,r,o=!1){return new yy({Ec:e,methodName:t,bc:r,path:pn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(n){const e=n._freezeSettings(),t=Bh(n._databaseId);return new m5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $b(n,e,t,r,o,a={}){const l=n.Dc(a.merge||a.mergeFields?2:0,e,t,o);xy("Data must be an object, but it was:",l,r);const u=zb(r,l);let f,m;if(a.merge)f=new dr(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const E=Xg(e,g,t);if(!l.contains(E))throw new we(ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Hb(y,E)||y.push(E)}f=new dr(y),m=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,m=l.fieldTransforms;return new p5(new Yn(u),f,m)}class Yh extends Nu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class wy extends Nu{_toFieldTransform(e){return new rb(e.path,new au)}isEqual(e){return e instanceof wy}}class _y extends Nu{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new uu(e.serializer,J1(e.serializer,this.Cc));return new rb(e.path,t)}isEqual(e){return e instanceof _y&&this.Cc===e.Cc}}function g5(n,e,t,r){const o=n.Dc(1,e,t);xy("Data must be an object, but it was:",o,r);const a=[],l=Yn.empty();_i(r,((f,m)=>{const y=Ey(e,f,t);m=Vt(m);const g=o.gc(y);if(m instanceof Yh)a.push(y);else{const E=Du(m,g);E!=null&&(a.push(y),l.set(y,E))}}));const u=new dr(a);return new Fb(l,u,o.fieldTransforms)}function v5(n,e,t,r,o,a){const l=n.Dc(1,e,t),u=[Xg(e,r,t)],f=[o];if(a.length%2!=0)throw new we(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)u.push(Xg(e,a[E])),f.push(a[E+1]);const m=[],y=Yn.empty();for(let E=u.length-1;E>=0;--E)if(!Hb(m,u[E])){const T=u[E];let A=f[E];A=Vt(A);const b=l.gc(T);if(A instanceof Yh)m.push(T);else{const R=Du(A,b);R!=null&&(m.push(T),y.set(T,R))}}const g=new dr(m);return new Fb(y,g,l.fieldTransforms)}function y5(n,e,t,r=!1){return Du(t,n.Dc(r?4:3,e))}function Du(n,e){if(Bb(n=Vt(n)))return xy("Unsupported field value:",e,n),zb(n,e);if(n instanceof Nu)return(function(r,o){if(!Ub(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,o){const a=[];let l=0;for(const u of r){let f=Du(u,o.yc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=_t.fromDate(r);return{timestampValue:th(o.serializer,a)}}if(r instanceof _t){const a=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(o.serializer,a)}}if(r instanceof bs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ir)return{bytesValue:cb(o.serializer,r._byteString)};if(r instanceof Ot){const a=o.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw o.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ey(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Is)return(function(l,u){return{mapValue:{fields:{[M1]:{stringValue:L1},[Jf]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.wc("VectorValues must only contain numeric values.");return Yv(u.serializer,m)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${Dh(r)}`)})(n,e)}function zb(n,e){const t={};return P1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(n,((r,o)=>{const a=Du(o,e.Vc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function Bb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof bs||n instanceof Ir||n instanceof Ot||n instanceof Nu||n instanceof Is)}function xy(n,e,t){if(!Bb(t)||!R1(t)){const r=Dh(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Xg(n,e,t){if((e=Vt(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return Ey(n,e);throw ih("Field path arguments must be of type string or ",n,!1,void 0,t)}const w5=new RegExp("[~\\*/\\[\\]]");function Ey(n,e,t){if(e.search(w5)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kh(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ih(n,e,t,r,o){const a=r&&!r.isEmpty(),l=o!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${o}`),f+=")"),new we(ae.INVALID_ARGUMENT,u+n+f)}function Hb(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _5 extends Wb{data(){return super.data()}}function Xh(n,e){return typeof e=="string"?Ey(n,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sy{}class Ty extends Sy{}function Zt(n,e,...t){let r=[];e instanceof Sy&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((f=>f instanceof by)).length,u=a.filter((f=>f instanceof Jh)).length;if(l>1||l>0&&u>0)throw new we(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Jh extends Ty{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Jh(e,t,r)}_apply(e){const t=this._parse(e);return Gb(e._query,t),new So(e.firestore,e.converter,$g(e._query,t))}_parse(e){const t=Qh(e.firestore);return(function(a,l,u,f,m,y,g){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new we(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){mE(g,y);const A=[];for(const b of g)A.push(pE(f,a,b));E={arrayValue:{values:A}}}else E=pE(f,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||mE(g,y),E=y5(u,l,g,y==="in"||y==="not-in");return zt.create(m,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function an(n,e,t){const r=e,o=Xh("where",n);return Jh._create(o,r,t)}class by extends Sy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new by(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ts.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let l=o;const u=a.getFlattenedFilters();for(const f of u)Gb(l,f),l=$g(l,f)})(e._query,t),new So(e.firestore,e.converter,$g(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iy extends Ty{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Iy(e,t)}_apply(e){const t=(function(o,a,l){if(o.startAt!==null)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(a,l)})(e._query,this._field,this._direction);return new So(e.firestore,e.converter,(function(o,a){const l=o.explicitOrderBy.concat([a]);return new Bl(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Zh(n,e="asc"){const t=e,r=Xh("orderBy",n);return Iy._create(r,t)}class Cy extends Ty{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Cy(e,t,r)}_apply(e){return new So(e.firestore,e.converter,eh(e._query,this._limit,this._limitType))}}function x5(n){return Cy._create("limit",n,"F")}function pE(n,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new we(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W1(e)&&t.indexOf("/")!==-1)throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vt.fromString(t));if(!Ne.isDocumentKey(r))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Px(n,new Ne(r))}if(t instanceof Ot)return Px(n,t._key);throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(t)}.`)}function mE(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gb(n,e){const t=(function(o,a){for(const l of o)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class E5{convertValue(e,t="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _i(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Jf].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((l=>Lt(l.doubleValue)));return new Is(a)}convertGeoPoint(e){return new bs(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const t=fi(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);ut(mb(r),9688,{name:e});const o=new su(r.get(1),r.get(3)),a=new Ne(r.popFirst(5));return o.isEqual(t)||fo(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends Wb{constructor(e,t,r,o,a,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=la._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Bt("string",la._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Rf extends la{data(e={}){return super.data(e)}}class ca{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Lc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Rf(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map((u=>{const f=new Rf(o._firestore,o._userDataWriter,u.doc.key,u.doc,new Lc(o._snapshot.mutatedKeys.has(u.doc.key),o._snapshot.fromCache),o.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Rf(o._firestore,o._userDataWriter,u.doc.key,u.doc,new Lc(o._snapshot.mutatedKeys.has(u.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,y=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:S5(u.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n){n=Jn(n,Ot);const e=Jn(n.firestore,po);return l5(Gh(e),n._key).then((t=>Yb(e,n,t)))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:Bt("string",ca._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Ry extends E5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function ft(n){n=Jn(n,So);const e=Jn(n.firestore,po),t=Gh(e),r=new Ry(e);return qb(n._query),c5(t,n._query).then((o=>new ca(e,r,n,o)))}function gE(n,e,t){n=Jn(n,Ot);const r=Jn(n.firestore,po),o=Kb(n.converter,e,t);return ep(r,[$b(Qh(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Cr.none())])}function Xn(n,e,t,...r){n=Jn(n,Ot);const o=Jn(n.firestore,po),a=Qh(o);let l;return l=typeof(e=Vt(e))=="string"||e instanceof Kh?v5(a,"updateDoc",n._key,e,t,r):g5(a,"updateDoc",n._key,e),ep(o,[l.toMutation(n._key,Cr.exists(!0))])}function ua(n){return ep(Jn(n.firestore,po),[new Xv(n._key,Cr.none())])}function ci(n,e){const t=Jn(n.firestore,po),r=ot(n),o=Kb(n.converter,e);return ep(t,[$b(Qh(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then((()=>r))}function Qb(n,...e){var t,r,o;n=Vt(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||hE(e[l])||(a=e[l++]);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(hE(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(o=g.complete)===null||o===void 0?void 0:o.bind(g)}let f,m,y;if(n instanceof Ot)m=Jn(n.firestore,po),y=Lh(n._key.path),f={next:g=>{e[l]&&e[l](Yb(m,n,g))},error:e[l+1],complete:e[l+2]};else{const g=Jn(n,So);m=Jn(g.firestore,po),y=g._query;const E=new Ry(m);f={next:T=>{e[l]&&e[l](new ca(m,E,g,T))},error:e[l+1],complete:e[l+2]},qb(n._query)}return(function(E,T,A,b){const R=new vy(b),O=new py(T,R,A);return E.asyncQueue.enqueueAndForget((async()=>dy(await oh(E),O))),()=>{R.Ou(),E.asyncQueue.enqueueAndForget((async()=>fy(await oh(E),O)))}})(Gh(m),y,u,f)}function ep(n,e){return(function(r,o){const a=new ao;return r.asyncQueue.enqueueAndForget((async()=>YF(await a5(r),o,a))),a.promise})(Gh(n),e)}function Yb(n,e,t){const r=t.docs.get(e._key),o=new Ry(n);return new la(n,o,e._key,r,new Lc(t.hasPendingWrites,t.fromCache),e.converter)}function so(){return new wy("serverTimestamp")}function Vc(n){return new _y("increment",n)}(function(e,t=!0){(function(o){Ul=o})(Vl),Tl(new ha("firestore",((r,{instanceIdentifier:o,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new po(new _4(r.getProvider("auth-internal")),new S4(l,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new we(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(m.options.projectId,y)})(l,o),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),ii(gx,vx,e),ii(gx,vx,"esm2017")})();const T5={apiKey:"AIzaSyA6ENkS_VW-X92kLHwKn9q7UkVJZIhzYes",authDomain:"petconnect-ea714.firebaseapp.com",projectId:"petconnect-ea714",storageBucket:"petconnect-ea714.firebasestorage.app",messagingSenderId:"970752210932",appId:"1:970752210932:web:913876c50c2875e2066ba1"},Xb=jT(T5),Qn=Nh(Xb),Ee=d5(Xb);function b5({onSuccess:n}){const[e,t]=w.useState(!1),[r,o]=w.useState(""),[a,l]=w.useState(!1),[u,f]=w.useState(""),[m,y]=w.useState({petType:""}),[g,E]=w.useState(""),T=async O=>{O.preventDefault(),t(!0),o("");const M=new FormData(O.currentTarget),U=M.get("email"),H=M.get("password"),Q=M.get("name"),te=M.get("petName"),D=m.petType==="Otro"?g:m.petType;try{const C=await ZM(Qn,U,H),j=ot(Ee,"users",C.user.uid);await gE(j,{name:Q||U.split("@")[0],profilePicture:"",petName:te||"",petType:D||"",bio:"",location:"",email:U,createdAt:new Date},{merge:!0}),n?.(C.user),be.success("Registro exitoso")}catch(C){console.error("Error en registro:",C),o(C.message),be.error(C.message)}finally{t(!1)}},A=async O=>{O.preventDefault(),t(!0),o("");const M=new FormData(O.currentTarget),U=M.get("email"),H=M.get("password");try{const Q=await eL(Qn,U,H),te=await bn(ot(Ee,"users",Q.user.uid));if(te.exists()&&te.data().suspended){await Dg(Qn);return}n(Q.user)}catch(Q){console.error("Sign in error:",Q),r||(o(Q.message),be.error(Q.message))}finally{t(!1)}},b=async O=>{let M;switch(O){case"google":M=new Xs;break;case"facebook":M=new Ys;break;case"github":M=new Js;break;default:return}try{const H=(await IL(Qn,M)).user,Q=ot(Ee,"users",H.uid),te=await bn(Q);if(te.exists()&&te.data().suspended){await Dg(Qn);return}te.exists()||await gE(Q,{name:H.displayName||H.email.split("@")[0],profilePicture:H.photoURL||"",petName:"",petType:"",bio:"",location:"",email:H.email,createdAt:new Date},{merge:!0}),n?.(H),be.success("Login exitoso")}catch(U){console.error("OAuth error:",U),be.error(`Error al iniciar sesin con ${O}`)}},R=async()=>{if(!u){be.error("Por favor ingresa tu correo electrnico");return}t(!0);try{await JM(Qn,u),be.success("Se ha enviado un correo de recuperacin"),l(!1),f("")}catch(O){console.error("Reset password error:",O),be.error("Error al enviar correo de recuperacin")}finally{t(!1)}};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-100 via-yellow-50 to-amber-100 p-4",children:[p.jsxs(lt,{className:"w-full max-w-md shadow-xl border-2 border-orange-200",children:[p.jsxs(Zs,{className:"text-center",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-amber-500 p-4 rounded-full",children:p.jsx(Rv,{className:"h-12 w-12 text-white"})})}),p.jsx(ni,{className:"text-orange-600",children:"PetConnect"}),p.jsx(Pk,{children:"Red social para amantes de mascotas"})]}),p.jsx(ct,{children:p.jsxs(yv,{defaultValue:"signin",className:"w-full",children:[p.jsxs(wv,{className:"grid w-full grid-cols-2 mb-6",children:[p.jsx(eo,{value:"signin",children:"Iniciar Sesin"}),p.jsx(eo,{value:"signup",children:"Registrarse"})]}),p.jsx(to,{value:"signin",children:p.jsxs("form",{onSubmit:A,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{htmlFor:"signin-email",children:"Correo Electrnico"}),p.jsx(En,{id:"signin-email",name:"email",type:"email",placeholder:"tu@email.com",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{htmlFor:"signin-password",children:"Contrasea"}),p.jsx(En,{id:"signin-password",name:"password",type:"password",placeholder:"",required:!0})]}),r&&p.jsx("div",{className:"text-red-500 text-sm",children:r}),p.jsx(Ue,{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600",disabled:e,children:e?"Iniciando sesin...":"Iniciar Sesin"}),p.jsx(Ue,{type:"button",variant:"link",className:"w-full text-orange-600",onClick:()=>l(!0),children:"Olvidaste tu contrasea?"}),p.jsxs("div",{className:"relative my-4",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("span",{className:"w-full border-t border-gray-300"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-white px-2 text-gray-500",children:"O contina con"})})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsx(Ue,{type:"button",variant:"outline",onClick:()=>b("google"),disabled:e,children:"Google"}),p.jsx(Ue,{type:"button",variant:"outline",onClick:()=>b("facebook"),disabled:e,children:"Facebook"}),p.jsx(Ue,{type:"button",variant:"outline",onClick:()=>b("github"),disabled:e,children:"GitHub"})]})]})}),p.jsx(to,{value:"signup",children:p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{htmlFor:"signup-name",children:"Nombre Completo"}),p.jsx(En,{id:"signup-name",name:"name",type:"text",placeholder:"Juan Prez",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{htmlFor:"signup-email",children:"Correo Electrnico"}),p.jsx(En,{id:"signup-email",name:"email",type:"email",placeholder:"tu@email.com",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{htmlFor:"signup-password",children:"Contrasea"}),p.jsx(En,{id:"signup-password",name:"password",type:"password",placeholder:"",required:!0,minLength:6})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{htmlFor:"signup-petName",children:"Nombre de tu Mascota"}),p.jsx(En,{id:"signup-petName",name:"petName",type:"text",placeholder:"Max"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{htmlFor:"signup-petType",children:"Tipo de Mascota"}),p.jsxs("select",{id:"signup-petType",name:"petType",value:m.petType,onChange:O=>y({...m,petType:O.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1",children:[p.jsx("option",{value:"",children:"Selecciona una opcin"}),p.jsx("option",{value:"Perro",children:"Perro"}),p.jsx("option",{value:"Gato",children:"Gato"}),p.jsx("option",{value:"Pez",children:"Pez"}),p.jsx("option",{value:"Iguana",children:"Iguana"}),p.jsx("option",{value:"Otro",children:"Otro"})]}),m.petType==="Otro"&&p.jsx(En,{type:"text",placeholder:"Escribe el tipo de mascota",value:g,onChange:O=>E(O.target.value)})]}),r&&p.jsx("div",{className:"text-red-500 text-sm",children:r}),p.jsx(Ue,{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600",disabled:e,children:e?"Registrando...":"Registrarse"})]})})]})})]}),p.jsx(Lf,{open:a,onOpenChange:l,children:p.jsxs(Zc,{children:[p.jsxs(Vf,{children:[p.jsx(Ff,{children:"Recuperar Contrasea"}),p.jsx(Uf,{children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Jt,{htmlFor:"reset-email",children:"Correo Electrnico"}),p.jsx(En,{id:"reset-email",type:"email",placeholder:"tu@email.com",value:u,onChange:O=>f(O.target.value)})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ue,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),p.jsx(Ue,{onClick:R,disabled:e,className:"bg-gradient-to-r from-orange-500 to-amber-500",children:e?"Enviando...":"Enviar"})]})]})]})})]})}function I5(n,e=[]){let t=[];function r(a,l){const u=w.createContext(l);u.displayName=a+"Context";const f=t.length;t=[...t,l];const m=g=>{const{scope:E,children:T,...A}=g,b=E?.[n]?.[f]||u,R=w.useMemo(()=>A,Object.values(A));return p.jsx(b.Provider,{value:R,children:T})};m.displayName=a+"Provider";function y(g,E){const T=E?.[n]?.[f]||u,A=w.useContext(T);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[m,y]}const o=()=>{const a=t.map(l=>w.createContext(l));return function(u){const f=u?.[n]||a;return w.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return o.scopeName=n,[r,C5(o,...e)]}function C5(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:m})=>{const g=f(a)[`__scope${m}`];return{...u,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var R5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ay=R5.reduce((n,e)=>{const t=yh(`Primitive.${e}`),r=w.forwardRef((o,a)=>{const{asChild:l,...u}=o,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),pg={exports:{}},mg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function A5(){if(vE)return mg;vE=1;var n=mh();function e(g,E){return g===E&&(g!==0||1/g===1/E)||g!==g&&E!==E}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(g,E){var T=E(),A=r({inst:{value:T,getSnapshot:E}}),b=A[0].inst,R=A[1];return a(function(){b.value=T,b.getSnapshot=E,f(b)&&R({inst:b})},[g,T,E]),o(function(){return f(b)&&R({inst:b}),g(function(){f(b)&&R({inst:b})})},[g]),l(T),T}function f(g){var E=g.getSnapshot;g=g.value;try{var T=E();return!t(g,T)}catch{return!0}}function m(g,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return mg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,mg}var yE;function P5(){return yE||(yE=1,pg.exports=A5()),pg.exports}var k5=P5();function N5(){return k5.useSyncExternalStore(D5,()=>!0,()=>!1)}function D5(){return()=>{}}var Py="Avatar",[O5]=I5(Py),[j5,Jb]=O5(Py),Zb=w.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[o,a]=w.useState("idle");return p.jsx(j5,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:p.jsx(Ay.span,{...r,ref:e})})});Zb.displayName=Py;var eI="AvatarImage",tI=w.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:o=()=>{},...a}=n,l=Jb(eI,t),u=M5(r,a),f=es(m=>{o(m),l.onImageLoadingStatusChange(m)});return tn(()=>{u!=="idle"&&f(u)},[u,f]),u==="loaded"?p.jsx(Ay.img,{...a,ref:e,src:r}):null});tI.displayName=eI;var nI="AvatarFallback",rI=w.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...o}=n,a=Jb(nI,t),[l,u]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(f)}},[r]),l&&a.imageLoadingStatus!=="loaded"?p.jsx(Ay.span,{...o,ref:e}):null});rI.displayName=nI;function wE(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function M5(n,{referrerPolicy:e,crossOrigin:t}){const r=N5(),o=w.useRef(null),a=r?(o.current||(o.current=new window.Image),o.current):null,[l,u]=w.useState(()=>wE(a,n));return tn(()=>{u(wE(a,n))},[a,n]),tn(()=>{const f=g=>()=>{u(g)};if(!a)return;const m=f("loaded"),y=f("error");return a.addEventListener("load",m),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",m),a.removeEventListener("error",y)}},[a,t,e]),l}var L5=Zb,V5=tI,F5=rI;function Xr({className:n,...e}){return p.jsx(L5,{"data-slot":"avatar",className:We("relative flex size-10 shrink-0 overflow-hidden rounded-full",n),...e})}function Cs({className:n,...e}){return p.jsx(V5,{"data-slot":"avatar-image",className:We("aspect-square size-full",n),...e})}function Jr({className:n,...e}){return p.jsx(F5,{"data-slot":"avatar-fallback",className:We("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}function _E(n,[e,t]){return Math.min(t,Math.max(e,n))}const U5=["top","right","bottom","left"],vi=Math.min,cr=Math.max,ah=Math.round,pf=Math.floor,Rs=n=>({x:n,y:n}),$5={left:"right",right:"left",bottom:"top",top:"bottom"},z5={start:"end",end:"start"};function Jg(n,e,t){return cr(n,vi(e,t))}function mo(n,e){return typeof n=="function"?n(e):n}function go(n){return n.split("-")[0]}function Wl(n){return n.split("-")[1]}function ky(n){return n==="x"?"y":"x"}function Ny(n){return n==="y"?"height":"width"}const B5=new Set(["top","bottom"]);function _s(n){return B5.has(go(n))?"y":"x"}function Dy(n){return ky(_s(n))}function H5(n,e,t){t===void 0&&(t=!1);const r=Wl(n),o=Dy(n),a=Ny(o);let l=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=lh(l)),[l,lh(l)]}function W5(n){const e=lh(n);return[Zg(n),e,Zg(e)]}function Zg(n){return n.replace(/start|end/g,e=>z5[e])}const xE=["left","right"],EE=["right","left"],q5=["top","bottom"],G5=["bottom","top"];function K5(n,e,t){switch(n){case"top":case"bottom":return t?e?EE:xE:e?xE:EE;case"left":case"right":return e?q5:G5;default:return[]}}function Q5(n,e,t,r){const o=Wl(n);let a=K5(go(n),t==="start",r);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(Zg)))),a}function lh(n){return n.replace(/left|right|bottom|top/g,e=>$5[e])}function Y5(n){return{top:0,right:0,bottom:0,left:0,...n}}function sI(n){return typeof n!="number"?Y5(n):{top:n,right:n,bottom:n,left:n}}function ch(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function SE(n,e,t){let{reference:r,floating:o}=n;const a=_s(e),l=Dy(e),u=Ny(l),f=go(e),m=a==="y",y=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,E=r[u]/2-o[u]/2;let T;switch(f){case"top":T={x:y,y:r.y-o.height};break;case"bottom":T={x:y,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:g};break;case"left":T={x:r.x-o.width,y:g};break;default:T={x:r.x,y:r.y}}switch(Wl(e)){case"start":T[l]-=E*(t&&m?-1:1);break;case"end":T[l]+=E*(t&&m?-1:1);break}return T}const X5=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:n,floating:e,strategy:o}),{x:y,y:g}=SE(m,r,f),E=r,T={},A=0;for(let b=0;b<u.length;b++){const{name:R,fn:O}=u[b],{x:M,y:U,data:H,reset:Q}=await O({x:y,y:g,initialPlacement:r,placement:E,strategy:o,middlewareData:T,rects:m,platform:l,elements:{reference:n,floating:e}});y=M??y,g=U??g,T={...T,[R]:{...T[R],...H}},Q&&A<=50&&(A++,typeof Q=="object"&&(Q.placement&&(E=Q.placement),Q.rects&&(m=Q.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:o}):Q.rects),{x:y,y:g}=SE(m,E,f)),b=-1)}return{x:y,y:g,placement:E,strategy:o,middlewareData:T}};async function du(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:l,elements:u,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:E=!1,padding:T=0}=mo(e,n),A=sI(T),R=u[E?g==="floating"?"reference":"floating":g],O=ch(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(R)))==null||t?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:m,rootBoundary:y,strategy:f})),M=g==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,U=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),H=await(a.isElement==null?void 0:a.isElement(U))?await(a.getScale==null?void 0:a.getScale(U))||{x:1,y:1}:{x:1,y:1},Q=ch(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:U,strategy:f}):M);return{top:(O.top-Q.top+A.top)/H.y,bottom:(Q.bottom-O.bottom+A.bottom)/H.y,left:(O.left-Q.left+A.left)/H.x,right:(Q.right-O.right+A.right)/H.x}}const J5=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:l,elements:u,middlewareData:f}=e,{element:m,padding:y=0}=mo(n,e)||{};if(m==null)return{};const g=sI(y),E={x:t,y:r},T=Dy(o),A=Ny(T),b=await l.getDimensions(m),R=T==="y",O=R?"top":"left",M=R?"bottom":"right",U=R?"clientHeight":"clientWidth",H=a.reference[A]+a.reference[T]-E[T]-a.floating[A],Q=E[T]-a.reference[T],te=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let D=te?te[U]:0;(!D||!await(l.isElement==null?void 0:l.isElement(te)))&&(D=u.floating[U]||a.floating[A]);const C=H/2-Q/2,j=D/2-b[A]/2-1,L=vi(g[O],j),F=vi(g[M],j),z=L,P=D-b[A]-F,q=D/2-b[A]/2+C,le=Jg(z,q,P),K=!f.arrow&&Wl(o)!=null&&q!==le&&a.reference[A]/2-(q<z?L:F)-b[A]/2<0,J=K?q<z?q-z:q-P:0;return{[T]:E[T]+J,data:{[T]:le,centerOffset:q-le-J,...K&&{alignmentOffset:J}},reset:K}}}),Z5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:m}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:E,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:b=!0,...R}=mo(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const O=go(o),M=_s(u),U=go(u)===u,H=await(f.isRTL==null?void 0:f.isRTL(m.floating)),Q=E||(U||!b?[lh(u)]:W5(u)),te=A!=="none";!E&&te&&Q.push(...Q5(u,b,A,H));const D=[u,...Q],C=await du(e,R),j=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&j.push(C[O]),g){const q=H5(o,l,H);j.push(C[q[0]],C[q[1]])}if(L=[...L,{placement:o,overflows:j}],!j.every(q=>q<=0)){var F,z;const q=(((F=a.flip)==null?void 0:F.index)||0)+1,le=D[q];if(le&&(!(g==="alignment"?M!==_s(le):!1)||L.every(N=>_s(N.placement)===M?N.overflows[0]>0:!0)))return{data:{index:q,overflows:L},reset:{placement:le}};let K=(z=L.filter(J=>J.overflows[0]<=0).sort((J,N)=>J.overflows[1]-N.overflows[1])[0])==null?void 0:z.placement;if(!K)switch(T){case"bestFit":{var P;const J=(P=L.filter(N=>{if(te){const G=_s(N.placement);return G===M||G==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(G=>G>0).reduce((G,oe)=>G+oe,0)]).sort((N,G)=>N[1]-G[1])[0])==null?void 0:P[0];J&&(K=J);break}case"initialPlacement":K=u;break}if(o!==K)return{reset:{placement:K}}}return{}}}};function TE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function bE(n){return U5.some(e=>n[e]>=0)}const e3=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=mo(n,e);switch(r){case"referenceHidden":{const a=await du(e,{...o,elementContext:"reference"}),l=TE(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:bE(l)}}}case"escaped":{const a=await du(e,{...o,altBoundary:!0}),l=TE(a,t.floating);return{data:{escapedOffsets:l,escaped:bE(l)}}}default:return{}}}}},oI=new Set(["left","top"]);async function t3(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=go(t),u=Wl(t),f=_s(t)==="y",m=oI.has(l)?-1:1,y=a&&f?-1:1,g=mo(e,n);let{mainAxis:E,crossAxis:T,alignmentAxis:A}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof A=="number"&&(T=u==="end"?A*-1:A),f?{x:T*y,y:E*m}:{x:E*m,y:T*y}}const n3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:l,middlewareData:u}=e,f=await t3(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:l}}}}},r3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:O,y:M}=R;return{x:O,y:M}}},...f}=mo(n,e),m={x:t,y:r},y=await du(e,f),g=_s(go(o)),E=ky(g);let T=m[E],A=m[g];if(a){const R=E==="y"?"top":"left",O=E==="y"?"bottom":"right",M=T+y[R],U=T-y[O];T=Jg(M,T,U)}if(l){const R=g==="y"?"top":"left",O=g==="y"?"bottom":"right",M=A+y[R],U=A-y[O];A=Jg(M,A,U)}const b=u.fn({...e,[E]:T,[g]:A});return{...b,data:{x:b.x-t,y:b.y-r,enabled:{[E]:a,[g]:l}}}}}},s3=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:m=!0}=mo(n,e),y={x:t,y:r},g=_s(o),E=ky(g);let T=y[E],A=y[g];const b=mo(u,e),R=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const U=E==="y"?"height":"width",H=a.reference[E]-a.floating[U]+R.mainAxis,Q=a.reference[E]+a.reference[U]-R.mainAxis;T<H?T=H:T>Q&&(T=Q)}if(m){var O,M;const U=E==="y"?"width":"height",H=oI.has(go(o)),Q=a.reference[g]-a.floating[U]+(H&&((O=l.offset)==null?void 0:O[g])||0)+(H?0:R.crossAxis),te=a.reference[g]+a.reference[U]+(H?0:((M=l.offset)==null?void 0:M[g])||0)-(H?R.crossAxis:0);A<Q?A=Q:A>te&&(A=te)}return{[E]:T,[g]:A}}}},o3=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:l,elements:u}=e,{apply:f=()=>{},...m}=mo(n,e),y=await du(e,m),g=go(o),E=Wl(o),T=_s(o)==="y",{width:A,height:b}=a.floating;let R,O;g==="top"||g==="bottom"?(R=g,O=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(O=g,R=E==="end"?"top":"bottom");const M=b-y.top-y.bottom,U=A-y.left-y.right,H=vi(b-y[R],M),Q=vi(A-y[O],U),te=!e.middlewareData.shift;let D=H,C=Q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=M),te&&!E){const L=cr(y.left,0),F=cr(y.right,0),z=cr(y.top,0),P=cr(y.bottom,0);T?C=A-2*(L!==0||F!==0?L+F:cr(y.left,y.right)):D=b-2*(z!==0||P!==0?z+P:cr(y.top,y.bottom))}await f({...e,availableWidth:C,availableHeight:D});const j=await l.getDimensions(u.floating);return A!==j.width||b!==j.height?{reset:{rects:!0}}:{}}}};function tp(){return typeof window<"u"}function ql(n){return iI(n)?(n.nodeName||"").toLowerCase():"#document"}function fr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ds(n){var e;return(e=(iI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function iI(n){return tp()?n instanceof Node||n instanceof fr(n).Node:!1}function ns(n){return tp()?n instanceof Element||n instanceof fr(n).Element:!1}function Ps(n){return tp()?n instanceof HTMLElement||n instanceof fr(n).HTMLElement:!1}function IE(n){return!tp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof fr(n).ShadowRoot}const i3=new Set(["inline","contents"]);function Ou(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=rs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!i3.has(o)}const a3=new Set(["table","td","th"]);function l3(n){return a3.has(ql(n))}const c3=[":popover-open",":modal"];function np(n){return c3.some(e=>{try{return n.matches(e)}catch{return!1}})}const u3=["transform","translate","scale","rotate","perspective"],d3=["transform","translate","scale","rotate","perspective","filter"],f3=["paint","layout","strict","content"];function Oy(n){const e=jy(),t=ns(n)?rs(n):n;return u3.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||d3.some(r=>(t.willChange||"").includes(r))||f3.some(r=>(t.contain||"").includes(r))}function h3(n){let e=yi(n);for(;Ps(e)&&!kl(e);){if(Oy(e))return e;if(np(e))return null;e=yi(e)}return null}function jy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p3=new Set(["html","body","#document"]);function kl(n){return p3.has(ql(n))}function rs(n){return fr(n).getComputedStyle(n)}function rp(n){return ns(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function yi(n){if(ql(n)==="html")return n;const e=n.assignedSlot||n.parentNode||IE(n)&&n.host||Ds(n);return IE(e)?e.host:e}function aI(n){const e=yi(n);return kl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ps(e)&&Ou(e)?e:aI(e)}function fu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=aI(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),l=fr(o);if(a){const u=ev(l);return e.concat(l,l.visualViewport||[],Ou(o)?o:[],u&&t?fu(u):[])}return e.concat(o,fu(o,[],t))}function ev(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function lI(n){const e=rs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Ps(n),a=o?n.offsetWidth:t,l=o?n.offsetHeight:r,u=ah(t)!==a||ah(r)!==l;return u&&(t=a,r=l),{width:t,height:r,$:u}}function My(n){return ns(n)?n:n.contextElement}function xl(n){const e=My(n);if(!Ps(e))return Rs(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=lI(e);let l=(a?ah(t.width):t.width)/r,u=(a?ah(t.height):t.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const m3=Rs(0);function cI(n){const e=fr(n);return!jy()||!e.visualViewport?m3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function g3(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==fr(n)?!1:e}function ya(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=My(n);let l=Rs(1);e&&(r?ns(r)&&(l=xl(r)):l=xl(n));const u=g3(a,t,r)?cI(a):Rs(0);let f=(o.left+u.x)/l.x,m=(o.top+u.y)/l.y,y=o.width/l.x,g=o.height/l.y;if(a){const E=fr(a),T=r&&ns(r)?fr(r):r;let A=E,b=ev(A);for(;b&&r&&T!==A;){const R=xl(b),O=b.getBoundingClientRect(),M=rs(b),U=O.left+(b.clientLeft+parseFloat(M.paddingLeft))*R.x,H=O.top+(b.clientTop+parseFloat(M.paddingTop))*R.y;f*=R.x,m*=R.y,y*=R.x,g*=R.y,f+=U,m+=H,A=fr(b),b=ev(A)}}return ch({width:y,height:g,x:f,y:m})}function sp(n,e){const t=rp(n).scrollLeft;return e?e.left+t:ya(Ds(n)).left+t}function uI(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-sp(n,t),o=t.top+e.scrollTop;return{x:r,y:o}}function v3(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",l=Ds(r),u=e?np(e.floating):!1;if(r===l||u&&a)return t;let f={scrollLeft:0,scrollTop:0},m=Rs(1);const y=Rs(0),g=Ps(r);if((g||!g&&!a)&&((ql(r)!=="body"||Ou(l))&&(f=rp(r)),Ps(r))){const T=ya(r);m=xl(r),y.x=T.x+r.clientLeft,y.y=T.y+r.clientTop}const E=l&&!g&&!a?uI(l,f):Rs(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+y.x+E.x,y:t.y*m.y-f.scrollTop*m.y+y.y+E.y}}function y3(n){return Array.from(n.getClientRects())}function w3(n){const e=Ds(n),t=rp(n),r=n.ownerDocument.body,o=cr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=cr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+sp(n);const u=-t.scrollTop;return rs(r).direction==="rtl"&&(l+=cr(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:l,y:u}}const CE=25;function _3(n,e){const t=fr(n),r=Ds(n),o=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,f=0;if(o){a=o.width,l=o.height;const y=jy();(!y||y&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}const m=sp(r);if(m<=0){const y=r.ownerDocument,g=y.body,E=getComputedStyle(g),T=y.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,A=Math.abs(r.clientWidth-g.clientWidth-T);A<=CE&&(a-=A)}else m<=CE&&(a+=m);return{width:a,height:l,x:u,y:f}}const x3=new Set(["absolute","fixed"]);function E3(n,e){const t=ya(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=Ps(n)?xl(n):Rs(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,f=o*a.x,m=r*a.y;return{width:l,height:u,x:f,y:m}}function RE(n,e,t){let r;if(e==="viewport")r=_3(n,t);else if(e==="document")r=w3(Ds(n));else if(ns(e))r=E3(e,t);else{const o=cI(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return ch(r)}function dI(n,e){const t=yi(n);return t===e||!ns(t)||kl(t)?!1:rs(t).position==="fixed"||dI(t,e)}function S3(n,e){const t=e.get(n);if(t)return t;let r=fu(n,[],!1).filter(u=>ns(u)&&ql(u)!=="body"),o=null;const a=rs(n).position==="fixed";let l=a?yi(n):n;for(;ns(l)&&!kl(l);){const u=rs(l),f=Oy(l);!f&&u.position==="fixed"&&(o=null),(a?!f&&!o:!f&&u.position==="static"&&!!o&&x3.has(o.position)||Ou(l)&&!f&&dI(n,l))?r=r.filter(y=>y!==l):o=u,l=yi(l)}return e.set(n,r),r}function T3(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const l=[...t==="clippingAncestors"?np(e)?[]:S3(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((m,y)=>{const g=RE(e,y,o);return m.top=cr(g.top,m.top),m.right=vi(g.right,m.right),m.bottom=vi(g.bottom,m.bottom),m.left=cr(g.left,m.left),m},RE(e,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function b3(n){const{width:e,height:t}=lI(n);return{width:e,height:t}}function I3(n,e,t){const r=Ps(e),o=Ds(e),a=t==="fixed",l=ya(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=Rs(0);function m(){f.x=sp(o)}if(r||!r&&!a)if((ql(e)!=="body"||Ou(o))&&(u=rp(e)),r){const T=ya(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else o&&m();a&&!r&&o&&m();const y=o&&!r&&!a?uI(o,u):Rs(0),g=l.left+u.scrollLeft-f.x-y.x,E=l.top+u.scrollTop-f.y-y.y;return{x:g,y:E,width:l.width,height:l.height}}function gg(n){return rs(n).position==="static"}function AE(n,e){if(!Ps(n)||rs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ds(n)===t&&(t=t.ownerDocument.body),t}function fI(n,e){const t=fr(n);if(np(n))return t;if(!Ps(n)){let o=yi(n);for(;o&&!kl(o);){if(ns(o)&&!gg(o))return o;o=yi(o)}return t}let r=AE(n,e);for(;r&&l3(r)&&gg(r);)r=AE(r,e);return r&&kl(r)&&gg(r)&&!Oy(r)?t:r||h3(n)||t}const C3=async function(n){const e=this.getOffsetParent||fI,t=this.getDimensions,r=await t(n.floating);return{reference:I3(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function R3(n){return rs(n).direction==="rtl"}const A3={convertOffsetParentRelativeRectToViewportRelativeRect:v3,getDocumentElement:Ds,getClippingRect:T3,getOffsetParent:fI,getElementRects:C3,getClientRects:y3,getDimensions:b3,getScale:xl,isElement:ns,isRTL:R3};function hI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function P3(n,e){let t=null,r;const o=Ds(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:y,top:g,width:E,height:T}=m;if(u||e(),!E||!T)return;const A=pf(g),b=pf(o.clientWidth-(y+E)),R=pf(o.clientHeight-(g+T)),O=pf(y),U={rootMargin:-A+"px "+-b+"px "+-R+"px "+-O+"px",threshold:cr(0,vi(1,f))||1};let H=!0;function Q(te){const D=te[0].intersectionRatio;if(D!==f){if(!H)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!hI(m,n.getBoundingClientRect())&&l(),H=!1}try{t=new IntersectionObserver(Q,{...U,root:o.ownerDocument})}catch{t=new IntersectionObserver(Q,U)}t.observe(n)}return l(!0),a}function k3(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=My(n),y=o||a?[...m?fu(m):[],...fu(e)]:[];y.forEach(O=>{o&&O.addEventListener("scroll",t,{passive:!0}),a&&O.addEventListener("resize",t)});const g=m&&u?P3(m,t):null;let E=-1,T=null;l&&(T=new ResizeObserver(O=>{let[M]=O;M&&M.target===m&&T&&(T.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var U;(U=T)==null||U.observe(e)})),t()}),m&&!f&&T.observe(m),T.observe(e));let A,b=f?ya(n):null;f&&R();function R(){const O=ya(n);b&&!hI(b,O)&&t(),b=O,A=requestAnimationFrame(R)}return t(),()=>{var O;y.forEach(M=>{o&&M.removeEventListener("scroll",t),a&&M.removeEventListener("resize",t)}),g?.(),(O=T)==null||O.disconnect(),T=null,f&&cancelAnimationFrame(A)}}const N3=n3,D3=r3,O3=Z5,j3=o3,M3=e3,PE=J5,L3=s3,V3=(n,e,t)=>{const r=new Map,o={platform:A3,...t},a={...o.platform,_c:r};return X5(n,e,{...o,platform:a})};var F3=typeof document<"u",U3=function(){},Af=F3?w.useLayoutEffect:U3;function uh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!uh(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!uh(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function pI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function kE(n,e){const t=pI(n);return Math.round(e*t)/t}function vg(n){const e=w.useRef(n);return Af(()=>{e.current=n}),e}function $3(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:m}=n,[y,g]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,T]=w.useState(r);uh(E,r)||T(r);const[A,b]=w.useState(null),[R,O]=w.useState(null),M=w.useCallback(N=>{N!==te.current&&(te.current=N,b(N))},[]),U=w.useCallback(N=>{N!==D.current&&(D.current=N,O(N))},[]),H=a||A,Q=l||R,te=w.useRef(null),D=w.useRef(null),C=w.useRef(y),j=f!=null,L=vg(f),F=vg(o),z=vg(m),P=w.useCallback(()=>{if(!te.current||!D.current)return;const N={placement:e,strategy:t,middleware:E};F.current&&(N.platform=F.current),V3(te.current,D.current,N).then(G=>{const oe={...G,isPositioned:z.current!==!1};q.current&&!uh(C.current,oe)&&(C.current=oe,yu.flushSync(()=>{g(oe)}))})},[E,e,t,F,z]);Af(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(N=>({...N,isPositioned:!1})))},[m]);const q=w.useRef(!1);Af(()=>(q.current=!0,()=>{q.current=!1}),[]),Af(()=>{if(H&&(te.current=H),Q&&(D.current=Q),H&&Q){if(L.current)return L.current(H,Q,P);P()}},[H,Q,P,L,j]);const le=w.useMemo(()=>({reference:te,floating:D,setReference:M,setFloating:U}),[M,U]),K=w.useMemo(()=>({reference:H,floating:Q}),[H,Q]),J=w.useMemo(()=>{const N={position:t,left:0,top:0};if(!K.floating)return N;const G=kE(K.floating,y.x),oe=kE(K.floating,y.y);return u?{...N,transform:"translate("+G+"px, "+oe+"px)",...pI(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:G,top:oe}},[t,u,K.floating,y.x,y.y]);return w.useMemo(()=>({...y,update:P,refs:le,elements:K,floatingStyles:J}),[y,P,le,K,J])}const z3=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?PE({element:r.current,padding:o}).fn(t):{}:r?PE({element:r,padding:o}).fn(t):{}}}},B3=(n,e)=>({...N3(n),options:[n,e]}),H3=(n,e)=>({...D3(n),options:[n,e]}),W3=(n,e)=>({...L3(n),options:[n,e]}),q3=(n,e)=>({...O3(n),options:[n,e]}),G3=(n,e)=>({...j3(n),options:[n,e]}),K3=(n,e)=>({...M3(n),options:[n,e]}),Q3=(n,e)=>({...z3(n),options:[n,e]});var Y3="Arrow",mI=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return p.jsx(Ye.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});mI.displayName=Y3;var X3=mI;function J3(n){const[e,t]=w.useState(void 0);return tn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;l=m.inlineSize,u=m.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Ly="Popper",[gI,op]=yo(Ly),[Z3,vI]=gI(Ly),yI=n=>{const{__scopePopper:e,children:t}=n,[r,o]=w.useState(null);return p.jsx(Z3,{scope:e,anchor:r,onAnchorChange:o,children:t})};yI.displayName=Ly;var wI="PopperAnchor",_I=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=vI(wI,t),l=w.useRef(null),u=ht(e,l),f=w.useRef(null);return w.useEffect(()=>{const m=f.current;f.current=r?.current||l.current,m!==f.current&&a.onAnchorChange(f.current)}),r?null:p.jsx(Ye.div,{...o,ref:u})});_I.displayName=wI;var Vy="PopperContent",[e6,t6]=gI(Vy),xI=w.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:E=!1,updatePositionStrategy:T="optimized",onPlaced:A,...b}=n,R=vI(Vy,t),[O,M]=w.useState(null),U=ht(e,ie=>M(ie)),[H,Q]=w.useState(null),te=J3(H),D=te?.width??0,C=te?.height??0,j=r+(a!=="center"?"-"+a:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},F=Array.isArray(m)?m:[m],z=F.length>0,P={padding:L,boundary:F.filter(r6),altBoundary:z},{refs:q,floatingStyles:le,placement:K,isPositioned:J,middlewareData:N}=$3({strategy:"fixed",placement:j,whileElementsMounted:(...ie)=>k3(...ie,{animationFrame:T==="always"}),elements:{reference:R.anchor},middleware:[B3({mainAxis:o+C,alignmentAxis:l}),f&&H3({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?W3():void 0,...P}),f&&q3({...P}),G3({...P,apply:({elements:ie,rects:ge,availableWidth:De,availableHeight:Oe})=>{const{width:He,height:qe}=ge.reference,It=ie.floating.style;It.setProperty("--radix-popper-available-width",`${De}px`),It.setProperty("--radix-popper-available-height",`${Oe}px`),It.setProperty("--radix-popper-anchor-width",`${He}px`),It.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),H&&Q3({element:H,padding:u}),s6({arrowWidth:D,arrowHeight:C}),E&&K3({strategy:"referenceHidden",...P})]}),[G,oe]=TI(K),$=es(A);tn(()=>{J&&$?.()},[J,$]);const Z=N.arrow?.x,re=N.arrow?.y,fe=N.arrow?.centerOffset!==0,[ye,Se]=w.useState();return tn(()=>{O&&Se(window.getComputedStyle(O).zIndex)},[O]),p.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:J?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[N.transformOrigin?.x,N.transformOrigin?.y].join(" "),...N.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(e6,{scope:t,placedSide:G,onArrowChange:Q,arrowX:Z,arrowY:re,shouldHideArrow:fe,children:p.jsx(Ye.div,{"data-side":G,"data-align":oe,...b,ref:U,style:{...b.style,animation:J?void 0:"none"}})})})});xI.displayName=Vy;var EI="PopperArrow",n6={top:"bottom",right:"left",bottom:"top",left:"right"},SI=w.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=t6(EI,r),l=n6[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(X3,{...o,ref:t,style:{...o.style,display:"block"}})})});SI.displayName=EI;function r6(n){return n!==null}var s6=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:o}=e,l=o.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[m,y]=TI(t),g={start:"0%",center:"50%",end:"100%"}[y],E=(o.arrow?.x??0)+u/2,T=(o.arrow?.y??0)+f/2;let A="",b="";return m==="bottom"?(A=l?g:`${E}px`,b=`${-f}px`):m==="top"?(A=l?g:`${E}px`,b=`${r.floating.height+f}px`):m==="right"?(A=`${-f}px`,b=l?g:`${T}px`):m==="left"&&(A=`${r.floating.width+f}px`,b=l?g:`${T}px`),{data:{x:A,y:b}}}});function TI(n){const[e,t="center"]=n.split("-");return[e,t]}var bI=yI,II=_I,CI=xI,RI=SI;function o6(n){const e=i6(n),t=w.forwardRef((r,o)=>{const{children:a,...l}=r,u=w.Children.toArray(a),f=u.find(l6);if(f){const m=f.props.children,y=u.map(g=>g===f?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return p.jsx(e,{...l,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,y):null})}return p.jsx(e,{...l,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function i6(n){const e=w.forwardRef((t,r)=>{const{children:o,...a}=t;if(w.isValidElement(o)){const l=u6(o),u=c6(a,o.props);return o.type!==w.Fragment&&(u.ref=r?vo(r,l):l),w.cloneElement(o,u)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var a6=Symbol("radix.slottable");function l6(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===a6}function c6(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...u)=>{const f=a(...u);return o(...u),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function u6(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function d6(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var AI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f6="VisuallyHidden",h6=w.forwardRef((n,e)=>p.jsx(Ye.span,{...n,ref:e,style:{...AI,...n.style}}));h6.displayName=f6;var p6=[" ","Enter","ArrowUp","ArrowDown"],m6=[" ","Enter"],wa="Select",[ip,ap,g6]=gv(wa),[Gl]=yo(wa,[g6,op]),lp=op(),[v6,Ei]=Gl(wa),[y6,w6]=Gl(wa),PI=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:a,value:l,defaultValue:u,onValueChange:f,dir:m,name:y,autoComplete:g,disabled:E,required:T,form:A}=n,b=lp(e),[R,O]=w.useState(null),[M,U]=w.useState(null),[H,Q]=w.useState(!1),te=wh(m),[D,C]=Sl({prop:r,defaultProp:o??!1,onChange:a,caller:wa}),[j,L]=Sl({prop:l,defaultProp:u,onChange:f,caller:wa}),F=w.useRef(null),z=R?A||!!R.closest("form"):!0,[P,q]=w.useState(new Set),le=Array.from(P).map(K=>K.props.value).join(";");return p.jsx(bI,{...b,children:p.jsxs(v6,{required:T,scope:e,trigger:R,onTriggerChange:O,valueNode:M,onValueNodeChange:U,valueNodeHasChildren:H,onValueNodeHasChildrenChange:Q,contentId:xs(),value:j,onValueChange:L,open:D,onOpenChange:C,dir:te,triggerPointerDownPosRef:F,disabled:E,children:[p.jsx(ip.Provider,{scope:e,children:p.jsx(y6,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(K=>{q(J=>new Set(J).add(K))},[]),onNativeOptionRemove:w.useCallback(K=>{q(J=>{const N=new Set(J);return N.delete(K),N})},[]),children:t})}),z?p.jsxs(JI,{"aria-hidden":!0,required:T,tabIndex:-1,name:y,autoComplete:g,value:j,onChange:K=>L(K.target.value),disabled:E,form:A,children:[j===void 0?p.jsx("option",{value:""}):null,Array.from(P)]},le):null]})})};PI.displayName=wa;var kI="SelectTrigger",NI=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,a=lp(t),l=Ei(kI,t),u=l.disabled||r,f=ht(e,l.onTriggerChange),m=ap(t),y=w.useRef("touch"),[g,E,T]=eC(b=>{const R=m().filter(U=>!U.disabled),O=R.find(U=>U.value===l.value),M=tC(R,b,O);M!==void 0&&l.onValueChange(M.value)}),A=b=>{u||(l.onOpenChange(!0),T()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return p.jsx(II,{asChild:!0,...a,children:p.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":ZI(l.value)?"":void 0,...o,ref:f,onClick:ke(o.onClick,b=>{b.currentTarget.focus(),y.current!=="mouse"&&A(b)}),onPointerDown:ke(o.onPointerDown,b=>{y.current=b.pointerType;const R=b.target;R.hasPointerCapture(b.pointerId)&&R.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(A(b),b.preventDefault())}),onKeyDown:ke(o.onKeyDown,b=>{const R=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&E(b.key),!(R&&b.key===" ")&&p6.includes(b.key)&&(A(),b.preventDefault())})})})});NI.displayName=kI;var DI="SelectValue",OI=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:a,placeholder:l="",...u}=n,f=Ei(DI,t),{onValueNodeHasChildrenChange:m}=f,y=a!==void 0,g=ht(e,f.onValueNodeChange);return tn(()=>{m(y)},[m,y]),p.jsx(Ye.span,{...u,ref:g,style:{pointerEvents:"none"},children:ZI(f.value)?p.jsx(p.Fragment,{children:l}):a})});OI.displayName=DI;var _6="SelectIcon",jI=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return p.jsx(Ye.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});jI.displayName=_6;var x6="SelectPortal",MI=n=>p.jsx(Th,{asChild:!0,...n});MI.displayName=x6;var _a="SelectContent",LI=w.forwardRef((n,e)=>{const t=Ei(_a,n.__scopeSelect),[r,o]=w.useState();if(tn(()=>{o(new DocumentFragment)},[]),!t.open){const a=r;return a?yu.createPortal(p.jsx(VI,{scope:n.__scopeSelect,children:p.jsx(ip.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),a):null}return p.jsx(FI,{...n,ref:e})});LI.displayName=_a;var Kr=10,[VI,Si]=Gl(_a),E6="SelectContentImpl",S6=o6("SelectContent.RemoveScroll"),FI=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:f,align:m,alignOffset:y,arrowPadding:g,collisionBoundary:E,collisionPadding:T,sticky:A,hideWhenDetached:b,avoidCollisions:R,...O}=n,M=Ei(_a,t),[U,H]=w.useState(null),[Q,te]=w.useState(null),D=ht(e,ie=>H(ie)),[C,j]=w.useState(null),[L,F]=w.useState(null),z=ap(t),[P,q]=w.useState(!1),le=w.useRef(!1);w.useEffect(()=>{if(U)return xv(U)},[U]),_v();const K=w.useCallback(ie=>{const[ge,...De]=z().map(qe=>qe.ref.current),[Oe]=De.slice(-1),He=document.activeElement;for(const qe of ie)if(qe===He||(qe?.scrollIntoView({block:"nearest"}),qe===ge&&Q&&(Q.scrollTop=0),qe===Oe&&Q&&(Q.scrollTop=Q.scrollHeight),qe?.focus(),document.activeElement!==He))return},[z,Q]),J=w.useCallback(()=>K([C,U]),[K,C,U]);w.useEffect(()=>{P&&J()},[P,J]);const{onOpenChange:N,triggerPointerDownPosRef:G}=M;w.useEffect(()=>{if(U){let ie={x:0,y:0};const ge=Oe=>{ie={x:Math.abs(Math.round(Oe.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(G.current?.y??0))}},De=Oe=>{ie.x<=10&&ie.y<=10?Oe.preventDefault():U.contains(Oe.target)||N(!1),document.removeEventListener("pointermove",ge),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",De,{capture:!0})}}},[U,N,G]),w.useEffect(()=>{const ie=()=>N(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[N]);const[oe,$]=eC(ie=>{const ge=z().filter(He=>!He.disabled),De=ge.find(He=>He.ref.current===document.activeElement),Oe=tC(ge,ie,De);Oe&&setTimeout(()=>Oe.ref.current.focus())}),Z=w.useCallback((ie,ge,De)=>{const Oe=!le.current&&!De;(M.value!==void 0&&M.value===ge||Oe)&&(j(ie),Oe&&(le.current=!0))},[M.value]),re=w.useCallback(()=>U?.focus(),[U]),fe=w.useCallback((ie,ge,De)=>{const Oe=!le.current&&!De;(M.value!==void 0&&M.value===ge||Oe)&&F(ie)},[M.value]),ye=r==="popper"?tv:UI,Se=ye===tv?{side:u,sideOffset:f,align:m,alignOffset:y,arrowPadding:g,collisionBoundary:E,collisionPadding:T,sticky:A,hideWhenDetached:b,avoidCollisions:R}:{};return p.jsx(VI,{scope:t,content:U,viewport:Q,onViewportChange:te,itemRefCallback:Z,selectedItem:C,onItemLeave:re,itemTextRefCallback:fe,focusSelectedItem:J,selectedItemText:L,position:r,isPositioned:P,searchRef:oe,children:p.jsx(Ih,{as:S6,allowPinchZoom:!0,children:p.jsx(Sh,{asChild:!0,trapped:M.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:ke(o,ie=>{M.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:p.jsx(Eh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:p.jsx(ye,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:ie=>ie.preventDefault(),...O,...Se,onPlaced:()=>q(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:ke(O.onKeyDown,ie=>{const ge=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ge&&ie.key.length===1&&$(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Oe=z().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const He=ie.target,qe=Oe.indexOf(He);Oe=Oe.slice(qe+1)}setTimeout(()=>K(Oe)),ie.preventDefault()}})})})})})})});FI.displayName=E6;var T6="SelectItemAlignedPosition",UI=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,a=Ei(_a,t),l=Si(_a,t),[u,f]=w.useState(null),[m,y]=w.useState(null),g=ht(e,D=>y(D)),E=ap(t),T=w.useRef(!1),A=w.useRef(!0),{viewport:b,selectedItem:R,selectedItemText:O,focusSelectedItem:M}=l,U=w.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&m&&b&&R&&O){const D=a.trigger.getBoundingClientRect(),C=m.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),L=O.getBoundingClientRect();if(a.dir!=="rtl"){const He=L.left-C.left,qe=j.left-He,It=D.left-qe,Ht=D.width+It,hr=Math.max(Ht,C.width),pr=window.innerWidth-Kr,Cn=_E(qe,[Kr,Math.max(Kr,pr-hr)]);u.style.minWidth=Ht+"px",u.style.left=Cn+"px"}else{const He=C.right-L.right,qe=window.innerWidth-j.right-He,It=window.innerWidth-D.right-qe,Ht=D.width+It,hr=Math.max(Ht,C.width),pr=window.innerWidth-Kr,Cn=_E(qe,[Kr,Math.max(Kr,pr-hr)]);u.style.minWidth=Ht+"px",u.style.right=Cn+"px"}const F=E(),z=window.innerHeight-Kr*2,P=b.scrollHeight,q=window.getComputedStyle(m),le=parseInt(q.borderTopWidth,10),K=parseInt(q.paddingTop,10),J=parseInt(q.borderBottomWidth,10),N=parseInt(q.paddingBottom,10),G=le+K+P+N+J,oe=Math.min(R.offsetHeight*5,G),$=window.getComputedStyle(b),Z=parseInt($.paddingTop,10),re=parseInt($.paddingBottom,10),fe=D.top+D.height/2-Kr,ye=z-fe,Se=R.offsetHeight/2,ie=R.offsetTop+Se,ge=le+K+ie,De=G-ge;if(ge<=fe){const He=F.length>0&&R===F[F.length-1].ref.current;u.style.bottom="0px";const qe=m.clientHeight-b.offsetTop-b.offsetHeight,It=Math.max(ye,Se+(He?re:0)+qe+J),Ht=ge+It;u.style.height=Ht+"px"}else{const He=F.length>0&&R===F[0].ref.current;u.style.top="0px";const It=Math.max(fe,le+b.offsetTop+(He?Z:0)+Se)+De;u.style.height=It+"px",b.scrollTop=ge-fe+b.offsetTop}u.style.margin=`${Kr}px 0`,u.style.minHeight=oe+"px",u.style.maxHeight=z+"px",r?.(),requestAnimationFrame(()=>T.current=!0)}},[E,a.trigger,a.valueNode,u,m,b,R,O,a.dir,r]);tn(()=>U(),[U]);const[H,Q]=w.useState();tn(()=>{m&&Q(window.getComputedStyle(m).zIndex)},[m]);const te=w.useCallback(D=>{D&&A.current===!0&&(U(),M?.(),A.current=!1)},[U,M]);return p.jsx(I6,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:te,children:p.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:p.jsx(Ye.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});UI.displayName=T6;var b6="SelectPopperPosition",tv=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=Kr,...a}=n,l=lp(t);return p.jsx(CI,{...l,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tv.displayName=b6;var[I6,Fy]=Gl(_a,{}),nv="SelectViewport",$I=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,a=Si(nv,t),l=Fy(nv,t),u=ht(e,a.onViewportChange),f=w.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(ip.Slot,{scope:t,children:p.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ke(o.onScroll,m=>{const y=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:E}=l;if(E?.current&&g){const T=Math.abs(f.current-y.scrollTop);if(T>0){const A=window.innerHeight-Kr*2,b=parseFloat(g.style.minHeight),R=parseFloat(g.style.height),O=Math.max(b,R);if(O<A){const M=O+T,U=Math.min(A,M),H=M-U;g.style.height=U+"px",g.style.bottom==="0px"&&(y.scrollTop=H>0?H:0,g.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});$I.displayName=nv;var zI="SelectGroup",[C6,R6]=Gl(zI),A6=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=xs();return p.jsx(C6,{scope:t,id:o,children:p.jsx(Ye.div,{role:"group","aria-labelledby":o,...r,ref:e})})});A6.displayName=zI;var BI="SelectLabel",P6=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=R6(BI,t);return p.jsx(Ye.div,{id:o.id,...r,ref:e})});P6.displayName=BI;var dh="SelectItem",[k6,HI]=Gl(dh),WI=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:a,...l}=n,u=Ei(dh,t),f=Si(dh,t),m=u.value===r,[y,g]=w.useState(a??""),[E,T]=w.useState(!1),A=ht(e,M=>f.itemRefCallback?.(M,r,o)),b=xs(),R=w.useRef("touch"),O=()=>{o||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(k6,{scope:t,value:r,disabled:o,textId:b,isSelected:m,onItemTextChange:w.useCallback(M=>{g(U=>U||(M?.textContent??"").trim())},[]),children:p.jsx(ip.ItemSlot,{scope:t,value:r,disabled:o,textValue:y,children:p.jsx(Ye.div,{role:"option","aria-labelledby":b,"data-highlighted":E?"":void 0,"aria-selected":m&&E,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:A,onFocus:ke(l.onFocus,()=>T(!0)),onBlur:ke(l.onBlur,()=>T(!1)),onClick:ke(l.onClick,()=>{R.current!=="mouse"&&O()}),onPointerUp:ke(l.onPointerUp,()=>{R.current==="mouse"&&O()}),onPointerDown:ke(l.onPointerDown,M=>{R.current=M.pointerType}),onPointerMove:ke(l.onPointerMove,M=>{R.current=M.pointerType,o?f.onItemLeave?.():R.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(l.onPointerLeave,M=>{M.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:ke(l.onKeyDown,M=>{f.searchRef?.current!==""&&M.key===" "||(m6.includes(M.key)&&O(),M.key===" "&&M.preventDefault())})})})})});WI.displayName=dh;var Fc="SelectItemText",qI=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...a}=n,l=Ei(Fc,t),u=Si(Fc,t),f=HI(Fc,t),m=w6(Fc,t),[y,g]=w.useState(null),E=ht(e,O=>g(O),f.onItemTextChange,O=>u.itemTextRefCallback?.(O,f.value,f.disabled)),T=y?.textContent,A=w.useMemo(()=>p.jsx("option",{value:f.value,disabled:f.disabled,children:T},f.value),[f.disabled,f.value,T]),{onNativeOptionAdd:b,onNativeOptionRemove:R}=m;return tn(()=>(b(A),()=>R(A)),[b,R,A]),p.jsxs(p.Fragment,{children:[p.jsx(Ye.span,{id:f.textId,...a,ref:E}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?yu.createPortal(a.children,l.valueNode):null]})});qI.displayName=Fc;var GI="SelectItemIndicator",KI=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return HI(GI,t).isSelected?p.jsx(Ye.span,{"aria-hidden":!0,...r,ref:e}):null});KI.displayName=GI;var rv="SelectScrollUpButton",QI=w.forwardRef((n,e)=>{const t=Si(rv,n.__scopeSelect),r=Fy(rv,n.__scopeSelect),[o,a]=w.useState(!1),l=ht(e,r.onScrollButtonChange);return tn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const m=f.scrollTop>0;a(m)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),o?p.jsx(XI,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});QI.displayName=rv;var sv="SelectScrollDownButton",YI=w.forwardRef((n,e)=>{const t=Si(sv,n.__scopeSelect),r=Fy(sv,n.__scopeSelect),[o,a]=w.useState(!1),l=ht(e,r.onScrollButtonChange);return tn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const m=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<m;a(y)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),o?p.jsx(XI,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});YI.displayName=sv;var XI=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,a=Si("SelectScrollButton",t),l=w.useRef(null),u=ap(t),f=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>f(),[f]),tn(()=>{u().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),p.jsx(Ye.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:ke(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:ke(o.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:ke(o.onPointerLeave,()=>{f()})})}),N6="SelectSeparator",D6=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return p.jsx(Ye.div,{"aria-hidden":!0,...r,ref:e})});D6.displayName=N6;var ov="SelectArrow",O6=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=lp(t),a=Ei(ov,t),l=Si(ov,t);return a.open&&l.position==="popper"?p.jsx(RI,{...o,...r,ref:e}):null});O6.displayName=ov;var j6="SelectBubbleInput",JI=w.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=w.useRef(null),a=ht(r,o),l=d6(e);return w.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&y){const g=new Event("change",{bubbles:!0});y.call(u,e),u.dispatchEvent(g)}},[l,e]),p.jsx(Ye.select,{...t,style:{...AI,...t.style},ref:a,defaultValue:e})});JI.displayName=j6;function ZI(n){return n===""||n===void 0}function eC(n){const e=es(n),t=w.useRef(""),r=w.useRef(0),o=w.useCallback(l=>{const u=t.current+l;e(u),(function f(m){t.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(u)},[e]),a=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,a]}function tC(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=M6(n,Math.max(a,0));o.length===1&&(l=l.filter(m=>m!==t));const f=l.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function M6(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var L6=PI,V6=NI,F6=OI,U6=jI,$6=MI,z6=LI,B6=$I,H6=WI,W6=qI,q6=KI,G6=QI,K6=YI;function Kc({...n}){return p.jsx(L6,{"data-slot":"select",...n})}function Qc({...n}){return p.jsx(F6,{"data-slot":"select-value",...n})}function Yc({className:n,size:e="default",children:t,...r}){return p.jsxs(V6,{"data-slot":"select-trigger","data-size":e,className:We("border-input dark:bg-input/30 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none","data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground dark:hover:bg-input/50","focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive focus-visible:ring-[3px]","disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8","*:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,p.jsx(U6,{asChild:!0,children:p.jsx(mT,{className:"size-4 opacity-50"})})]})}function Xc({className:n,children:e,position:t="popper",...r}){return p.jsx($6,{children:p.jsxs(z6,{"data-slot":"select-content",className:We("bg-popover text-popover-foreground relative z-50 min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md max-h-(--radix-select-content-available-height)","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[p.jsx(Q6,{}),p.jsx(B6,{className:We("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(Y6,{})]})})}function lr({className:n,children:e,...t}){return p.jsxs(H6,{"data-slot":"select-item",className:We("focus:bg-accent focus:text-accent-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none","data-[disabled]:pointer-events-none data-[disabled]:opacity-50","[&_svg:not([class*='text'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(q6,{children:p.jsx(B2,{className:"size-4"})})}),p.jsx(W6,{children:e})]})}function Q6({className:n,...e}){return p.jsx(G6,{"data-slot":"select-scroll-up-button",className:We("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(q2,{className:"size-4"})})}function Y6({className:n,...e}){return p.jsx(K6,{"data-slot":"select-scroll-down-button",className:We("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(mT,{className:"size-4"})})}const X6=oS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Uc({className:n,variant:e,asChild:t=!1,...r}){const o=t?nS:"span";return p.jsx(o,{"data-slot":"badge",className:We(X6({variant:e}),n),...r})}function J6({userName:n,userProfilePicture:e,onSearch:t,onLogout:r,notificationsCount:o=0,isAdmin:a=!1}){const[l,u]=w.useState(""),[f,m]=w.useState("users"),y=cv(),g=wi(),E=A=>{A.preventDefault(),l.trim()&&(t(l.trim(),f),u(""))},T=A=>g.pathname===A;return p.jsx("header",{className:"sticky top-0 z-50 bg-gradient-to-r from-orange-500 to-amber-500 shadow-lg",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>y("/"),children:[p.jsx("div",{className:"bg-white p-2 rounded-full",children:p.jsx(Rv,{className:"h-6 w-6 text-orange-500"})}),p.jsx("span",{className:"text-white hidden sm:block",children:"PetConnect"})]}),p.jsxs("form",{onSubmit:E,className:"flex-1 max-w-md flex gap-2",children:[p.jsxs(Kc,{value:f,onValueChange:A=>m(A),children:[p.jsx(Yc,{className:"w-32 bg-white/90 border-none",children:p.jsx(Qc,{})}),p.jsxs(Xc,{children:[p.jsx(lr,{value:"users",children:"Usuarios"}),p.jsx(lr,{value:"posts",children:"Posts"})]})]}),p.jsxs("div",{className:"relative flex-1",children:[p.jsx(yD,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),p.jsx(En,{type:"text",placeholder:f==="users"?"Buscar usuarios...":"Buscar publicaciones...",value:l,onChange:A=>u(A.target.value),className:"pl-10 bg-white/90 border-none focus:bg-white"})]})]}),p.jsxs("nav",{className:"flex items-center gap-2",children:[p.jsx(Ue,{variant:T("/")?"secondary":"ghost",size:"icon",onClick:()=>y("/"),className:T("/")?"":"text-white hover:bg-white/20",children:p.jsx(rD,{className:"h-5 w-5"})}),p.jsx(Ue,{variant:T("/following")?"secondary":"ghost",size:"icon",onClick:()=>y("/following"),className:T("/following")?"":"text-white hover:bg-white/20",title:"Siguiendo",children:p.jsx(Mf,{className:"h-5 w-5"})}),p.jsx(Ue,{variant:T("/discover")?"secondary":"ghost",size:"icon",onClick:()=>y("/discover"),className:T("/discover")?"":"text-white hover:bg-white/20",title:"Descubrir",children:p.jsx(bD,{className:"h-5 w-5"})}),p.jsxs("div",{className:"relative",children:[p.jsx(Ue,{variant:T("/notifications")?"secondary":"ghost",size:"icon",onClick:()=>y("/notifications"),className:T("/notifications")?"":"text-white hover:bg-white/20",children:p.jsx($2,{className:"h-5 w-5"})}),o>0&&p.jsx(Uc,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-red-500 text-white text-xs",children:o>9?"9+":o})]}),p.jsx(Ue,{variant:T(/^\/profile/)?"secondary":"ghost",size:"icon",onClick:()=>y("/profile/"),className:T(/^\/profile/)?"":"text-white hover:bg-white/20",children:p.jsx(jD,{className:"h-5 w-5"})}),p.jsx(Ue,{variant:T("/settings")?"secondary":"ghost",size:"icon",onClick:()=>y("/settings"),className:T("/settings")?"":"text-white hover:bg-white/20",title:"Configuracin",children:p.jsx(xD,{className:"h-5 w-5"})}),a&&p.jsx(Ue,{variant:T("/admin")?"secondary":"ghost",size:"icon",onClick:()=>y("/admin"),className:T("/admin")?"":"text-white hover:bg-white/20",title:"Panel de Administracin",children:p.jsx(Av,{className:"h-5 w-5"})}),p.jsx(Ue,{variant:"ghost",size:"icon",onClick:r,className:"text-white hover:bg-white/20",children:p.jsx(dD,{className:"h-5 w-5"})}),p.jsxs(Xr,{className:"h-9 w-9 border-2 border-white cursor-pointer",onClick:()=>y("/profile"),children:[e&&p.jsx(Cs,{src:e,alt:n}),p.jsx(Jr,{className:"bg-white text-orange-600",children:n.charAt(0)})]})]})]})})})}function Nl({className:n,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:We("flex field-sizing-content min-h-16 w-full rounded-md border px-3 py-2 text-base md:text-sm","bg-input-background border-input dark:bg-input/30","resize-none","placeholder:text-muted-foreground","transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:border-ring focus-visible:ring-ring/50","disabled:cursor-not-allowed disabled:opacity-50","aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40",n),...e})}function Z6({userName:n,userProfilePicture:e,onPostCreated:t}){const[r,o]=w.useState(""),[a,l]=w.useState(""),[u,f]=w.useState(""),[m,y]=w.useState("public"),[g,E]=w.useState(!1),[T,A]=w.useState(!1),b=async O=>{const M=O.target.files[0];if(!M)return;A(!0);const U=new FormData;U.append("file",M),U.append("upload_preset","petconnect_posts");try{const H=await fetch("https://api.cloudinary.com/v1_1/dz5kj8xph/image/upload",{method:"POST",body:U});if(!H.ok)throw new Error("Error al subir imagen");const Q=await H.json();l(Q.secure_url),be.success("Imagen subida correctamente")}catch(H){console.error("Error uploading image:",H),be.error("Error al subir la imagen")}finally{A(!1)}},R=async O=>{if(O.preventDefault(),!r.trim()&&!a&&!u){be.error("Agrega contenido, una imagen o un video");return}const U=Nh().currentUser;if(!U){be.error("Debes iniciar sesin para publicar");return}E(!0);try{await ci(Je(Ee,"posts"),{content:r.trim(),imageUrl:a||null,videoUrl:u||null,visibility:m,userId:U.uid,authorName:n,authorProfilePicture:e||null,createdAt:so(),likesCount:0,sharesCount:0,commentsCount:0}),be.success("Publicacin creada exitosamente"),o(""),l(""),f(""),y("public"),t?.()}catch(H){console.error("Error creando publicacin:",H),be.error("Error al crear la publicacin")}finally{E(!1)}};return p.jsx(lt,{className:"border-2 border-orange-200 bg-gradient-to-br from-orange-50 to-amber-50",children:p.jsx(ct,{className:"pt-6",children:p.jsx("form",{onSubmit:R,children:p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Xr,{className:"h-10 w-10 border-2 border-orange-300",children:e?p.jsx(Cs,{src:e,alt:n}):p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white",children:n.charAt(0)})}),p.jsxs("div",{className:"flex-1 space-y-3",children:[p.jsx(Nl,{placeholder:"Qu est haciendo tu mascota hoy?",value:r,onChange:O=>o(O.target.value),className:"min-h-[100px] resize-none border-orange-200 focus:border-orange-400 bg-white"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("input",{type:"file",id:"image-upload",accept:"image/*",className:"hidden",onChange:b,disabled:T}),p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsxs(Ue,{type:"button",variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50 whitespace-nowrap",onClick:()=>document.getElementById("image-upload").click(),disabled:T,children:[T?p.jsx(aD,{className:"h-4 w-4 mr-2 animate-spin"}):p.jsx(oD,{className:"h-4 w-4 mr-2"}),T?"Subiendo...":"Subir Foto"]}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"o"}),p.jsx("input",{type:"text",placeholder:"Pegar URL de imagen...",value:a,onChange:O=>l(O.target.value),className:"flex-1 text-sm border border-orange-200 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400",disabled:T})]}),a&&p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:a,alt:"Preview",className:"w-full rounded-lg max-h-60 object-cover"}),p.jsx(Ue,{type:"button",size:"icon",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>l(""),children:p.jsx(Tg,{className:"h-4 w-4"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("input",{type:"text",placeholder:"Link del video",value:u,onChange:O=>f(O.target.value),className:"w-full border border-orange-200 rounded px-2 py-1"}),u&&p.jsxs("div",{className:"relative",children:[p.jsx("video",{src:u,controls:!0,className:"w-full rounded-lg max-h-60"}),p.jsx(Ue,{type:"button",size:"icon",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>f(""),children:p.jsx(Tg,{className:"h-4 w-4"})})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[p.jsxs(Kc,{value:m,onValueChange:y,children:[p.jsx(Yc,{className:"w-32 border-orange-200",children:p.jsx(Qc,{})}),p.jsxs(Xc,{children:[p.jsx(lr,{value:"public",children:"Pblico"}),p.jsx(lr,{value:"friends",children:"Amigos"})]})]}),p.jsxs(Ue,{type:"submit",disabled:g||!r.trim()&&!a&&!u,className:"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600",children:[p.jsx(_T,{className:"h-4 w-4 mr-2"}),g?"Publicando...":"Publicar"]})]})]})]})})})})}function eU(n){const e=tU(n),t=w.forwardRef((r,o)=>{const{children:a,...l}=r,u=w.Children.toArray(a),f=u.find(rU);if(f){const m=f.props.children,y=u.map(g=>g===f?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return p.jsx(e,{...l,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,y):null})}return p.jsx(e,{...l,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function tU(n){const e=w.forwardRef((t,r)=>{const{children:o,...a}=t;if(w.isValidElement(o)){const l=oU(o),u=sU(a,o.props);return o.type!==w.Fragment&&(u.ref=r?vo(r,l):l),w.cloneElement(o,u)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var nU=Symbol("radix.slottable");function rU(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===nU}function sU(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...u)=>{const f=a(...u);return o(...u),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function oU(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var iv=["Enter"," "],iU=["ArrowDown","PageUp","Home"],nC=["ArrowUp","PageDown","End"],aU=[...iU,...nC],lU={ltr:[...iv,"ArrowRight"],rtl:[...iv,"ArrowLeft"]},cU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ju="Menu",[hu,uU,dU]=gv(ju),[Sa,rC]=yo(ju,[dU,op,_h]),cp=op(),sC=_h(),[fU,Ta]=Sa(ju),[hU,Mu]=Sa(ju),oC=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:o,onOpenChange:a,modal:l=!0}=n,u=cp(e),[f,m]=w.useState(null),y=w.useRef(!1),g=es(a),E=wh(o);return w.useEffect(()=>{const T=()=>{y.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>y.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),p.jsx(bI,{...u,children:p.jsx(fU,{scope:e,open:t,onOpenChange:g,content:f,onContentChange:m,children:p.jsx(hU,{scope:e,onClose:w.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:E,modal:l,children:r})})})};oC.displayName=ju;var pU="MenuAnchor",Uy=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=cp(t);return p.jsx(II,{...o,...r,ref:e})});Uy.displayName=pU;var $y="MenuPortal",[mU,iC]=Sa($y,{forceMount:void 0}),aC=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:o}=n,a=Ta($y,e);return p.jsx(mU,{scope:e,forceMount:t,children:p.jsx(wo,{present:t||a.open,children:p.jsx(Th,{asChild:!0,container:o,children:r})})})};aC.displayName=$y;var Rr="MenuContent",[gU,zy]=Sa(Rr),lC=w.forwardRef((n,e)=>{const t=iC(Rr,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,a=Ta(Rr,n.__scopeMenu),l=Mu(Rr,n.__scopeMenu);return p.jsx(hu.Provider,{scope:n.__scopeMenu,children:p.jsx(wo,{present:r||a.open,children:p.jsx(hu.Slot,{scope:n.__scopeMenu,children:l.modal?p.jsx(vU,{...o,ref:e}):p.jsx(yU,{...o,ref:e})})})})}),vU=w.forwardRef((n,e)=>{const t=Ta(Rr,n.__scopeMenu),r=w.useRef(null),o=ht(e,r);return w.useEffect(()=>{const a=r.current;if(a)return xv(a)},[]),p.jsx(By,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:ke(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),yU=w.forwardRef((n,e)=>{const t=Ta(Rr,n.__scopeMenu);return p.jsx(By,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),wU=eU("MenuContent.ScrollLock"),By=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:T,disableOutsideScroll:A,...b}=n,R=Ta(Rr,t),O=Mu(Rr,t),M=cp(t),U=sC(t),H=uU(t),[Q,te]=w.useState(null),D=w.useRef(null),C=ht(e,D,R.onContentChange),j=w.useRef(0),L=w.useRef(""),F=w.useRef(0),z=w.useRef(null),P=w.useRef("right"),q=w.useRef(0),le=A?Ih:w.Fragment,K=A?{as:wU,allowPinchZoom:!0}:void 0,J=G=>{const oe=L.current+G,$=H().filter(ie=>!ie.disabled),Z=document.activeElement,re=$.find(ie=>ie.ref.current===Z)?.textValue,fe=$.map(ie=>ie.textValue),ye=kU(fe,oe,re),Se=$.find(ie=>ie.textValue===ye)?.ref.current;(function ie(ge){L.current=ge,window.clearTimeout(j.current),ge!==""&&(j.current=window.setTimeout(()=>ie(""),1e3))})(oe),Se&&setTimeout(()=>Se.focus())};w.useEffect(()=>()=>window.clearTimeout(j.current),[]),_v();const N=w.useCallback(G=>P.current===z.current?.side&&DU(G,z.current?.area),[]);return p.jsx(gU,{scope:t,searchRef:L,onItemEnter:w.useCallback(G=>{N(G)&&G.preventDefault()},[N]),onItemLeave:w.useCallback(G=>{N(G)||(D.current?.focus(),te(null))},[N]),onTriggerLeave:w.useCallback(G=>{N(G)&&G.preventDefault()},[N]),pointerGraceTimerRef:F,onPointerGraceIntentChange:w.useCallback(G=>{z.current=G},[]),children:p.jsx(le,{...K,children:p.jsx(Sh,{asChild:!0,trapped:o,onMountAutoFocus:ke(a,G=>{G.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:p.jsx(Eh,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:T,children:p.jsx(bS,{asChild:!0,...U,dir:O.dir,orientation:"vertical",loop:r,currentTabStopId:Q,onCurrentTabStopIdChange:te,onEntryFocus:ke(f,G=>{O.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(CI,{role:"menu","aria-orientation":"vertical","data-state":TC(R.open),"data-radix-menu-content":"",dir:O.dir,...M,...b,ref:C,style:{outline:"none",...b.style},onKeyDown:ke(b.onKeyDown,G=>{const $=G.target.closest("[data-radix-menu-content]")===G.currentTarget,Z=G.ctrlKey||G.altKey||G.metaKey,re=G.key.length===1;$&&(G.key==="Tab"&&G.preventDefault(),!Z&&re&&J(G.key));const fe=D.current;if(G.target!==fe||!aU.includes(G.key))return;G.preventDefault();const Se=H().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);nC.includes(G.key)&&Se.reverse(),AU(Se)}),onBlur:ke(n.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(j.current),L.current="")}),onPointerMove:ke(n.onPointerMove,pu(G=>{const oe=G.target,$=q.current!==G.clientX;if(G.currentTarget.contains(oe)&&$){const Z=G.clientX>q.current?"right":"left";P.current=Z,q.current=G.clientX}}))})})})})})})});lC.displayName=Rr;var _U="MenuGroup",Hy=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return p.jsx(Ye.div,{role:"group",...r,ref:e})});Hy.displayName=_U;var xU="MenuLabel",cC=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return p.jsx(Ye.div,{...r,ref:e})});cC.displayName=xU;var fh="MenuItem",NE="menu.itemSelect",up=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...o}=n,a=w.useRef(null),l=Mu(fh,n.__scopeMenu),u=zy(fh,n.__scopeMenu),f=ht(e,a),m=w.useRef(!1),y=()=>{const g=a.current;if(!t&&g){const E=new CustomEvent(NE,{bubbles:!0,cancelable:!0});g.addEventListener(NE,T=>r?.(T),{once:!0}),wS(g,E),E.defaultPrevented?m.current=!1:l.onClose()}};return p.jsx(uC,{...o,ref:f,disabled:t,onClick:ke(n.onClick,y),onPointerDown:g=>{n.onPointerDown?.(g),m.current=!0},onPointerUp:ke(n.onPointerUp,g=>{m.current||g.currentTarget?.click()}),onKeyDown:ke(n.onKeyDown,g=>{const E=u.searchRef.current!=="";t||E&&g.key===" "||iv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});up.displayName=fh;var uC=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:o,...a}=n,l=zy(fh,t),u=sC(t),f=w.useRef(null),m=ht(e,f),[y,g]=w.useState(!1),[E,T]=w.useState("");return w.useEffect(()=>{const A=f.current;A&&T((A.textContent??"").trim())},[a.children]),p.jsx(hu.ItemSlot,{scope:t,disabled:r,textValue:o??E,children:p.jsx(IS,{asChild:!0,...u,focusable:!r,children:p.jsx(Ye.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:m,onPointerMove:ke(n.onPointerMove,pu(A=>{r?l.onItemLeave(A):(l.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(n.onPointerLeave,pu(A=>l.onItemLeave(A))),onFocus:ke(n.onFocus,()=>g(!0)),onBlur:ke(n.onBlur,()=>g(!1))})})})}),EU="MenuCheckboxItem",dC=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...o}=n;return p.jsx(gC,{scope:n.__scopeMenu,checked:t,children:p.jsx(up,{role:"menuitemcheckbox","aria-checked":hh(t)?"mixed":t,...o,ref:e,"data-state":qy(t),onSelect:ke(o.onSelect,()=>r?.(hh(t)?!0:!t),{checkForDefaultPrevented:!1})})})});dC.displayName=EU;var fC="MenuRadioGroup",[SU,TU]=Sa(fC,{value:void 0,onValueChange:()=>{}}),hC=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...o}=n,a=es(r);return p.jsx(SU,{scope:n.__scopeMenu,value:t,onValueChange:a,children:p.jsx(Hy,{...o,ref:e})})});hC.displayName=fC;var pC="MenuRadioItem",mC=w.forwardRef((n,e)=>{const{value:t,...r}=n,o=TU(pC,n.__scopeMenu),a=t===o.value;return p.jsx(gC,{scope:n.__scopeMenu,checked:a,children:p.jsx(up,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":qy(a),onSelect:ke(r.onSelect,()=>o.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});mC.displayName=pC;var Wy="MenuItemIndicator",[gC,bU]=Sa(Wy,{checked:!1}),vC=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...o}=n,a=bU(Wy,t);return p.jsx(wo,{present:r||hh(a.checked)||a.checked===!0,children:p.jsx(Ye.span,{...o,ref:e,"data-state":qy(a.checked)})})});vC.displayName=Wy;var IU="MenuSeparator",yC=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return p.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});yC.displayName=IU;var CU="MenuArrow",wC=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=cp(t);return p.jsx(RI,{...o,...r,ref:e})});wC.displayName=CU;var RU="MenuSub",[h$,_C]=Sa(RU),$c="MenuSubTrigger",xC=w.forwardRef((n,e)=>{const t=Ta($c,n.__scopeMenu),r=Mu($c,n.__scopeMenu),o=_C($c,n.__scopeMenu),a=zy($c,n.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=a,m={__scopeMenu:n.__scopeMenu},y=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>y,[y]),w.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),f(null)}},[u,f]),p.jsx(Uy,{asChild:!0,...m,children:p.jsx(uC,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":o.contentId,"data-state":TC(t.open),...n,ref:vo(e,o.onTriggerChange),onClick:g=>{n.onClick?.(g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:ke(n.onPointerMove,pu(g=>{a.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:ke(n.onPointerLeave,pu(g=>{y();const E=t.content?.getBoundingClientRect();if(E){const T=t.content?.dataset.side,A=T==="right",b=A?-5:5,R=E[A?"left":"right"],O=E[A?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+b,y:g.clientY},{x:R,y:E.top},{x:O,y:E.top},{x:O,y:E.bottom},{x:R,y:E.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ke(n.onKeyDown,g=>{const E=a.searchRef.current!=="";n.disabled||E&&g.key===" "||lU[r.dir].includes(g.key)&&(t.onOpenChange(!0),t.content?.focus(),g.preventDefault())})})})});xC.displayName=$c;var EC="MenuSubContent",SC=w.forwardRef((n,e)=>{const t=iC(Rr,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,a=Ta(Rr,n.__scopeMenu),l=Mu(Rr,n.__scopeMenu),u=_C(EC,n.__scopeMenu),f=w.useRef(null),m=ht(e,f);return p.jsx(hu.Provider,{scope:n.__scopeMenu,children:p.jsx(wo,{present:r||a.open,children:p.jsx(hu.Slot,{scope:n.__scopeMenu,children:p.jsx(By,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{l.isUsingKeyboardRef.current&&f.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:ke(n.onFocusOutside,y=>{y.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ke(n.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:ke(n.onKeyDown,y=>{const g=y.currentTarget.contains(y.target),E=cU[l.dir].includes(y.key);g&&E&&(a.onOpenChange(!1),u.trigger?.focus(),y.preventDefault())})})})})})});SC.displayName=EC;function TC(n){return n?"open":"closed"}function hh(n){return n==="indeterminate"}function qy(n){return hh(n)?"indeterminate":n?"checked":"unchecked"}function AU(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function PU(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function kU(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=PU(n,Math.max(a,0));o.length===1&&(l=l.filter(m=>m!==t));const f=l.find(m=>m.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function NU(n,e){const{x:t,y:r}=n;let o=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],f=e[l],m=u.x,y=u.y,g=f.x,E=f.y;y>r!=E>r&&t<(g-m)*(r-y)/(E-y)+m&&(o=!o)}return o}function DU(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return NU(t,e)}function pu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var OU=oC,jU=Uy,MU=aC,LU=lC,VU=Hy,FU=cC,UU=up,$U=dC,zU=hC,BU=mC,HU=vC,WU=yC,qU=wC,GU=xC,KU=SC,dp="DropdownMenu",[QU]=yo(dp,[rC]),On=rC(),[YU,bC]=QU(dp),IC=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:o,defaultOpen:a,onOpenChange:l,modal:u=!0}=n,f=On(e),m=w.useRef(null),[y,g]=Sl({prop:o,defaultProp:a??!1,onChange:l,caller:dp});return p.jsx(YU,{scope:e,triggerId:xs(),triggerRef:m,contentId:xs(),open:y,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(E=>!E),[g]),modal:u,children:p.jsx(OU,{...f,open:y,onOpenChange:g,dir:r,modal:u,children:t})})};IC.displayName=dp;var CC="DropdownMenuTrigger",RC=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...o}=n,a=bC(CC,t),l=On(t);return p.jsx(jU,{asChild:!0,...l,children:p.jsx(Ye.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:vo(e,a.triggerRef),onPointerDown:ke(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:ke(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});RC.displayName=CC;var XU="DropdownMenuPortal",AC=n=>{const{__scopeDropdownMenu:e,...t}=n,r=On(e);return p.jsx(MU,{...r,...t})};AC.displayName=XU;var PC="DropdownMenuContent",kC=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=bC(PC,t),a=On(t),l=w.useRef(!1);return p.jsx(LU,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:e,onCloseAutoFocus:ke(n.onCloseAutoFocus,u=>{l.current||o.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:ke(n.onInteractOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,y=f.button===2||m;(!o.modal||y)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kC.displayName=PC;var JU="DropdownMenuGroup",ZU=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(VU,{...o,...r,ref:e})});ZU.displayName=JU;var e9="DropdownMenuLabel",t9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(FU,{...o,...r,ref:e})});t9.displayName=e9;var n9="DropdownMenuItem",NC=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(UU,{...o,...r,ref:e})});NC.displayName=n9;var r9="DropdownMenuCheckboxItem",s9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx($U,{...o,...r,ref:e})});s9.displayName=r9;var o9="DropdownMenuRadioGroup",i9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(zU,{...o,...r,ref:e})});i9.displayName=o9;var a9="DropdownMenuRadioItem",l9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(BU,{...o,...r,ref:e})});l9.displayName=a9;var c9="DropdownMenuItemIndicator",u9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(HU,{...o,...r,ref:e})});u9.displayName=c9;var d9="DropdownMenuSeparator",f9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(WU,{...o,...r,ref:e})});f9.displayName=d9;var h9="DropdownMenuArrow",p9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(qU,{...o,...r,ref:e})});p9.displayName=h9;var m9="DropdownMenuSubTrigger",g9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(GU,{...o,...r,ref:e})});g9.displayName=m9;var v9="DropdownMenuSubContent",y9=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=On(t);return p.jsx(KU,{...o,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});y9.displayName=v9;var w9=IC,_9=RC,x9=AC,E9=kC,S9=NC;function T9({...n}){return p.jsx(w9,{"data-slot":"dropdown-menu",...n})}function b9({...n}){return p.jsx(_9,{"data-slot":"dropdown-menu-trigger",...n})}function I9({className:n,sideOffset:e=4,...t}){return p.jsx(x9,{children:p.jsx(E9,{"data-slot":"dropdown-menu-content",sideOffset:e,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function C9({className:n,inset:e,variant:t="default",...r}){return p.jsx(S9,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:We("focus:bg-accent focus:text-accent-foreground","data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive","[&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}async function ph({toUserId:n,type:e,fromUserId:t,fromUserName:r,postId:o=null}){if(!n||!e||!t||!r){console.error("Missing required fields for createNotification");return}try{await ci(Je(Ee,"notifications"),{toUserId:n,type:e,fromUserId:t,fromUserName:r,postId:o,read:!1,createdAt:so()})}catch(a){console.error("Error creating notification:",a)}}function Pf({post:n,currentUserId:e,onDelete:t,onComment:r,onHashtagClick:o,onUserClick:a}){const[l,u]=w.useState(!1),[f,m]=w.useState(!1),[y,g]=w.useState(0),[E,T]=w.useState(0),[A,b]=w.useState(!1),[R,O]=w.useState(!1),[M,U]=w.useState(n.content||""),[H,Q]=w.useState(!1),[te,D]=w.useState(""),C=ot(Ee,"posts",n.id);w.useEffect(()=>{(async()=>{try{const J=await ft(Je(Ee,"posts",n.id,"likes")),N=await ft(Je(Ee,"posts",n.id,"shares"));g(J.size),T(N.size),u(J.docs.some(G=>G.data().userId===e)),m(N.docs.some(G=>G.data().userId===e))}catch(J){console.error("Error fetching likes/shares:",J)}})()},[n.id,e]);const j=async()=>{try{const K=Je(Ee,"posts",n.id,"likes");if(l){const J=await ft(Zt(K,an("userId","==",e)));for(let N of J.docs)await ua(ot(Ee,"posts",n.id,"likes",N.id));await Xn(C,{likesCount:Vc(-1)}),u(!1),g(N=>Math.max(N-1,0)),be.success("Ya no te gusta la publicacin")}else if(await ci(K,{userId:e,createdAt:new Date}),await Xn(C,{likesCount:Vc(1)}),u(!0),g(J=>J+1),be.success("Te gusta la publicacin"),n.userId!==e)try{const J=await bn(ot(Ee,"users",e)),N=J.exists()?J.data().name:"Usuario";await ph({toUserId:n.userId,type:"like",fromUserId:e,fromUserName:N,postId:n.id})}catch(J){console.error("Error creando la notificacin de like:",J)}}catch(K){console.error("Error al dar like:",K),be.error("Error al dar like")}},L=async()=>{try{const K=Je(Ee,"posts",n.id,"shares");if(f){const J=await ft(Zt(K,an("userId","==",e)));for(let N of J.docs)await ua(ot(Ee,"posts",n.id,"shares",N.id));await Xn(C,{sharesCount:Vc(-1)}),m(!1),T(N=>Math.max(N-1,0)),be.success("Dejaste de compartir la publicacin")}else if(await ci(K,{userId:e,createdAt:new Date}),await Xn(C,{sharesCount:Vc(1)}),m(!0),T(J=>J+1),be.success("Publicacin compartida"),n.userId!==e)try{const J=await bn(ot(Ee,"users",e)),N=J.exists()?J.data().name:"Usuario";await ph({toUserId:n.userId,type:"share",fromUserId:e,fromUserName:N,postId:n.id})}catch(J){console.error("Error creando la notificacin de share:",J)}}catch(K){console.error("Error al compartir:",K),be.error("Error al compartir")}},F=async()=>{try{await Xn(C,{content:M}),n.content=M,O(!1),be.success("Publicacin actualizada"),t?.()}catch(K){console.error("Error al editar:",K),be.error("Error al editar")}},z=async()=>{if(confirm("Ests seguro de eliminar esta publicacin?")){b(!0);try{await ua(C),be.success("Publicacin eliminada"),t?.()}catch(K){console.error("Error al eliminar:",K),be.error("Error al eliminar")}finally{b(!1)}}},P=async()=>{if(!te.trim()){be.error("Describe el motivo del reporte");return}try{await ci(Je(Ee,"reports"),{reportedPostId:n.id,reason:te,reportedBy:e,status:"pending",createdAt:new Date}),be.success("Publicacin reportada correctamente"),D(""),Q(!1)}catch(K){console.error("Error al reportar:",K),be.error("Error al reportar publicacin")}},q=K=>{if(!K)return"Ahora";let J;K.toDate?J=K.toDate():K.seconds?J=new Date(K.seconds*1e3):J=new Date(K);const N=new Date,G=Math.floor((N-J)/6e4),oe=Math.floor((N-J)/36e5),$=Math.floor((N-J)/864e5);return G<1?"Ahora":G<60?`Hace ${G}m`:oe<24?`Hace ${oe}h`:$<7?`Hace ${$}d`:J.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})},le=K=>{if(!K)return null;const J=K.split(/(#[\w\u00C0-\u017F]+)/g);return p.jsx("p",{className:"mb-3 whitespace-pre-wrap",children:J.map((N,G)=>N.startsWith("#")?p.jsx("span",{className:"text-orange-600 hover:text-orange-700 cursor-pointer hover:underline font-medium",onClick:()=>o?.(N),children:N},G):p.jsx("span",{children:N},G))})};return p.jsxs(p.Fragment,{children:[p.jsxs(lt,{className:"border-2 border-orange-100 hover:border-orange-200 transition-colors",children:[p.jsxs(Zs,{className:"flex flex-row items-center gap-3 space-y-0 pb-3",children:[p.jsxs(Xr,{className:"h-10 w-10 border-2 border-orange-300 cursor-pointer",onClick:()=>a?.(n.userId),children:[n.author?.profilePicture&&p.jsx(Cs,{src:n.author.profilePicture,alt:n.author.name}),p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white",children:n.author?.name.charAt(0)||"U"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-orange-700 cursor-pointer hover:underline",onClick:()=>a?.(n.userId),children:n.author?.name||"Usuario"}),n.author?.petName&&p.jsxs("span",{className:"text-sm text-muted-foreground",children:["con ",n.author.petName," ",n.author.petType&&`(${n.author.petType})`]}),n.visibility==="friends"&&p.jsx(Mf,{className:"h-3 w-3 text-muted-foreground",title:"Solo amigos"}),n.visibility==="public"&&p.jsx(eD,{className:"h-3 w-3 text-muted-foreground",title:"Pblico"})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:q(n.createdAt)})]}),n.userId===e?p.jsxs("div",{className:"flex gap-1",children:[p.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>O(!0),className:"text-orange-500 hover:text-orange-600 hover:bg-orange-50",children:p.jsx(wT,{className:"h-4 w-4"})}),p.jsx(Ue,{variant:"ghost",size:"icon",onClick:z,disabled:A,className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:p.jsx(jf,{className:"h-4 w-4"})})]}):p.jsxs(T9,{children:[p.jsx(b9,{asChild:!0,children:p.jsx(Ue,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-orange-600 hover:bg-orange-50",children:p.jsx(Y2,{className:"h-4 w-4"})})}),p.jsx(I9,{align:"end",children:p.jsxs(C9,{onClick:()=>Q(!0),children:[p.jsx(gT,{className:"h-4 w-4 mr-2"}),"Reportar publicacin"]})})]})]}),p.jsxs(ct,{className:"pb-3",children:[n.content&&le(n.content),n.imageUrl&&p.jsx("img",{src:n.imageUrl,alt:"Post image",className:"w-full rounded-lg object-cover max-h-96"}),n.videoUrl&&p.jsx("video",{src:n.videoUrl,controls:!0,className:"w-full rounded-lg max-h-96"})]}),p.jsxs(kk,{className:"flex gap-2 pt-3 border-t border-orange-100",children:[p.jsxs(Ue,{variant:"ghost",size:"sm",onClick:j,className:l?"text-red-500 hover:text-red-600":"hover:text-red-500",children:[p.jsx(vT,{className:`h-4 w-4 mr-1 ${l?"fill-current":""}`}),y]}),p.jsxs(Ue,{variant:"ghost",size:"sm",onClick:()=>r(n.id),className:"hover:text-orange-500",children:[p.jsx(yT,{className:"h-4 w-4 mr-1"}),n.commentsCount||0]}),p.jsxs(Ue,{variant:"ghost",size:"sm",onClick:L,className:f?"text-green-500 hover:text-green-600":"hover:text-green-500",children:[p.jsx(xT,{className:`h-4 w-4 mr-1 ${f?"fill-current":""}`}),E]})]})]}),p.jsx(Lf,{open:R,onOpenChange:O,children:p.jsxs(Zc,{children:[p.jsxs(Vf,{children:[p.jsx(Ff,{children:"Editar Publicacin"}),p.jsx(Uf,{children:"Modifica el contenido de tu publicacin"})]}),p.jsx(Nl,{value:M,onChange:K=>U(K.target.value),className:"min-h-[150px]"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ue,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),p.jsx(Ue,{onClick:F,className:"bg-gradient-to-r from-orange-500 to-amber-500",children:"Guardar"})]})]})}),p.jsx(Lf,{open:H,onOpenChange:Q,children:p.jsxs(Zc,{children:[p.jsxs(Vf,{children:[p.jsx(Ff,{children:"Reportar Publicacin"}),p.jsx(Uf,{children:"Describe por qu esta publicacin viola las reglas de la comunidad"})]}),p.jsx(Nl,{value:te,onChange:K=>D(K.target.value),placeholder:"Describe el motivo del reporte...",className:"min-h-[150px]"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ue,{variant:"outline",onClick:()=>Q(!1),children:"Cancelar"}),p.jsx(Ue,{onClick:P,variant:"destructive",children:"Enviar Reporte"})]})]})})]})}var R9=Symbol("radix.slottable");function A9(n){const e=({children:t})=>p.jsx(p.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=R9,e}var DC="AlertDialog",[P9]=yo(DC,[KS]),To=KS(),OC=n=>{const{__scopeAlertDialog:e,...t}=n,r=To(e);return p.jsx(uT,{...r,...t,modal:!0})};OC.displayName=DC;var k9="AlertDialogTrigger",jC=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=To(t);return p.jsx(O2,{...o,...r,ref:e})});jC.displayName=k9;var N9="AlertDialogPortal",MC=n=>{const{__scopeAlertDialog:e,...t}=n,r=To(e);return p.jsx(dT,{...r,...t})};MC.displayName=N9;var D9="AlertDialogOverlay",LC=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=To(t);return p.jsx(bv,{...o,...r,ref:e})});LC.displayName=D9;var El="AlertDialogContent",[O9,j9]=P9(El),M9=A9("AlertDialogContent"),VC=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...o}=n,a=To(t),l=w.useRef(null),u=ht(e,l),f=w.useRef(null);return p.jsx(P2,{contentName:El,titleName:FC,docsSlug:"alert-dialog",children:p.jsx(O9,{scope:t,cancelRef:f,children:p.jsxs(Iv,{role:"alertdialog",...a,...o,ref:u,onOpenAutoFocus:ke(o.onOpenAutoFocus,m=>{m.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[p.jsx(M9,{children:r}),p.jsx(V9,{contentRef:l})]})})})});VC.displayName=El;var FC="AlertDialogTitle",UC=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=To(t);return p.jsx(fT,{...o,...r,ref:e})});UC.displayName=FC;var $C="AlertDialogDescription",zC=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=To(t);return p.jsx(hT,{...o,...r,ref:e})});zC.displayName=$C;var L9="AlertDialogAction",BC=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=To(t);return p.jsx(Cv,{...o,...r,ref:e})});BC.displayName=L9;var HC="AlertDialogCancel",WC=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:o}=j9(HC,t),a=To(t),l=ht(e,o);return p.jsx(Cv,{...a,...r,ref:l})});WC.displayName=HC;var V9=({contentRef:n})=>{const e=`\`${El}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${El}\` by passing a \`${$C}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${El}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(n.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},F9=OC,U9=jC,$9=MC,z9=LC,B9=VC,H9=BC,W9=WC,q9=UC,G9=zC;function ea(n){return p.jsx(F9,{"data-slot":"alert-dialog",...n})}function ml(n){return p.jsx(U9,{"data-slot":"alert-dialog-trigger",...n})}function K9(n){return p.jsx($9,{"data-slot":"alert-dialog-portal",...n})}const qC=w.forwardRef(({className:n,...e},t)=>p.jsx(z9,{ref:t,"data-slot":"alert-dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));qC.displayName="AlertDialogOverlay";function ta({className:n,...e}){return p.jsxs(K9,{children:[p.jsx(qC,{}),p.jsx(B9,{"data-slot":"alert-dialog-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...e})]})}function na({className:n,...e}){return p.jsx("div",{"data-slot":"alert-dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",n),...e})}function ra({className:n,...e}){return p.jsx("div",{"data-slot":"alert-dialog-footer",className:We("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function sa({className:n,...e}){return p.jsx(q9,{"data-slot":"alert-dialog-title",className:We("text-lg font-semibold",n),...e})}function oa({className:n,...e}){return p.jsx(G9,{"data-slot":"alert-dialog-description",className:We("text-muted-foreground text-sm",n),...e})}function ia({className:n,...e}){return p.jsx(H9,{className:We(mv(),n),...e})}function aa({className:n,...e}){return p.jsx(W9,{className:We(mv({variant:"outline"}),n),...e})}function Q9({userId:n,isOwnProfile:e,onCommentClick:t}){const[r,o]=w.useState(null),[a,l]=w.useState({postsCount:0,followersCount:0,followingCount:0}),[u,f]=w.useState([]),[m,y]=w.useState(!1),[g,E]=w.useState(!1),[T,A]=w.useState(!0),[b,R]=w.useState(""),[O,M]=w.useState(!1),H=Nh().currentUser,[Q,te]=w.useState({name:"",petName:"",petType:"",bio:"",location:"",profilePicture:""});w.useEffect(()=>{D(),C(),e||j()},[n]);const D=async()=>{try{const P=ot(Ee,"users",n),q=await bn(P);if(q.exists()){const le=q.data();o(le);const K=Zt(Je(Ee,"posts"),an("userId","==",n)),J=await ft(K),N=Zt(Je(Ee,"follows"),an("followingId","==",n)),G=await ft(N),oe=Zt(Je(Ee,"follows"),an("followerId","==",n)),$=await ft(oe);l({postsCount:J.size,followersCount:G.size,followingCount:$.size}),te({name:le.name||"",petName:le.petName||"",petType:le.petType||"",bio:le.bio||"",location:le.location||"",profilePicture:le.profilePicture||""})}}catch(P){console.error("Error loading profile:",P),be.error("Error al cargar perfil")}finally{A(!1)}},C=async()=>{try{const P=Zt(Je(Ee,"posts"),an("userId","==",n)),le=(await ft(P)).docs.map(K=>({id:K.id,...K.data()}));le.sort((K,J)=>{const N=K.createdAt?.toDate?K.createdAt.toDate():new Date(K.createdAt||0);return(J.createdAt?.toDate?J.createdAt.toDate():new Date(J.createdAt||0))-N}),H&&await Promise.all(le.map(async K=>{const J=Je(Ee,"posts",K.id,"likes"),N=Zt(J,an("userId","==",H.uid)),G=await ft(N);K.isLiked=!G.empty;const oe=Je(Ee,"posts",K.id,"shares"),$=Zt(oe,an("userId","==",H.uid)),Z=await ft($);K.isShared=!Z.empty})),f(le)}catch(P){console.error("Error loading posts:",P),be.error("Error al cargar publicaciones")}},j=async()=>{if(H)try{const P=Zt(Je(Ee,"follows"),an("followerId","==",H.uid),an("followingId","==",n)),q=await ft(P);E(!q.empty)}catch(P){console.error("Error checking follow status:",P)}},L=async()=>{if(H)try{if(g){const P=Zt(Je(Ee,"follows"),an("followerId","==",H.uid),an("followingId","==",n)),q=await ft(P);for(const le of q.docs)await ua(ot(Ee,"follows",le.id));E(!1),l(le=>({...le,followersCount:Math.max(le.followersCount-1,0)})),be.success("Dejaste de seguir")}else await ci(Je(Ee,"follows"),{followerId:H.uid,followingId:n,createdAt:so()}),E(!0),l(P=>({...P,followersCount:P.followersCount+1})),be.success("Ahora sigues a este usuario"),await ph({toUserId:n,type:"follow",fromUserId:H.uid,fromUserName:H.displayName||"Usuario"})}catch(P){console.error("Error following/unfollowing:",P),be.error("Error al actualizar seguimiento")}},F=async()=>{try{const P=ot(Ee,"users",n);await Xn(P,{...Q}),o({...r,...Q}),y(!1),be.success("Perfil actualizado correctamente")}catch(P){console.error("Error updating profile:",P),be.error("Error al actualizar el perfil")}},z=async()=>{if(!b.trim()){be.error("Por favor describe el motivo del reporte");return}try{await ci(Je(Ee,"reports"),{reporterId:H.uid,reportedUserId:n,reason:b,type:"user",status:"pending",createdAt:so()}),R(""),M(!1),be.success("Usuario reportado")}catch(P){console.error("Error reporting user:",P),be.error("Error al reportar usuario")}};return T?p.jsx("div",{className:"text-center py-8",children:"Cargando perfil..."}):r?p.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsxs(ct,{className:"pt-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[p.jsx("div",{className:"flex flex-col items-center",children:p.jsx(Xr,{className:"h-32 w-32 border-4 border-orange-300",children:r.profilePicture?p.jsx(Cs,{src:r.profilePicture,alt:r.name}):p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white text-4xl",children:r.name?.charAt(0)||"U"})})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-orange-700",children:r.name}),r.petName&&p.jsxs("p",{className:"text-lg text-muted-foreground flex items-center gap-2",children:[p.jsx(Rv,{className:"h-4 w-4"}),r.petName," ",r.petType&&`(${r.petType})`]})]}),p.jsx("div",{className:"flex gap-2",children:e?p.jsxs(Ue,{onClick:()=>y(!m),className:"bg-gradient-to-r from-orange-500 to-amber-500",children:[p.jsx(wT,{className:"h-4 w-4 mr-2"}),m?"Cancelar":"Editar Perfil"]}):p.jsxs(p.Fragment,{children:[p.jsx(Ue,{onClick:L,className:g?"bg-gray-500 hover:bg-gray-600":"bg-gradient-to-r from-orange-500 to-amber-500",children:g?p.jsxs(p.Fragment,{children:[p.jsx(ET,{className:"h-4 w-4 mr-2"}),"Dejar de seguir"]}):p.jsxs(p.Fragment,{children:[p.jsx(ST,{className:"h-4 w-4 mr-2"}),"Seguir"]})}),p.jsx(Ue,{variant:"outline",onClick:()=>M(!0),className:"border-red-300 text-red-700",children:p.jsx(gT,{className:"h-4 w-4"})})]})})]}),p.jsxs("div",{className:"flex gap-6 mt-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"font-bold text-orange-700",children:a.postsCount}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Publicaciones"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"font-bold text-orange-700",children:a.followersCount}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguidores"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"font-bold text-orange-700",children:a.followingCount}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Siguiendo"})]})]}),r.bio&&p.jsx("p",{className:"mt-4 text-muted-foreground",children:r.bio}),r.location&&p.jsxs("p",{className:"mt-2 text-sm text-muted-foreground flex items-center gap-1",children:[p.jsx(hD,{className:"h-4 w-4"}),r.location]})]})]}),m&&p.jsxs("div",{className:"mt-6 space-y-4 border-t pt-4",children:[p.jsx("h3",{className:"font-bold text-orange-700",children:"Editar Perfil"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Nombre"}),p.jsx(En,{value:Q.name,onChange:P=>te({...Q,name:P.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"URL de Foto de Perfil"}),p.jsx(En,{value:Q.profilePicture,onChange:P=>te({...Q,profilePicture:P.target.value}),placeholder:"https://ejemplo.com/foto.jpg"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Nombre de tu Mascota"}),p.jsx(En,{value:Q.petName,onChange:P=>te({...Q,petName:P.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Tipo de Mascota"}),p.jsx(En,{value:Q.petType,onChange:P=>te({...Q,petType:P.target.value}),placeholder:"Perro, Gato, etc."})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Bio"}),p.jsx(Nl,{value:Q.bio,onChange:P=>te({...Q,bio:P.target.value}),placeholder:"Cuntanos sobre ti y tu mascota..."})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Ubicacin"}),p.jsx(En,{value:Q.location,onChange:P=>te({...Q,location:P.target.value}),placeholder:"Ciudad, Pas"})]}),p.jsx(Ue,{onClick:F,className:"bg-gradient-to-r from-orange-500 to-amber-500",children:"Guardar Cambios"})]})]})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-xl font-bold text-orange-700",children:"Publicaciones"}),u.length===0?p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsx(ct,{className:"py-8 text-center text-muted-foreground",children:"No hay publicaciones an"})}):u.map(P=>p.jsx(Pf,{post:{...P,author:r},currentUserId:H?.uid,onDelete:C,onComment:t},P.id))]}),p.jsx(ea,{open:O,onOpenChange:M,children:p.jsxs(ta,{children:[p.jsxs(na,{children:[p.jsx(sa,{children:"Reportar Usuario"}),p.jsx(oa,{children:"Describe por qu este usuario viola las reglas de la comunidad"})]}),p.jsx(Nl,{value:b,onChange:P=>R(P.target.value),placeholder:"Describe el motivo del reporte...",className:"min-h-[100px]"}),p.jsxs(ra,{children:[p.jsx(aa,{children:"Cancelar"}),p.jsx(ia,{onClick:z,className:"bg-red-600 hover:bg-red-700",children:"Enviar Reporte"})]})]})})]}):p.jsx("div",{className:"text-center py-8",children:"Perfil no encontrado"})}function Y9({user:n,onNotificationClick:e}){const[t,r]=w.useState([]),[o,a]=w.useState(!0);w.useEffect(()=>{if(!n)return;const g=n.uid,E=Zt(Je(Ee,"notifications"),an("toUserId","==",g),Zh("createdAt","desc")),T=Qb(E,A=>{const b=A.docs.map(R=>({id:R.id,...R.data()}));r(b),a(!1)},A=>{console.error("Error loading notifications:",A),a(!1)});return()=>T()},[n]);const l=async g=>{try{const E=ot(Ee,"notifications",g);await Xn(E,{read:!0})}catch(E){console.error("Error marking notification as read:",E)}},u=async g=>{g.read||await l(g.id),e?.(g)},f=g=>{switch(g){case"like":return p.jsx(vT,{className:"h-5 w-5 text-red-500 fill-current"});case"comment":return p.jsx(yT,{className:"h-5 w-5 text-blue-500"});case"follow":return p.jsx(ST,{className:"h-5 w-5 text-green-500"});case"share":return p.jsx(xT,{className:"h-5 w-5 text-purple-500"});default:return null}},m=g=>{const E=g.fromUserName||"Alguien";switch(g.type){case"like":return`${E} le dio me gusta a tu publicacin`;case"comment":return`${E} coment en tu publicacin`;case"follow":return`${E} comenz a seguirte`;case"share":return`${E} comparti tu publicacin`;default:return"Nueva notificacin"}},y=g=>{if(!g)return"";const E=g.toDate?g.toDate():new Date(g),T=new Date,A=Math.floor((T-E)/6e4);if(A<1)return"Ahora";if(A<60)return`Hace ${A}m`;const b=Math.floor((T-E)/36e5);if(b<24)return`Hace ${b}h`;const R=Math.floor((T-E)/864e5);return R<7?`Hace ${R}d`:E.toLocaleDateString()};return o?p.jsx("div",{className:"text-center py-8",children:"Cargando notificaciones..."}):p.jsxs("div",{className:"max-w-2xl mx-auto space-y-2",children:[p.jsx("h2",{className:"text-orange-700 mb-4",children:"Notificaciones"}),t.length===0?p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsx(ct,{className:"py-8 text-center text-muted-foreground",children:"No tienes notificaciones"})}):t.map(g=>p.jsx(lt,{className:`cursor-pointer transition-colors border-2 ${g.read?"border-gray-200 bg-white":"border-orange-200 bg-orange-50"} hover:border-orange-300`,onClick:()=>u(g),children:p.jsxs(ct,{className:"flex items-center gap-3 py-4",children:[p.jsx(Xr,{className:"h-10 w-10 border-2 border-orange-300",children:p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white",children:g.fromUserName?.charAt(0)||"U"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm",children:m(g)}),p.jsx("p",{className:"text-xs text-muted-foreground",children:y(g.createdAt)})]}),p.jsx("div",{children:f(g.type)})]})},g.id))]})}var X9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J9=X9.reduce((n,e)=>{const t=yh(`Primitive.${e}`),r=w.forwardRef((o,a)=>{const{asChild:l,...u}=o,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),Z9="Separator",DE="horizontal",e$=["horizontal","vertical"],GC=w.forwardRef((n,e)=>{const{decorative:t,orientation:r=DE,...o}=n,a=t$(r)?r:DE,u=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return p.jsx(J9.div,{"data-orientation":a,...u,...o,ref:e})});GC.displayName=Z9;function t$(n){return e$.includes(n)}var n$=GC;function r$({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return p.jsx(n$,{"data-slot":"separator-root",decorative:t,orientation:e,className:We("bg-border shrink-0","data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full","data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function s$({onAccountDeleted:n,onUserClick:e}){const r=Nh().currentUser,[o,a]=w.useState(""),[l,u]=w.useState(""),[f,m]=w.useState(!1),[y,g]=w.useState("public"),[E,T]=w.useState("public"),[A,b]=w.useState("public"),[R,O]=w.useState(!1),[M,U]=w.useState([]),[H,Q]=w.useState(!0);w.useEffect(()=>{r&&(D(),j())},[r]);const te=async()=>{if(!o||o.length<6){be.error("La contrasea debe tener al menos 6 caracteres");return}if(o!==l){be.error("Las contraseas no coinciden");return}m(!0);try{await tL(r,o),be.success("Contrasea actualizada exitosamente"),a(""),u("")}catch(P){be.error(P.message||"Error al cambiar la contrasea")}finally{m(!1)}},D=async()=>{try{const P=ot(Ee,"users",r.uid),q=await ft(P);if(q.exists()){const le=q.data();g(le.profileVisibility||"public"),T(le.postsVisibility||"public"),b(le.friendsVisibility||"public")}}catch{}},C=async()=>{O(!0);try{const P=ot(Ee,"users",r.uid);await Xn(P,{profileVisibility:y,postsVisibility:E,friendsVisibility:A}),be.success("Configuracin de privacidad actualizada")}catch{be.error("Error al guardar configuracin")}finally{O(!1)}},j=async()=>{Q(!0);try{const P=Je(Ee,"blockedUsers"),q=Zt(P,an("blockerId","==",r.uid)),le=await ft(q),K=[];le.forEach(J=>K.push({id:J.id,...J.data()})),U(K)}catch{}finally{Q(!1)}},L=async(P,q)=>{try{await ua(ot(Ee,"blockedUsers",q)),be.success("Usuario desbloqueado"),U(le=>le.filter(K=>K.id!==q))}catch{be.error("Error al desbloquear usuario")}},F=async()=>{try{const P=ot(Ee,"users",r.uid);await Xn(P,{isActive:!1}),be.success("Cuenta desactivada exitosamente"),setTimeout(()=>n(),2e3)}catch{be.error("Error al desactivar la cuenta")}},z=async()=>{try{await ua(ot(Ee,"users",r.uid)),await iL(r),be.success("Cuenta eliminada exitosamente"),setTimeout(()=>{n&&n(),window.location.href="/"},2e3)}catch(P){console.error("Error deleting account:",P),P.code==="auth/requires-recent-login"?be.error("Por seguridad, cierra sesin y vuelve a entrar para eliminar tu cuenta"):be.error(P.message||"Error al eliminar la cuenta")}};return r?p.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[p.jsx("h2",{className:"text-orange-700",children:"Configuracin"}),p.jsxs(yv,{defaultValue:"account",className:"w-full",children:[p.jsxs(wv,{className:"grid w-full grid-cols-4",children:[p.jsx(eo,{value:"account",children:"Cuenta"}),p.jsx(eo,{value:"privacy",children:"Privacidad"}),p.jsx(eo,{value:"blocked",children:"Bloqueados"}),p.jsx(eo,{value:"danger",children:"Zona Peligrosa"})]}),p.jsx(to,{value:"account",className:"space-y-4",children:p.jsxs(lt,{className:"border-2 border-orange-200",children:[p.jsx(Zs,{children:p.jsxs(ni,{className:"flex items-center gap-2 text-orange-700",children:[p.jsx(cD,{className:"h-5 w-5"}),"Cambiar Contrasea"]})}),p.jsxs(ct,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Nueva Contrasea"}),p.jsx(En,{type:"password",value:o,onChange:P=>a(P.target.value),placeholder:"Mnimo 6 caracteres",className:"border-orange-200 focus:border-orange-400"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Confirmar Contrasea"}),p.jsx(En,{type:"password",value:l,onChange:P=>u(P.target.value),placeholder:"Confirma tu nueva contrasea",className:"border-orange-200 focus:border-orange-400"})]}),p.jsx(Ue,{onClick:te,disabled:f,className:"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600",children:f?"Cambiando...":"Cambiar Contrasea"})]})]})}),p.jsx(to,{value:"privacy",className:"space-y-4",children:p.jsxs(lt,{className:"border-2 border-orange-200",children:[p.jsx(Zs,{children:p.jsxs(ni,{className:"flex items-center gap-2 text-orange-700",children:[p.jsx(Av,{className:"h-5 w-5"}),"Configuracin de Privacidad"]})}),p.jsxs(ct,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Quin puede ver tu perfil?"}),p.jsxs(Kc,{value:y,onValueChange:g,children:[p.jsx(Yc,{className:"border-orange-200 focus:border-orange-400",children:p.jsx(Qc,{})}),p.jsxs(Xc,{children:[p.jsx(lr,{value:"public",children:"Todos (Pblico)"}),p.jsx(lr,{value:"friends",children:"Solo Amigos"}),p.jsx(lr,{value:"private",children:"Solo Yo (Privado)"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Quin puede ver tus publicaciones?"}),p.jsxs(Kc,{value:E,onValueChange:T,children:[p.jsx(Yc,{className:"border-orange-200 focus:border-orange-400",children:p.jsx(Qc,{})}),p.jsxs(Xc,{children:[p.jsx(lr,{value:"public",children:"Todos (Pblico)"}),p.jsx(lr,{value:"friends",children:"Solo Amigos"}),p.jsx(lr,{value:"private",children:"Solo Yo (Privado)"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jt,{children:"Quin puede ver tu lista de amigos?"}),p.jsxs(Kc,{value:A,onValueChange:b,children:[p.jsx(Yc,{className:"border-orange-200 focus:border-orange-400",children:p.jsx(Qc,{})}),p.jsxs(Xc,{children:[p.jsx(lr,{value:"public",children:"Todos (Pblico)"}),p.jsx(lr,{value:"friends",children:"Solo Amigos"}),p.jsx(lr,{value:"private",children:"Solo Yo (Privado)"})]})]})]}),p.jsx(Ue,{onClick:C,disabled:R,className:"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600",children:R?"Guardando...":"Guardar Cambios"})]})]})}),p.jsx(to,{value:"blocked",className:"space-y-4",children:p.jsxs(lt,{className:"border-2 border-orange-200",children:[p.jsx(Zs,{children:p.jsxs(ni,{className:"flex items-center gap-2 text-orange-700",children:[p.jsx(ET,{className:"h-5 w-5"}),"Usuarios Bloqueados"]})}),p.jsx(ct,{children:H?p.jsx("p",{className:"text-center text-muted-foreground",children:"Cargando..."}):M.length===0?p.jsx("p",{className:"text-center text-muted-foreground",children:"No has bloqueado a ningn usuario"}):p.jsx("div",{className:"space-y-2",children:M.map(P=>p.jsxs("div",{className:"flex items-center justify-between p-3 border border-orange-200 rounded-lg",children:[p.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>e(P.id),children:[p.jsx("p",{className:"text-orange-700",children:P.name}),P.petName&&p.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.petName," ",P.petType&&`(${P.petType})`]})]}),p.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>L(P.id,P.id),className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:"Desbloquear"})]},P.id))})})]})}),p.jsx(to,{value:"danger",className:"space-y-4",children:p.jsxs(lt,{className:"border-2 border-red-200",children:[p.jsx(Zs,{children:p.jsxs(ni,{className:"flex items-center gap-2 text-red-600",children:[p.jsx(DD,{className:"h-5 w-5"}),"Zona Peligrosa"]})}),p.jsxs(ct,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"text-red-600",children:"Desactivar Cuenta"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu cuenta ser desactivada temporalmente. Puedes reactivarla iniciando sesin nuevamente."}),p.jsxs(ea,{children:[p.jsx(ml,{asChild:!0,children:p.jsx(Ue,{variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:"Desactivar Cuenta"})}),p.jsxs(ta,{children:[p.jsxs(na,{children:[p.jsx(sa,{children:"Ests seguro?"}),p.jsx(oa,{children:"Tu cuenta ser desactivada temporalmente."})]}),p.jsxs(ra,{children:[p.jsx(aa,{children:"Cancelar"}),p.jsx(ia,{onClick:F,className:"bg-red-600 hover:bg-red-700",children:"Desactivar"})]})]})]})]}),p.jsx(r$,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("h4",{className:"text-red-600 flex items-center gap-2",children:[p.jsx(jf,{className:"h-4 w-4"}),"Eliminar Cuenta"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu cuenta y todos tus datos sern eliminados permanentemente."}),p.jsxs(ea,{children:[p.jsx(ml,{asChild:!0,children:p.jsx(Ue,{variant:"destructive",children:"Eliminar Cuenta Permanentemente"})}),p.jsxs(ta,{children:[p.jsxs(na,{children:[p.jsx(sa,{children:"Ests absolutamente seguro?"}),p.jsx(oa,{children:"Esto eliminar permanentemente tu cuenta y toda la informacin asociada."})]}),p.jsxs(ra,{children:[p.jsx(aa,{children:"Cancelar"}),p.jsx(ia,{onClick:z,className:"bg-red-600 hover:bg-red-700",children:"S, eliminar mi cuenta"})]})]})]})]})]})]})})]})]}):p.jsx("div",{className:"text-center py-8",children:"Debes iniciar sesin"})}function o$({currentUserId:n,onUserClick:e}){const[t,r]=w.useState(null),[o,a]=w.useState([]),[l,u]=w.useState([]),[f,m]=w.useState([]),[y,g]=w.useState(!0),[E,T]=w.useState(null),[A,b]=w.useState("reports"),[R,O]=w.useState("all"),[M,U]=w.useState("all");w.useEffect(()=>{H()},[]);const H=async()=>{try{await Promise.all([te(),D(),C(),Q()])}catch(q){console.error("Error loading admin data:",q)}finally{g(!1)}},Q=async()=>{try{const le=(await ft(Zt(Je(Ee,"posts"),Zh("createdAt","desc")))).docs.map(K=>({id:K.id,...K.data()}));m(le)}catch(q){console.error("Error loading posts:",q),be.error("Error al cargar publicaciones")}},te=async()=>{try{const q=await ft(Je(Ee,"users")),le=q.size,K=q.docs.filter(Z=>Z.data().suspended===!0).length,N=(await ft(Je(Ee,"posts"))).size,G=await ft(Je(Ee,"reports")),oe=G.size,$=G.docs.filter(Z=>{const re=Z.data();return re.status==="pending"||!re.status}).length;r({totalUsers:le,totalPosts:N,totalReports:oe,pendingReports:$,suspendedUsers:K})}catch(q){console.error("Error loading stats:",q),be.error("Error al cargar estadsticas")}},D=async()=>{try{const q=await ft(Je(Ee,"reports")),le=[];for(const K of q.docs){const J={id:K.id,...K.data()};if(J.status||(J.status="pending"),J.postId&&!J.reportedPostId&&(J.reportedPostId=J.postId),J.reporterId||J.reportedBy){const N=J.reporterId||J.reportedBy,G=await bn(ot(Ee,"users",N));J.reporter=G.exists()?G.data():null}if(J.reportedUserId){const N=await bn(ot(Ee,"users",J.reportedUserId));J.reported=N.exists()?N.data():null,J.type="user"}else if(J.reportedPostId){const N=await bn(ot(Ee,"posts",J.reportedPostId));J.reported=N.exists()?N.data():null,J.type="post"}le.push(J)}le.sort((K,J)=>{const N=K.createdAt?.toDate?.()||new Date(K.createdAt);return(J.createdAt?.toDate?.()||new Date(J.createdAt))-N}),a(le)}catch(q){console.error("Error loading reports:",q),be.error("Error al cargar reportes")}},C=async()=>{try{const le=(await ft(Je(Ee,"users"))).docs.map(K=>({id:K.id,...K.data()}));le.sort((K,J)=>K.isAdmin&&!J.isAdmin?-1:!K.isAdmin&&J.isAdmin?1:(K.name||"").localeCompare(J.name||"")),u(le)}catch(q){console.error("Error loading users:",q),be.error("Error al cargar usuarios")}},j=async(q,le)=>{try{const K=ot(Ee,"reports",q);await Xn(K,{status:le,resolvedAt:so(),resolvedBy:n}),be.success("Reporte actualizado"),D(),te()}catch(K){console.error("Error resolving report:",K),be.error("Error al actualizar reporte")}},L=async q=>{try{const le=ot(Ee,"users",q);await Xn(le,{suspended:!0,suspendedAt:so()}),be.success("Usuario suspendido"),C(),te()}catch(le){console.error("Error suspending user:",le),be.error("Error al suspender usuario")}},F=async q=>{try{const le=ot(Ee,"users",q);await Xn(le,{suspended:!1,unsuspendedAt:so()}),be.success("Suspensin removida"),C(),te()}catch(le){console.error("Error unsuspending user:",le),be.error("Error al remover suspensin")}},z=async q=>{try{await ua(ot(Ee,"posts",q)),be.success("Publicacin eliminada"),D(),te(),Q()}catch(le){console.error("Error deleting post:",le),be.error("Error al eliminar publicacin")}},P=async q=>{try{const le=ot(Ee,"users",q);await Xn(le,{isAdmin:!0,madeAdminAt:so()}),be.success("Usuario convertido en administrador"),C()}catch(le){console.error("Error making admin:",le),be.error("Error al hacer administrador")}};return y?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-orange-500 border-t-transparent mx-auto mb-4"}),p.jsx("p",{className:"text-orange-700",children:"Cargando panel de administracin..."})]}):p.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Av,{className:"h-8 w-8 text-orange-600"}),p.jsx("h2",{className:"text-orange-700",children:"Panel de Administracin"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[p.jsx(lt,{className:`border-2 border-blue-200 cursor-pointer transition-all hover:scale-105 ${A==="users"&&M==="all"?"ring-2 ring-blue-400":""}`,onClick:()=>{b("users"),U("all")},children:p.jsx(ct,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Mf,{className:"h-5 w-5 text-blue-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Usuarios"}),p.jsx("p",{className:"text-blue-600",children:t?.totalUsers||0})]})]})})}),p.jsx(lt,{className:`border-2 border-green-200 cursor-pointer transition-all hover:scale-105 ${A==="posts"?"ring-2 ring-green-400":""}`,onClick:()=>b("posts"),children:p.jsx(ct,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(M_,{className:"h-5 w-5 text-green-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Publicaciones"}),p.jsx("p",{className:"text-green-600",children:t?.totalPosts||0})]})]})})}),p.jsx(lt,{className:`border-2 border-yellow-200 cursor-pointer transition-all hover:scale-105 ${A==="reports"&&R==="all"?"ring-2 ring-yellow-400":""}`,onClick:()=>{b("reports"),O("all")},children:p.jsx(ct,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ng,{className:"h-5 w-5 text-yellow-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Reportes Totales"}),p.jsx("p",{className:"text-yellow-600",children:t?.totalReports||0})]})]})})}),p.jsx(lt,{className:`border-2 border-red-200 cursor-pointer transition-all hover:scale-105 ${A==="reports"&&R==="pending"?"ring-2 ring-red-400":""}`,onClick:()=>{b("reports"),O("pending")},children:p.jsx(ct,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ng,{className:"h-5 w-5 text-red-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Reportes Pendientes"}),p.jsx("p",{className:"text-red-600",children:t?.pendingReports||0})]})]})})}),p.jsx(lt,{className:`border-2 border-purple-200 cursor-pointer transition-all hover:scale-105 ${A==="users"&&M==="suspended"?"ring-2 ring-purple-400":""}`,onClick:()=>{b("users"),U("suspended")},children:p.jsx(ct,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(tg,{className:"h-5 w-5 text-purple-600"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspendidos"}),p.jsx("p",{className:"text-purple-600",children:t?.suspendedUsers||0})]})]})})})]}),p.jsxs(yv,{value:A,onValueChange:b,className:"w-full",children:[p.jsxs(wv,{className:"grid w-full grid-cols-3",children:[p.jsx(eo,{value:"reports",children:"Reportes"}),p.jsx(eo,{value:"users",children:"Usuarios"}),p.jsx(eo,{value:"posts",children:"Publicaciones"})]}),p.jsx(to,{value:"reports",className:"space-y-4",children:p.jsxs(lt,{className:"border-2 border-orange-200",children:[p.jsx(Zs,{children:p.jsxs(ni,{className:"flex items-center gap-2 text-orange-700",children:[p.jsx(ng,{className:"h-5 w-5"}),"Reportes de Usuarios y Contenido"]})}),p.jsx(ct,{children:o.length===0?p.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No hay reportes"}):p.jsx("div",{className:"space-y-4",children:o.filter(q=>R==="all"||q.status===R).map(q=>p.jsx(lt,{className:"border border-orange-200",children:p.jsxs(ct,{className:"py-4",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>T(E===q.id?null:q.id),children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Uc,{variant:q.status==="pending"?"destructive":q.status==="resolved"?"default":"secondary",children:q.status==="pending"?"Pendiente":q.status==="resolved"?"Resuelto":"Rechazado"}),p.jsxs("div",{children:[p.jsxs("p",{className:"font-medium text-orange-900",children:["Reporte #",q.id.slice(0,6)]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:q.createdAt?.toDate?.().toLocaleDateString()})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-sm font-medium text-orange-800",children:q.type==="user"?"Usuario":"Publicacin"}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Por: ",q.reporter?.name||"Desconocido"]})]})]}),E===q.id&&p.jsxs("div",{className:"mt-4 pt-4 border-t border-orange-100 space-y-4 animate-in fade-in slide-in-from-top-2",children:[p.jsxs("div",{className:"bg-orange-50 p-3 rounded-md",children:[p.jsx("p",{className:"text-sm font-medium text-orange-800 mb-1",children:"Motivo del reporte:"}),p.jsx("p",{className:"text-sm text-orange-700",children:q.reason})]}),q.type==="post"&&q.reported&&p.jsxs("div",{className:"bg-white border border-orange-100 p-3 rounded-md",children:[p.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Contenido reportado:"}),p.jsx("p",{className:"text-sm",children:q.reported.content}),q.reported.imageUrl&&p.jsx("img",{src:q.reported.imageUrl,alt:"Reported content",className:"mt-2 h-32 w-auto rounded-md object-cover"})]}),q.type==="user"&&q.reported&&p.jsxs("div",{className:"flex items-center gap-3 bg-white border border-orange-100 p-3 rounded-md",children:[p.jsxs(Xr,{className:"h-10 w-10",children:[p.jsx(Cs,{src:q.reported.profilePicture}),p.jsx(Jr,{children:q.reported.name?.charAt(0)})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:q.reported.name}),p.jsx("p",{className:"text-xs text-muted-foreground",children:q.reported.email})]})]}),q.status==="pending"&&p.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[q.type==="user"&&p.jsxs(ea,{children:[p.jsx(ml,{asChild:!0,children:p.jsxs(Ue,{size:"sm",variant:"destructive",className:"bg-red-100 text-red-700 hover:bg-red-200 border-red-200",children:[p.jsx(tg,{className:"h-4 w-4 mr-1"}),"Suspender Usuario"]})}),p.jsxs(ta,{children:[p.jsxs(na,{children:[p.jsx(sa,{children:"Suspender usuario reportado?"}),p.jsx(oa,{children:"El usuario ser suspendido y el reporte marcado como resuelto."})]}),p.jsxs(ra,{children:[p.jsx(aa,{children:"Cancelar"}),p.jsx(ia,{onClick:async()=>{await L(q.reportedUserId),await j(q.id,"resolved")},className:"bg-red-600 hover:bg-red-700",children:"Suspender"})]})]})]}),q.type==="post"&&p.jsxs(ea,{children:[p.jsx(ml,{asChild:!0,children:p.jsxs(Ue,{size:"sm",variant:"destructive",className:"bg-red-100 text-red-700 hover:bg-red-200 border-red-200",children:[p.jsx(jf,{className:"h-4 w-4 mr-1"}),"Eliminar Post"]})}),p.jsxs(ta,{children:[p.jsxs(na,{children:[p.jsx(sa,{children:"Eliminar publicacin?"}),p.jsx(oa,{children:"La publicacin ser eliminada permanentemente."})]}),p.jsxs(ra,{children:[p.jsx(aa,{children:"Cancelar"}),p.jsx(ia,{onClick:async()=>{await z(q.reportedPostId),await j(q.id,"resolved")},className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})]}),p.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>j(q.id,"rejected"),children:"Rechazar Reporte"})]})]})]})},q.id))})})]})}),p.jsx(to,{value:"users",className:"space-y-4",children:p.jsxs(lt,{className:"border-2 border-orange-200",children:[p.jsx(Zs,{children:p.jsxs(ni,{className:"flex items-center gap-2 text-orange-700",children:[p.jsx(Mf,{className:"h-5 w-5"}),"Gestin de Usuarios"]})}),p.jsx(ct,{children:p.jsx("div",{className:"space-y-2",children:l.filter(q=>M==="all"||M==="suspended"&&q.suspended).map(q=>p.jsx(lt,{className:"border border-orange-200",children:p.jsxs(ct,{className:"flex items-center justify-between py-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs(Xr,{className:"h-10 w-10 border-2 border-orange-300",children:[q.profilePicture&&p.jsx(Cs,{src:q.profilePicture,alt:q.name}),p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white",children:q.name?.charAt(0)||"U"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-orange-700 cursor-pointer hover:underline",onClick:()=>e(q.id),children:q.name}),p.jsx("p",{className:"text-xs text-muted-foreground",children:q.email})]}),p.jsxs("div",{className:"flex gap-1",children:[q.isAdmin&&p.jsx(Uc,{variant:"secondary",children:"Admin"}),q.suspended&&p.jsx(Uc,{variant:"destructive",children:"Suspendido"}),q.deactivated&&p.jsx(Uc,{variant:"outline",children:"Desactivado"})]})]}),p.jsxs("div",{className:"flex gap-2",children:[!q.isAdmin&&p.jsxs(Ue,{size:"sm",variant:"outline",onClick:()=>P(q.id),className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[p.jsx(AD,{className:"h-4 w-4 mr-1"}),"Hacer Admin"]}),q.suspended?p.jsxs(Ue,{size:"sm",variant:"outline",onClick:()=>F(q.id),className:"border-green-300 text-green-700 hover:bg-green-50",children:[p.jsx(K2,{className:"h-4 w-4 mr-1"}),"Reactivar"]}):p.jsxs(ea,{children:[p.jsx(ml,{asChild:!0,children:p.jsxs(Ue,{size:"sm",variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",children:[p.jsx(tg,{className:"h-4 w-4 mr-1"}),"Suspender"]})}),p.jsxs(ta,{children:[p.jsxs(na,{children:[p.jsxs(sa,{children:["Suspender a ",q.name,"?"]}),p.jsx(oa,{children:"El usuario ser suspendido y no podr acceder a su cuenta."})]}),p.jsxs(ra,{children:[p.jsx(aa,{children:"Cancelar"}),p.jsx(ia,{onClick:()=>L(q.id),className:"bg-red-600 hover:bg-red-700",children:"Suspender"})]})]})]})]})]})},q.id))})})]})}),p.jsx(to,{value:"posts",className:"space-y-4",children:p.jsxs(lt,{className:"border-2 border-orange-200",children:[p.jsx(Zs,{children:p.jsxs(ni,{className:"flex items-center gap-2 text-orange-700",children:[p.jsx(M_,{className:"h-5 w-5"}),"Gestin de Publicaciones"]})}),p.jsx(ct,{children:f.length===0?p.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No hay publicaciones"}):p.jsx("div",{className:"space-y-4",children:f.map(q=>p.jsx(lt,{className:"border border-orange-200",children:p.jsx(ct,{className:"p-4",children:p.jsxs("div",{className:"flex gap-4",children:[q.imageUrl&&p.jsx("img",{src:q.imageUrl,alt:"Post content",className:"h-24 w-24 object-cover rounded-md bg-gray-100"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-orange-900",children:q.authorName||"Usuario desconocido"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:q.createdAt?.toDate?.().toLocaleDateString()||"Fecha desconocida"})]}),p.jsxs(ea,{children:[p.jsx(ml,{asChild:!0,children:p.jsxs(Ue,{size:"sm",variant:"destructive",className:"h-8 bg-red-100 text-red-700 hover:bg-red-200 border-red-200",children:[p.jsx(jf,{className:"h-4 w-4 mr-1"}),"Eliminar"]})}),p.jsxs(ta,{children:[p.jsxs(na,{children:[p.jsx(sa,{children:"Eliminar publicacin?"}),p.jsx(oa,{children:"Esta accin no se puede deshacer."})]}),p.jsxs(ra,{children:[p.jsx(aa,{children:"Cancelar"}),p.jsx(ia,{onClick:()=>z(q.id),className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})]})]}),p.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:q.content}),p.jsxs("div",{className:"mt-2 flex gap-4 text-xs text-muted-foreground",children:[p.jsxs("span",{children:[" ",q.likesCount||0]}),p.jsxs("span",{children:[" ",q.commentsCount||0]}),p.jsxs("span",{children:[" ",q.sharesCount||0]})]})]})]})})},q.id))})})]})})]})]})}function i$({postId:n,onClose:e}){const[t,r]=w.useState([]),[o,a]=w.useState(""),[l,u]=w.useState(!1);w.useEffect(()=>{if(!n)return;const y=Zt(Je(Ee,"posts",n,"comments"),Zh("createdAt","asc")),g=Qb(y,E=>{const T=E.docs.map(A=>({id:A.id,...A.data()}));r(T)},E=>{console.error("Error loading comments:",E)});return()=>g()},[n]);const f=async y=>{if(y.preventDefault(),!(!o.trim()||!Qn.currentUser)){u(!0);try{const g=await bn(ot(Ee,"users",Qn.currentUser.uid)),E=g.exists()?g.data().name:"Usuario",T=g.exists()?g.data().profilePicture:"";await ci(Je(Ee,"posts",n,"comments"),{content:o.trim(),authorId:Qn.currentUser.uid,authorName:E,authorPhoto:T,createdAt:so()});const A=ot(Ee,"posts",n);await Xn(A,{commentsCount:Vc(1)});const b=await bn(A),R=b.exists()?b.data().userId:null;R&&R!==Qn.currentUser.uid&&await ph({toUserId:R,type:"comment",fromUserId:Qn.currentUser.uid,fromUserName:E,postId:n}),a("")}catch(g){console.error("Error creating comment:",g)}finally{u(!1)}}},m=y=>{if(!y)return"";const g=y.toDate(),T=new Date().getTime()-g.getTime(),A=Math.floor(T/6e4),b=Math.floor(T/36e5);return A<1?"Ahora":A<60?`Hace ${A}m`:b<24?`Hace ${b}h`:g.toLocaleDateString()};return p.jsx(Lf,{open:!!n,onOpenChange:y=>!y&&e(),children:p.jsxs(Zc,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[p.jsxs(Vf,{children:[p.jsx(Ff,{children:"Comentarios"}),p.jsx(Uf,{children:"Lee y escribe comentarios en esta publicacin"})]}),p.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:t.length===0?p.jsx("p",{className:"text-center text-muted-foreground",children:"No hay comentarios an"}):t.map(y=>p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Xr,{className:"h-8 w-8 border-2 border-orange-300",children:y.authorPhoto?p.jsx(Cs,{src:y.authorPhoto,alt:y.authorName}):p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white",children:y.authorName?.charAt(0)||"U"})}),p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-sm text-orange-700",children:y.authorName}),p.jsx("span",{className:"text-xs text-muted-foreground",children:m(y.createdAt)})]}),p.jsx("p",{className:"text-sm",children:y.content})]})})]},y.id))}),p.jsxs("form",{onSubmit:f,className:"flex gap-2 border-t pt-4",children:[p.jsx(Nl,{placeholder:"Escribe un comentario...",value:o,onChange:y=>a(y.target.value),className:"resize-none border-orange-200 focus:border-orange-400",rows:2}),p.jsx(Ue,{type:"submit",disabled:l||!o.trim(),className:"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600",children:p.jsx(_T,{className:"h-4 w-4"})})]})]})})}var a$=(n,e,t,r,o,a,l,u)=>{let f=document.documentElement,m=["light","dark"];function y(T){(Array.isArray(n)?n:[n]).forEach(A=>{let b=A==="class",R=b&&a?o.map(O=>a[O]||O):o;b?(f.classList.remove(...R),f.classList.add(a&&a[T]?a[T]:T)):f.setAttribute(A,T)}),g(T)}function g(T){u&&m.includes(T)&&(f.style.colorScheme=T)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)y(r);else try{let T=localStorage.getItem(e)||t,A=l&&T==="system"?E():T;y(A)}catch{}},l$=w.createContext(void 0),c$={setTheme:n=>{},themes:[]},u$=()=>{var n;return(n=w.useContext(l$))!=null?n:c$};w.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:l,themes:u,nonce:f,scriptProps:m})=>{let y=JSON.stringify([t,e,a,n,u,l,r,o]).slice(1,-1);return w.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${a$.toString()})(${y})`}})});function OE({...n}){const{theme:e="system"}=u$();return p.jsx(dO,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})}function d$(){const[n,e]=w.useState(null),[t,r]=w.useState(null),[o,a]=w.useState([]),[l,u]=w.useState([]),[f,m]=w.useState([]),[y,g]=w.useState([]),[E,T]=w.useState(!0),[A,b]=w.useState(null),[R,O]=w.useState("users"),[M,U]=w.useState(null),[H,Q]=w.useState([]),te=cv();w.useEffect(()=>{const N=oL(Qn,async G=>{if(G)try{const oe=ot(Ee,"users",G.uid),$=await bn(oe);$.exists()&&$.data().suspended?(await Dg(Qn),e(null),r(null),be.error("CUENTA SUSPENDIDA: Tu cuenta ha sido suspendida por violar las normas.",{duration:1e4,action:{label:"Entendido",onClick:()=>console.log("Undo")}})):(e(G),$.exists()&&r({id:$.id,...$.data()}))}catch(oe){console.error("Error checking suspension:",oe),e(G),await D(G.uid)}else e(null),r(null);T(!1)});return()=>N()},[]),w.useEffect(()=>{n&&C()},[n]);const D=async N=>{try{const G=await bn(ot(Ee,"users",N));G.exists()&&r({id:G.id,...G.data()})}catch(G){console.error("Error loading profile:",G)}},C=async()=>{if(n)try{const N=Zt(Je(Ee,"posts"),Zh("createdAt","desc"),x5(50)),G=await ft(N),oe=[];for(const $ of G.docs){const Z={id:$.id,...$.data()};if(Z.userId){const ie=await bn(ot(Ee,"users",Z.userId));Z.author=ie.exists()?ie.data():null}const re=Zt(Je(Ee,"posts",$.id,"likes"),an("userId","==",n.uid)),fe=await ft(re);Z.isLiked=!fe.empty;const ye=Zt(Je(Ee,"posts",$.id,"shares"),an("userId","==",n.uid)),Se=await ft(ye);Z.isShared=!Se.empty,oe.push(Z)}a(oe)}catch(N){console.error("Error loading feed:",N)}},j=async(N,G)=>{if(n)try{if(G==="users"){const $=(await ft(Je(Ee,"users"))).docs.map(Z=>({id:Z.id,...Z.data()})).filter(Z=>Z.name?.toLowerCase().includes(N.toLowerCase())||Z.email?.toLowerCase().includes(N.toLowerCase()));u($),O("users"),te("/search")}else{const oe=await ft(Je(Ee,"posts")),$=[];for(const Z of oe.docs){const re={id:Z.id,...Z.data()};if(re.content?.toLowerCase().includes(N.toLowerCase())){if(re.userId){const fe=await bn(ot(Ee,"users",re.userId));re.author=fe.exists()?fe.data():null}$.push(re)}}a($),O("posts"),te("/search")}}catch(oe){console.error("Error searching:",oe)}},L=async()=>{if(n)try{const N=Zt(Je(Ee,"follows"),an("followerId","==",n.uid)),G=await ft(N),oe=[];for(const $ of G.docs){const Z=$.data(),re=await bn(ot(Ee,"users",Z.followingId));re.exists()&&oe.push({id:re.id,...re.data()})}m(oe)}catch(N){console.error("Error loading following:",N)}},F=async()=>{try{await Qn.signOut(),e(null),r(null),a([]),te("/")}catch(N){console.error("Error logging out:",N)}},z=async()=>{if(n)try{const N=await ft(Je(Ee,"users")),G=Zt(Je(Ee,"follows"),an("followerId","==",n.uid)),$=(await ft(G)).docs.map(re=>re.data().followingId),Z=N.docs.map(re=>({id:re.id,...re.data()})).filter(re=>re.id!==n.uid&&!$.includes(re.id)).slice(0,10);g(Z)}catch(N){console.error("Error loading recommendations:",N)}},P=async N=>{if(n)try{const G=N.startsWith("#")?N.substring(1):N,oe=await ft(Je(Ee,"posts")),$=[];for(const Z of oe.docs){const re={id:Z.id,...Z.data()};if(re.content?.toLowerCase().includes(`#${G.toLowerCase()}`)){if(re.userId){const fe=await bn(ot(Ee,"users",re.userId));re.author=fe.exists()?fe.data():null}$.push(re)}}a($),U(`#${G}`),te(`/hashtag/${G}`)}catch(G){console.error("Error loading hashtag posts:",G)}},q=N=>{te(`/profile/${N}`)};if(E)return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-100 via-yellow-50 to-amber-100",children:[p.jsx("img",{src:"/Dog chasing tail.gif",alt:"Perro persiguiendo su cola",className:"loader-gif"}),p.jsx("div",{className:"cargando-texto",children:p.jsx("p",{children:"Cargando..."})})]});function le(){const{userId:N}=LA();return p.jsx(Q9,{userId:N||n?.uid,isOwnProfile:!N||N===n?.uid,onCommentClick:b})}function K(){return w.useEffect(()=>{L()},[]),p.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[p.jsx("h2",{className:"text-orange-700",children:"Siguiendo"}),f.length===0?p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsx(ct,{className:"py-8 text-center text-muted-foreground",children:"No sigues a nadie an"})}):f.map(N=>p.jsx(lt,{className:"border-2 border-orange-200 hover:border-orange-300 cursor-pointer transition-colors",onClick:()=>q(N.id),children:p.jsxs(ct,{className:"flex items-center gap-4 py-4",children:[p.jsxs(Xr,{className:"h-12 w-12 border-2 border-orange-300",children:[N.profilePicture&&p.jsx(Cs,{src:N.profilePicture,alt:N.name}),p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white",children:N.name?.charAt(0)||"U"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-orange-700",children:N.name}),N.petName&&p.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.petName," ",N.petType&&`(${N.petType})`]})]})]})},N.id))]})}function J(){return w.useEffect(()=>{z()},[]),p.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[p.jsx("h2",{className:"text-orange-700",children:"Descubre usuarios nuevos"}),p.jsx("p",{className:"text-muted-foreground",children:"Usuarios recomendados que podras seguir"}),y.length===0?p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsx(ct,{className:"py-8 text-center text-muted-foreground",children:"No hay recomendaciones disponibles"})}):y.map(N=>p.jsx(lt,{className:"border-2 border-orange-200 hover:border-orange-300 cursor-pointer transition-colors",onClick:()=>q(N.id),children:p.jsxs(ct,{className:"flex items-center gap-4 py-4",children:[p.jsxs(Xr,{className:"h-12 w-12 border-2 border-orange-300",children:[N.profilePicture&&p.jsx(Cs,{src:N.profilePicture,alt:N.name}),p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white",children:N.name?.charAt(0)||"U"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-orange-700",children:N.name}),N.petName&&p.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.petName," ",N.petType&&`(${N.petType})`]}),N.bio&&p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.bio})]})]})},N.id))]})}return n?p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-yellow-50 to-amber-50",children:[p.jsx(J6,{userName:t?.name||"Usuario",userProfilePicture:t?.profilePicture,onSearch:j,onLogout:F,currentUserId:n?.uid,isAdmin:t?.isAdmin||!1}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6",children:p.jsxs(JA,{children:[p.jsx(Gr,{path:"/",element:p.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[p.jsx(Z6,{userName:t?.name||"Usuario",userProfilePicture:t?.profilePicture,onPostCreated:C}),o.length===0?p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsx(ct,{className:"py-8 text-center text-muted-foreground",children:"No hay publicaciones an. S el primero en publicar!"})}):o.map(N=>p.jsx(Pf,{post:N,currentUserId:n.uid,onDelete:C,onComment:b,onHashtagClick:P,onUserClick:q},N.id))]})}),p.jsx(Gr,{path:"/search",element:p.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[p.jsx("h2",{className:"text-orange-700",children:R==="users"?"Usuarios encontrados":"Publicaciones encontradas"}),R==="users"?l.length===0?p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsx(ct,{className:"py-8 text-center text-muted-foreground",children:"No se encontraron usuarios"})}):l.map(N=>p.jsx(lt,{className:"border-2 border-orange-200 hover:border-orange-300 cursor-pointer transition-colors",onClick:()=>q(N.id),children:p.jsxs(ct,{className:"flex items-center gap-4 py-4",children:[p.jsxs(Xr,{className:"h-12 w-12 border-2 border-orange-300",children:[N.profilePicture&&p.jsx(Cs,{src:N.profilePicture,alt:N.name}),p.jsx(Jr,{className:"bg-gradient-to-br from-orange-400 to-amber-400 text-white",children:N.name?.charAt(0)||"U"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-orange-700",children:N.name}),N.petName&&p.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.petName," ",N.petType&&`(${N.petType})`]})]})]})},N.id)):o.length===0?p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsx(ct,{className:"py-8 text-center text-muted-foreground",children:"No se encontraron publicaciones"})}):o.map(N=>p.jsx(Pf,{post:N,currentUserId:n.uid,onDelete:C,onComment:b,onHashtagClick:P,onUserClick:q},N.id))]})}),p.jsx(Gr,{path:"/profile",element:p.jsx(le,{})}),p.jsx(Gr,{path:"/profile/:userId",element:p.jsx(le,{})}),p.jsx(Gr,{path:"/notifications",element:p.jsx(Y9,{user:n,onNotificationClick:N=>{N.postId?b(N.postId):N.fromUserId&&q(N.fromUserId)}})}),p.jsx(Gr,{path:"/following",element:p.jsx(K,{})}),p.jsx(Gr,{path:"/discover",element:p.jsx(J,{})}),p.jsx(Gr,{path:"/hashtag/:hashtag",element:p.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h2",{className:"text-orange-700",children:["Publicaciones con ",M]}),p.jsx("button",{className:"text-orange-700 hover:bg-orange-100 px-4 py-2 rounded",onClick:()=>te("/"),children:"Volver al feed"})]}),o.length===0?p.jsx(lt,{className:"border-2 border-orange-200",children:p.jsx(ct,{className:"py-8 text-center text-muted-foreground",children:"No hay publicaciones con este hashtag"})}):o.map(N=>p.jsx(Pf,{post:N,currentUserId:n.uid,onDelete:()=>P(M||""),onComment:b,onHashtagClick:P,onUserClick:q},N.id))]})}),p.jsx(Gr,{path:"/settings",element:p.jsx(s$,{onAccountDeleted:F,onUserClick:q})}),p.jsx(Gr,{path:"/admin",element:t?.isAdmin?p.jsx(o$,{currentUserId:n.uid,onUserClick:q}):p.jsx("div",{className:"text-center py-8 text-orange-700",children:"Acceso denegado"})})]})}),p.jsx(i$,{postId:A,onClose:()=>b(null)}),p.jsx(OE,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(b5,{onSuccess:N=>{e(N),D(N.uid)}}),p.jsx(OE,{})]})}oA.createRoot(document.getElementById("root")).render(p.jsx(xP,{children:p.jsx(d$,{})}));
